function makeMap(t,e){const s=Object.create(null),a=t.split(",");for(let f=0;f<a.length;f++)s[a[f]]=!0;return e?f=>!!s[f.toLowerCase()]:f=>!!s[f]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function normalizeStyle(t){if(isArray(t)){const e={};for(let s=0;s<t.length;s++){const a=t[s],f=isString(a)?parseStringStyle(a):normalizeStyle(a);if(f)for(const d in f)e[d]=f[d]}return e}else{if(isString(t))return t;if(isObject(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(t){const e={};return t.split(listDelimiterRE).forEach(s=>{if(s){const a=s.split(propertyDelimiterRE);a.length>1&&(e[a[0].trim()]=a[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray(t))for(let s=0;s<t.length;s++){const a=normalizeClass(t[s]);a&&(e+=a+" ")}else if(isObject(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:s}=t;return e&&!isString(e)&&(t.class=normalizeClass(e)),s&&(t.style=normalizeStyle(s)),t}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let s=!0;for(let a=0;s&&a<t.length;a++)s=looseEqual(t[a],e[a]);return s}function looseEqual(t,e){if(t===e)return!0;let s=isDate(t),a=isDate(e);if(s||a)return s&&a?t.getTime()===e.getTime():!1;if(s=isArray(t),a=isArray(e),s||a)return s&&a?looseCompareArrays(t,e):!1;if(s=isObject(t),a=isObject(e),s||a){if(!s||!a)return!1;const f=Object.keys(t).length,d=Object.keys(e).length;if(f!==d)return!1;for(const _ in t){const v=t.hasOwnProperty(_),E=e.hasOwnProperty(_);if(v&&!E||!v&&E||!looseEqual(t[_],e[_]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(s=>looseEqual(s,e))}const toDisplayString=t=>t==null?"":isArray(t)||isObject(t)&&(t.toString===objectToString||!isFunction(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[a,f])=>(s[`${a} =>`]=f,s),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject(e)&&!isArray(e)&&!isPlainObject(e)?String(e):e,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty.call(t,e),isArray=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isDate=t=>t instanceof Date,isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject=t=>t!==null&&typeof t=="object",isPromise=t=>isObject(t)&&isFunction(t.then)&&isFunction(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},def=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;const effectScopeStack=[];class EffectScope{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(effectScopeStack.push(this),activeEffectScope=this)}off(){this.active&&(effectScopeStack.pop(),activeEffectScope=effectScopeStack[effectScopeStack.length-1])}stop(e){if(this.active){if(this.effects.forEach(s=>s.stop()),this.cleanups.forEach(s=>s()),this.scopes&&this.scopes.forEach(s=>s.stop(!0)),this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e){e=e||activeEffectScope,e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let s=0;for(let a=0;a<e.length;a++){const f=e[a];wasTracked(f)&&!newTracked(f)?f.delete(t):e[s++]=f,f.w&=~trackOpBit,f.n&=~trackOpBit}e.length=s}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30,effectStack=[];let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,s=null,a){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],recordEffectScope(this,a)}run(){if(!this.active)return this.fn();if(!effectStack.includes(this))try{return effectStack.push(activeEffect=this),enableTracking(),trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,resetTracking(),effectStack.pop();const e=effectStack.length;activeEffect=e>0?effectStack[e-1]:void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}function effect(t,e){t.effect&&(t=t.effect.fn);const s=new ReactiveEffect(t);e&&(extend(s,e),e.scope&&recordEffectScope(s,e.scope)),(!e||!e.lazy)&&s.run();const a=s.run.bind(s);return a.effect=s,a}function stop(t){t.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,s){if(!isTracking())return;let a=targetMap.get(t);a||targetMap.set(t,a=new Map);let f=a.get(s);f||a.set(s,f=createDep()),trackEffects(f)}function isTracking(){return shouldTrack&&activeEffect!==void 0}function trackEffects(t,e){let s=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,s=!wasTracked(t)):s=!t.has(activeEffect),s&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger$1(t,e,s,a,f,d){const _=targetMap.get(t);if(!_)return;let v=[];if(e==="clear")v=[..._.values()];else if(s==="length"&&isArray(t))_.forEach((E,C)=>{(C==="length"||C>=a)&&v.push(E)});else switch(s!==void 0&&v.push(_.get(s)),e){case"add":isArray(t)?isIntegerKey(s)&&v.push(_.get("length")):(v.push(_.get(ITERATE_KEY)),isMap(t)&&v.push(_.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(t)||(v.push(_.get(ITERATE_KEY)),isMap(t)&&v.push(_.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&v.push(_.get(ITERATE_KEY));break}if(v.length===1)v[0]&&triggerEffects(v[0]);else{const E=[];for(const C of v)C&&E.push(...C);triggerEffects(createDep(E))}}function triggerEffects(t,e){for(const s of isArray(t)?t:[...t])(s!==activeEffect||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const a=toRaw(this);for(let d=0,_=this.length;d<_;d++)track(a,"get",d+"");const f=a[e](...s);return f===-1||f===!1?a[e](...s.map(toRaw)):f}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){pauseTracking();const a=toRaw(this)[e].apply(this,s);return resetTracking(),a}}),t}function createGetter(t=!1,e=!1){return function(a,f,d){if(f==="__v_isReactive")return!t;if(f==="__v_isReadonly")return t;if(f==="__v_raw"&&d===(t?e?shallowReadonlyMap:readonlyMap:e?shallowReactiveMap:reactiveMap).get(a))return a;const _=isArray(a);if(!t&&_&&hasOwn(arrayInstrumentations,f))return Reflect.get(arrayInstrumentations,f,d);const v=Reflect.get(a,f,d);return(isSymbol(f)?builtInSymbols.has(f):isNonTrackableKeys(f))||(t||track(a,"get",f),e)?v:isRef(v)?!_||!isIntegerKey(f)?v.value:v:isObject(v)?t?readonly(v):reactive(v):v}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(s,a,f,d){let _=s[a];if(!t&&!isReadonly(f)&&(f=toRaw(f),_=toRaw(_),!isArray(s)&&isRef(_)&&!isRef(f)))return _.value=f,!0;const v=isArray(s)&&isIntegerKey(a)?Number(a)<s.length:hasOwn(s,a),E=Reflect.set(s,a,f,d);return s===toRaw(d)&&(v?hasChanged(f,_)&&trigger$1(s,"set",a,f):trigger$1(s,"add",a,f)),E}}function deleteProperty(t,e){const s=hasOwn(t,e);t[e];const a=Reflect.deleteProperty(t,e);return a&&s&&trigger$1(t,"delete",e,void 0),a}function has(t,e){const s=Reflect.has(t,e);return(!isSymbol(e)||!builtInSymbols.has(e))&&track(t,"has",e),s}function ownKeys(t){return track(t,"iterate",isArray(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(t,e){return!0},deleteProperty(t,e){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1(t,e,s=!1,a=!1){t=t.__v_raw;const f=toRaw(t),d=toRaw(e);e!==d&&!s&&track(f,"get",e),!s&&track(f,"get",d);const{has:_}=getProto(f),v=a?toShallow:s?toReadonly:toReactive;if(_.call(f,e))return v(t.get(e));if(_.call(f,d))return v(t.get(d));t!==f&&t.get(e)}function has$1(t,e=!1){const s=this.__v_raw,a=toRaw(s),f=toRaw(t);return t!==f&&!e&&track(a,"has",t),!e&&track(a,"has",f),t===f?s.has(t):s.has(t)||s.has(f)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const e=toRaw(this);return getProto(e).has.call(e,t)||(e.add(t),trigger$1(e,"add",t,t)),this}function set$1(t,e){e=toRaw(e);const s=toRaw(this),{has:a,get:f}=getProto(s);let d=a.call(s,t);d||(t=toRaw(t),d=a.call(s,t));const _=f.call(s,t);return s.set(t,e),d?hasChanged(e,_)&&trigger$1(s,"set",t,e):trigger$1(s,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:s,get:a}=getProto(e);let f=s.call(e,t);f||(t=toRaw(t),f=s.call(e,t)),a&&a.call(e,t);const d=e.delete(t);return f&&trigger$1(e,"delete",t,void 0),d}function clear(){const t=toRaw(this),e=t.size!==0,s=t.clear();return e&&trigger$1(t,"clear",void 0,void 0),s}function createForEach(t,e){return function(a,f){const d=this,_=d.__v_raw,v=toRaw(_),E=e?toShallow:t?toReadonly:toReactive;return!t&&track(v,"iterate",ITERATE_KEY),_.forEach((C,O)=>a.call(f,E(C),E(O),d))}}function createIterableMethod(t,e,s){return function(...a){const f=this.__v_raw,d=toRaw(f),_=isMap(d),v=t==="entries"||t===Symbol.iterator&&_,E=t==="keys"&&_,C=f[t](...a),O=s?toShallow:e?toReadonly:toReactive;return!e&&track(d,"iterate",E?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:T,done:N}=C.next();return N?{value:T,done:N}:{value:v?[O(T[0]),O(T[1])]:O(T),done:N}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(d){return get$1(this,d)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(d){return get$1(this,d,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},s={get(d){return get$1(this,d,!0)},get size(){return size(this,!0)},has(d){return has$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(d){return get$1(this,d,!0,!0)},get size(){return size(this,!0)},has(d){return has$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{t[d]=createIterableMethod(d,!1,!1),s[d]=createIterableMethod(d,!0,!1),e[d]=createIterableMethod(d,!1,!0),a[d]=createIterableMethod(d,!0,!0)}),[t,s,e,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const s=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(a,f,d)=>f==="__v_isReactive"?!t:f==="__v_isReadonly"?t:f==="__v_raw"?a:Reflect.get(hasOwn(s,f)&&f in a?s:a,f,d)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return t&&t.__v_isReadonly?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,s,a,f){if(!isObject(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const d=f.get(t);if(d)return d;const _=getTargetType(t);if(_===0)return t;const v=new Proxy(t,_===2?a:s);return f.set(t,v),v}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject(t)?reactive(t):t,toReadonly=t=>isObject(t)?readonly(t):t;function trackRefValue(t){isTracking()&&(t=toRaw(t),t.dep||(t.dep=createDep()),trackEffects(t.dep))}function triggerRefValue(t,e){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return Boolean(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,s){this._shallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:toRaw(e),this._value=s?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){e=this._shallow?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:toReactive(e),triggerRefValue(this))}}function triggerRef(t){triggerRefValue(t)}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,s)=>unref(Reflect.get(t,e,s)),set:(t,e,s,a)=>{const f=t[e];return isRef(f)&&!isRef(s)?(f.value=s,!0):Reflect.set(t,e,s,a)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:a}=e(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=s,this._set=a}get value(){return this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray(t)?new Array(t.length):{};for(const s in t)e[s]=toRef(t,s);return e}class ObjectRefImpl{constructor(e,s,a){this._object=e,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function toRef(t,e,s){const a=t[e];return isRef(a)?a:new ObjectRefImpl(t,e,s)}class ComputedRefImpl{constructor(e,s,a){this._setter=s,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.__v_isReadonly=a}get value(){const e=toRaw(this);return trackRefValue(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed(t,e){let s,a;const f=isFunction(t);return f?(s=t,a=NOOP):(s=t.get,a=t.set),new ComputedRefImpl(s,a,f||!a)}Promise.resolve();let devtools,buffer=[];function setDevtoolsHook(t,e){var s,a;devtools=t,devtools?(devtools.enabled=!0,buffer.forEach(({event:f,args:d})=>devtools.emit(f,...d)),buffer=[]):typeof window!="undefined"&&window.HTMLElement&&!((a=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||a===void 0?void 0:a.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(d=>{setDevtoolsHook(d,e)}),setTimeout(()=>{devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}function emit$1(t,e,...s){const a=t.vnode.props||EMPTY_OBJ;let f=s;const d=e.startsWith("update:"),_=d&&e.slice(7);if(_&&_ in a){const O=`${_==="modelValue"?"model":_}Modifiers`,{number:T,trim:N}=a[O]||EMPTY_OBJ;N?f=s.map(r=>r.trim()):T&&(f=s.map(toNumber))}let v,E=a[v=toHandlerKey(e)]||a[v=toHandlerKey(camelize(e))];!E&&d&&(E=a[v=toHandlerKey(hyphenate(e))]),E&&callWithAsyncErrorHandling(E,t,6,f);const C=a[v+"Once"];if(C){if(!t.emitted)t.emitted={};else if(t.emitted[v])return;t.emitted[v]=!0,callWithAsyncErrorHandling(C,t,6,f)}}function normalizeEmitsOptions(t,e,s=!1){const a=e.emitsCache,f=a.get(t);if(f!==void 0)return f;const d=t.emits;let _={},v=!1;if(!isFunction(t)){const E=C=>{const O=normalizeEmitsOptions(C,e,!0);O&&(v=!0,extend(_,O))};!s&&e.mixins.length&&e.mixins.forEach(E),t.extends&&E(t.extends),t.mixins&&t.mixins.forEach(E)}return!d&&!v?(a.set(t,null),null):(isArray(d)?d.forEach(E=>_[E]=null):extend(_,d),a.set(t,_),_)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}const withScopeId=t=>withCtx;function withCtx(t,e=currentRenderingInstance,s){if(!e||t._n)return t;const a=(...f)=>{a._d&&setBlockTracking(-1);const d=setCurrentRenderingInstance(e),_=t(...f);return setCurrentRenderingInstance(d),a._d&&setBlockTracking(1),_};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:s,proxy:a,withProxy:f,props:d,propsOptions:[_],slots:v,attrs:E,emit:C,render:O,renderCache:T,data:N,setupState:r,ctx:b,inheritAttrs:B}=t;let w,K;const U=setCurrentRenderingInstance(t);try{if(s.shapeFlag&4){const F=f||a;w=normalizeVNode(O.call(F,F,T,d,r,N,b)),K=E}else{const F=e;w=normalizeVNode(F.length>1?F(d,{attrs:E,slots:v,emit:C}):F(d,null)),K=e.props?E:getFunctionalFallthrough(E)}}catch(F){blockStack.length=0,handleError(F,t,1),w=createVNode(Comment)}let H=w;if(K&&B!==!1){const F=Object.keys(K),{shapeFlag:ee}=H;F.length&&ee&(1|6)&&(_&&F.some(isModelListener)&&(K=filterModelListeners(K,_)),H=cloneVNode(H,K))}return s.dirs&&(H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&(H.transition=s.transition),w=H,setCurrentRenderingInstance(U),w}function filterSingleRoot(t){let e;for(let s=0;s<t.length;s++){const a=t[s];if(isVNode(a)){if(a.type!==Comment||a.children==="v-if"){if(e)return;e=a}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const s in t)(s==="class"||s==="style"||isOn(s))&&((e||(e={}))[s]=t[s]);return e},filterModelListeners=(t,e)=>{const s={};for(const a in t)(!isModelListener(a)||!(a.slice(9)in e))&&(s[a]=t[a]);return s};function shouldUpdateComponent(t,e,s){const{props:a,children:f,component:d}=t,{props:_,children:v,patchFlag:E}=e,C=d.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&E>=0){if(E&1024)return!0;if(E&16)return a?hasPropsChanged(a,_,C):!!_;if(E&8){const O=e.dynamicProps;for(let T=0;T<O.length;T++){const N=O[T];if(_[N]!==a[N]&&!isEmitListener(C,N))return!0}}}else return(f||v)&&(!v||!v.$stable)?!0:a===_?!1:a?_?hasPropsChanged(a,_,C):!0:!!_;return!1}function hasPropsChanged(t,e,s){const a=Object.keys(e);if(a.length!==Object.keys(t).length)return!0;for(let f=0;f<a.length;f++){const d=a[f];if(e[d]!==t[d]&&!isEmitListener(s,d))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,s,a,f,d,_,v,E,C){t==null?mountSuspense(e,s,a,f,d,_,v,E,C):patchSuspense(t,e,s,a,f,_,v,E,C)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const s=t.props&&t.props[e];isFunction(s)&&s()}function mountSuspense(t,e,s,a,f,d,_,v,E){const{p:C,o:{createElement:O}}=E,T=O("div"),N=t.suspense=createSuspenseBoundary(t,f,a,e,T,s,d,_,v,E);C(null,N.pendingBranch=t.ssContent,T,null,a,N,d,_),N.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),C(null,t.ssFallback,e,s,a,null,d,_),setActiveBranch(N,t.ssFallback)):N.resolve()}function patchSuspense(t,e,s,a,f,d,_,v,{p:E,um:C,o:{createElement:O}}){const T=e.suspense=t.suspense;T.vnode=e,e.el=t.el;const N=e.ssContent,r=e.ssFallback,{activeBranch:b,pendingBranch:B,isInFallback:w,isHydrating:K}=T;if(B)T.pendingBranch=N,isSameVNodeType(N,B)?(E(B,N,T.hiddenContainer,null,f,T,d,_,v),T.deps<=0?T.resolve():w&&(E(b,r,s,a,f,null,d,_,v),setActiveBranch(T,r))):(T.pendingId++,K?(T.isHydrating=!1,T.activeBranch=B):C(B,f,T),T.deps=0,T.effects.length=0,T.hiddenContainer=O("div"),w?(E(null,N,T.hiddenContainer,null,f,T,d,_,v),T.deps<=0?T.resolve():(E(b,r,s,a,f,null,d,_,v),setActiveBranch(T,r))):b&&isSameVNodeType(N,b)?(E(b,N,s,a,f,T,d,_,v),T.resolve(!0)):(E(null,N,T.hiddenContainer,null,f,T,d,_,v),T.deps<=0&&T.resolve()));else if(b&&isSameVNodeType(N,b))E(b,N,s,a,f,T,d,_,v),setActiveBranch(T,N);else if(triggerEvent(e,"onPending"),T.pendingBranch=N,T.pendingId++,E(null,N,T.hiddenContainer,null,f,T,d,_,v),T.deps<=0)T.resolve();else{const{timeout:U,pendingId:H}=T;U>0?setTimeout(()=>{T.pendingId===H&&T.fallback(r)},U):U===0&&T.fallback(r)}}function createSuspenseBoundary(t,e,s,a,f,d,_,v,E,C,O=!1){const{p:T,m:N,um:r,n:b,o:{parentNode:B,remove:w}}=C,K=toNumber(t.props&&t.props.timeout),U={vnode:t,parent:e,parentComponent:s,isSVG:_,container:a,hiddenContainer:f,anchor:d,deps:0,pendingId:0,timeout:typeof K=="number"?K:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:O,isUnmounted:!1,effects:[],resolve(H=!1){const{vnode:F,activeBranch:ee,pendingBranch:q,pendingId:W,effects:V,parentComponent:ae,container:se}=U;if(U.isHydrating)U.isHydrating=!1;else if(!H){const te=ee&&q.transition&&q.transition.mode==="out-in";te&&(ee.transition.afterLeave=()=>{W===U.pendingId&&N(q,se,Ee,0)});let{anchor:Ee}=U;ee&&(Ee=b(ee),r(ee,ae,U,!0)),te||N(q,se,Ee,0)}setActiveBranch(U,q),U.pendingBranch=null,U.isInFallback=!1;let re=U.parent,Z=!1;for(;re;){if(re.pendingBranch){re.effects.push(...V),Z=!0;break}re=re.parent}Z||queuePostFlushCb(V),U.effects=[],triggerEvent(F,"onResolve")},fallback(H){if(!U.pendingBranch)return;const{vnode:F,activeBranch:ee,parentComponent:q,container:W,isSVG:V}=U;triggerEvent(F,"onFallback");const ae=b(ee),se=()=>{!U.isInFallback||(T(null,H,W,ae,q,null,V,v,E),setActiveBranch(U,H))},re=H.transition&&H.transition.mode==="out-in";re&&(ee.transition.afterLeave=se),U.isInFallback=!0,r(ee,q,null,!0),re||se()},move(H,F,ee){U.activeBranch&&N(U.activeBranch,H,F,ee),U.container=H},next(){return U.activeBranch&&b(U.activeBranch)},registerDep(H,F){const ee=!!U.pendingBranch;ee&&U.deps++;const q=H.vnode.el;H.asyncDep.catch(W=>{handleError(W,H,0)}).then(W=>{if(H.isUnmounted||U.isUnmounted||U.pendingId!==H.suspenseId)return;H.asyncResolved=!0;const{vnode:V}=H;handleSetupResult(H,W,!1),q&&(V.el=q);const ae=!q&&H.subTree.el;F(H,V,B(q||H.subTree.el),q?null:b(H.subTree),U,_,E),ae&&w(ae),updateHOCHostEl(H,V.el),ee&&--U.deps==0&&U.resolve()})},unmount(H,F){U.isUnmounted=!0,U.activeBranch&&r(U.activeBranch,s,H,F),U.pendingBranch&&r(U.pendingBranch,s,H,F)}};return U}function hydrateSuspense(t,e,s,a,f,d,_,v,E){const C=e.suspense=createSuspenseBoundary(e,a,s,t.parentNode,document.createElement("div"),null,f,d,_,v,!0),O=E(t,C.pendingBranch=e.ssContent,s,C,d,_);return C.deps===0&&C.resolve(),O}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:s}=t,a=e&32;t.ssContent=normalizeSuspenseSlot(a?s.default:s),t.ssFallback=a?normalizeSuspenseSlot(s.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction(t)){const s=isBlockTreeEnabled&&t._c;s&&(t._d=!1,openBlock()),t=t(),s&&(t._d=!0,e=currentBlock,closeBlock())}return isArray(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(s=>s!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:s,parentComponent:a}=t,f=s.el=e.el;a&&a.subTree===s&&(a.vnode.el=f,updateHOCHostEl(a,f))}function provide(t,e){if(currentInstance){let s=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===s&&(s=currentInstance.provides=Object.create(a)),s[t]=e}}function inject(t,e,s=!1){const a=currentInstance||currentRenderingInstance;if(a){const f=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(f&&t in f)return f[t];if(arguments.length>1)return s&&isFunction(e)?e.call(a.proxy):e}}function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(t,{slots:e}){const s=getCurrentInstance(),a=useTransitionState();let f;return()=>{const d=e.default&&getTransitionRawChildren(e.default(),!0);if(!d||!d.length)return;const _=toRaw(t),{mode:v}=_,E=d[0];if(a.isLeaving)return emptyPlaceholder(E);const C=getKeepAliveChild(E);if(!C)return emptyPlaceholder(E);const O=resolveTransitionHooks(C,_,a,s);setTransitionHooks(C,O);const T=s.subTree,N=T&&getKeepAliveChild(T);let r=!1;const{getTransitionKey:b}=C.type;if(b){const B=b();f===void 0?f=B:B!==f&&(f=B,r=!0)}if(N&&N.type!==Comment&&(!isSameVNodeType(C,N)||r)){const B=resolveTransitionHooks(N,_,a,s);if(setTransitionHooks(N,B),v==="out-in")return a.isLeaving=!0,B.afterLeave=()=>{a.isLeaving=!1,s.update()},emptyPlaceholder(E);v==="in-out"&&C.type!==Comment&&(B.delayLeave=(w,K,U)=>{const H=getLeavingNodesForType(a,N);H[String(N.key)]=N,w._leaveCb=()=>{K(),w._leaveCb=void 0,delete O.delayedLeave},O.delayedLeave=U})}return E}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:s}=t;let a=s.get(e.type);return a||(a=Object.create(null),s.set(e.type,a)),a}function resolveTransitionHooks(t,e,s,a){const{appear:f,mode:d,persisted:_=!1,onBeforeEnter:v,onEnter:E,onAfterEnter:C,onEnterCancelled:O,onBeforeLeave:T,onLeave:N,onAfterLeave:r,onLeaveCancelled:b,onBeforeAppear:B,onAppear:w,onAfterAppear:K,onAppearCancelled:U}=e,H=String(t.key),F=getLeavingNodesForType(s,t),ee=(W,V)=>{W&&callWithAsyncErrorHandling(W,a,9,V)},q={mode:d,persisted:_,beforeEnter(W){let V=v;if(!s.isMounted)if(f)V=B||v;else return;W._leaveCb&&W._leaveCb(!0);const ae=F[H];ae&&isSameVNodeType(t,ae)&&ae.el._leaveCb&&ae.el._leaveCb(),ee(V,[W])},enter(W){let V=E,ae=C,se=O;if(!s.isMounted)if(f)V=w||E,ae=K||C,se=U||O;else return;let re=!1;const Z=W._enterCb=te=>{re||(re=!0,te?ee(se,[W]):ee(ae,[W]),q.delayedLeave&&q.delayedLeave(),W._enterCb=void 0)};V?(V(W,Z),V.length<=1&&Z()):Z()},leave(W,V){const ae=String(t.key);if(W._enterCb&&W._enterCb(!0),s.isUnmounting)return V();ee(T,[W]);let se=!1;const re=W._leaveCb=Z=>{se||(se=!0,V(),Z?ee(b,[W]):ee(r,[W]),W._leaveCb=void 0,F[ae]===t&&delete F[ae])};F[ae]=t,N?(N(W,re),N.length<=1&&re()):re()},clone(W){return resolveTransitionHooks(W,e,s,a)}};return q}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1){let s=[],a=0;for(let f=0;f<t.length;f++){const d=t[f];d.type===Fragment?(d.patchFlag&128&&a++,s=s.concat(getTransitionRawChildren(d.children,e))):(e||d.type!==Comment)&&s.push(d)}if(a>1)for(let f=0;f<s.length;f++)s[f].patchFlag=-2;return s}function defineComponent(t){return isFunction(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader;function defineAsyncComponent(t){isFunction(t)&&(t={loader:t});const{loader:e,loadingComponent:s,errorComponent:a,delay:f=200,timeout:d,suspensible:_=!0,onError:v}=t;let E=null,C,O=0;const T=()=>(O++,E=null,N()),N=()=>{let r;return E||(r=E=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),v)return new Promise((B,w)=>{v(b,()=>B(T()),()=>w(b),O+1)});throw b}).then(b=>r!==E&&E?E:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),C=b,b)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:N,get __asyncResolved(){return C},setup(){const r=currentInstance;if(C)return()=>createInnerComp(C,r);const b=U=>{E=null,handleError(U,r,13,!a)};if(_&&r.suspense||isInSSRComponentSetup)return N().then(U=>()=>createInnerComp(U,r)).catch(U=>(b(U),()=>a?createVNode(a,{error:U}):null));const B=ref(!1),w=ref(),K=ref(!!f);return f&&setTimeout(()=>{K.value=!1},f),d!=null&&setTimeout(()=>{if(!B.value&&!w.value){const U=new Error(`Async component timed out after ${d}ms.`);b(U),w.value=U}},d),N().then(()=>{B.value=!0,r.parent&&isKeepAlive(r.parent.vnode)&&queueJob(r.parent.update)}).catch(U=>{b(U),w.value=U}),()=>{if(B.value&&C)return createInnerComp(C,r);if(w.value&&a)return createVNode(a,{error:w.value});if(s&&!K.value)return createVNode(s)}}})}function createInnerComp(t,{vnode:{ref:e,props:s,children:a}}){const f=createVNode(t,s,a);return f.ref=e,f}const isKeepAlive=t=>t.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const s=getCurrentInstance(),a=s.ctx;if(!a.renderer)return e.default;const f=new Map,d=new Set;let _=null;const v=s.suspense,{renderer:{p:E,m:C,um:O,o:{createElement:T}}}=a,N=T("div");a.activate=(U,H,F,ee,q)=>{const W=U.component;C(U,H,F,0,v),E(W.vnode,U,H,F,W,v,ee,U.slotScopeIds,q),queuePostRenderEffect(()=>{W.isDeactivated=!1,W.a&&invokeArrayFns(W.a);const V=U.props&&U.props.onVnodeMounted;V&&invokeVNodeHook(V,W.parent,U)},v)},a.deactivate=U=>{const H=U.component;C(U,N,null,1,v),queuePostRenderEffect(()=>{H.da&&invokeArrayFns(H.da);const F=U.props&&U.props.onVnodeUnmounted;F&&invokeVNodeHook(F,H.parent,U),H.isDeactivated=!0},v)};function r(U){resetShapeFlag(U),O(U,s,v)}function b(U){f.forEach((H,F)=>{const ee=getComponentName(H.type);ee&&(!U||!U(ee))&&B(F)})}function B(U){const H=f.get(U);!_||H.type!==_.type?r(H):_&&resetShapeFlag(_),f.delete(U),d.delete(U)}watch(()=>[t.include,t.exclude],([U,H])=>{U&&b(F=>matches(U,F)),H&&b(F=>!matches(H,F))},{flush:"post",deep:!0});let w=null;const K=()=>{w!=null&&f.set(w,getInnerChild(s.subTree))};return onMounted(K),onUpdated(K),onBeforeUnmount(()=>{f.forEach(U=>{const{subTree:H,suspense:F}=s,ee=getInnerChild(H);if(U.type===ee.type){resetShapeFlag(ee);const q=ee.component.da;q&&queuePostRenderEffect(q,F);return}r(U)})}),()=>{if(w=null,!e.default)return null;const U=e.default(),H=U[0];if(U.length>1)return _=null,U;if(!isVNode(H)||!(H.shapeFlag&4)&&!(H.shapeFlag&128))return _=null,H;let F=getInnerChild(H);const ee=F.type,q=getComponentName(isAsyncWrapper(F)?F.type.__asyncResolved||{}:ee),{include:W,exclude:V,max:ae}=t;if(W&&(!q||!matches(W,q))||V&&q&&matches(V,q))return _=F,H;const se=F.key==null?ee:F.key,re=f.get(se);return F.el&&(F=cloneVNode(F),H.shapeFlag&128&&(H.ssContent=F)),w=se,re?(F.el=re.el,F.component=re.component,F.transition&&setTransitionHooks(F,F.transition),F.shapeFlag|=512,d.delete(se),d.add(se)):(d.add(se),ae&&d.size>parseInt(ae,10)&&B(d.values().next().value)),F.shapeFlag|=256,_=F,H}}},KeepAlive=KeepAliveImpl;function matches(t,e){return isArray(t)?t.some(s=>matches(s,e)):isString(t)?t.split(",").indexOf(e)>-1:t.test?t.test(e):!1}function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,s=currentInstance){const a=t.__wdc||(t.__wdc=()=>{let f=s;for(;f;){if(f.isDeactivated)return;f=f.parent}return t()});if(injectHook(e,a,s),s){let f=s.parent;for(;f&&f.parent;)isKeepAlive(f.parent.vnode)&&injectToKeepAliveRoot(a,e,s,f),f=f.parent}}function injectToKeepAliveRoot(t,e,s,a){const f=injectHook(e,t,a,!0);onUnmounted(()=>{remove(a[e],f)},s)}function resetShapeFlag(t){let e=t.shapeFlag;e&256&&(e-=256),e&512&&(e-=512),t.shapeFlag=e}function getInnerChild(t){return t.shapeFlag&128?t.ssContent:t}function injectHook(t,e,s=currentInstance,a=!1){if(s){const f=s[t]||(s[t]=[]),d=e.__weh||(e.__weh=(..._)=>{if(s.isUnmounted)return;pauseTracking(),setCurrentInstance(s);const v=callWithAsyncErrorHandling(e,s,t,_);return unsetCurrentInstance(),resetTracking(),v});return a?f.unshift(d):f.push(d),d}}const createHook=t=>(e,s=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,e,s),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),s=t.proxy,a=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:f,computed:d,methods:_,watch:v,provide:E,inject:C,created:O,beforeMount:T,mounted:N,beforeUpdate:r,updated:b,activated:B,deactivated:w,beforeDestroy:K,beforeUnmount:U,destroyed:H,unmounted:F,render:ee,renderTracked:q,renderTriggered:W,errorCaptured:V,serverPrefetch:ae,expose:se,inheritAttrs:re,components:Z,directives:te,filters:Ee}=e;if(C&&resolveInjections(C,a,null,t.appContext.config.unwrapInjectedRef),_)for(const Ae in _){const be=_[Ae];isFunction(be)&&(a[Ae]=be.bind(s))}if(f){const Ae=f.call(s,s);isObject(Ae)&&(t.data=reactive(Ae))}if(shouldCacheAccess=!0,d)for(const Ae in d){const be=d[Ae],Ke=isFunction(be)?be.bind(s,s):isFunction(be.get)?be.get.bind(s,s):NOOP,xe=!isFunction(be)&&isFunction(be.set)?be.set.bind(s):NOOP,ie=computed({get:Ke,set:xe});Object.defineProperty(a,Ae,{enumerable:!0,configurable:!0,get:()=>ie.value,set:He=>ie.value=He})}if(v)for(const Ae in v)createWatcher(v[Ae],a,s,Ae);if(E){const Ae=isFunction(E)?E.call(s):E;Reflect.ownKeys(Ae).forEach(be=>{provide(be,Ae[be])})}O&&callHook$1(O,t,"c");function ke(Ae,be){isArray(be)?be.forEach(Ke=>Ae(Ke.bind(s))):be&&Ae(be.bind(s))}if(ke(onBeforeMount,T),ke(onMounted,N),ke(onBeforeUpdate,r),ke(onUpdated,b),ke(onActivated,B),ke(onDeactivated,w),ke(onErrorCaptured,V),ke(onRenderTracked,q),ke(onRenderTriggered,W),ke(onBeforeUnmount,U),ke(onUnmounted,F),ke(onServerPrefetch,ae),isArray(se))if(se.length){const Ae=t.exposed||(t.exposed={});se.forEach(be=>{Object.defineProperty(Ae,be,{get:()=>s[be],set:Ke=>s[be]=Ke})})}else t.exposed||(t.exposed={});ee&&t.render===NOOP&&(t.render=ee),re!=null&&(t.inheritAttrs=re),Z&&(t.components=Z),te&&(t.directives=te)}function resolveInjections(t,e,s=NOOP,a=!1){isArray(t)&&(t=normalizeInject(t));for(const f in t){const d=t[f];let _;isObject(d)?"default"in d?_=inject(d.from||f,d.default,!0):_=inject(d.from||f):_=inject(d),isRef(_)&&a?Object.defineProperty(e,f,{enumerable:!0,configurable:!0,get:()=>_.value,set:v=>_.value=v}):e[f]=_}}function callHook$1(t,e,s){callWithAsyncErrorHandling(isArray(t)?t.map(a=>a.bind(e.proxy)):t.bind(e.proxy),e,s)}function createWatcher(t,e,s,a){const f=a.includes(".")?createPathGetter(s,a):()=>s[a];if(isString(t)){const d=e[t];isFunction(d)&&watch(f,d)}else if(isFunction(t))watch(f,t.bind(s));else if(isObject(t))if(isArray(t))t.forEach(d=>createWatcher(d,e,s,a));else{const d=isFunction(t.handler)?t.handler.bind(s):e[t.handler];isFunction(d)&&watch(f,d,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:s,extends:a}=e,{mixins:f,optionsCache:d,config:{optionMergeStrategies:_}}=t.appContext,v=d.get(e);let E;return v?E=v:!f.length&&!s&&!a?E=e:(E={},f.length&&f.forEach(C=>mergeOptions(E,C,_,!0)),mergeOptions(E,e,_)),d.set(e,E),E}function mergeOptions(t,e,s,a=!1){const{mixins:f,extends:d}=e;d&&mergeOptions(t,d,s,!0),f&&f.forEach(_=>mergeOptions(t,_,s,!0));for(const _ in e)if(!(a&&_==="expose")){const v=internalOptionMergeStrats[_]||s&&s[_];t[_]=v?v(t[_],e[_]):e[_]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction(t)?t.call(this,this):t,isFunction(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(extend(Object.create(null),t),e):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const s=extend(Object.create(null),t);for(const a in e)s[a]=mergeAsArray(t[a],e[a]);return s}function initProps(t,e,s,a=!1){const f={},d={};def(d,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,f,d);for(const _ in t.propsOptions[0])_ in f||(f[_]=void 0);s?t.props=a?f:shallowReactive(f):t.type.props?t.props=f:t.props=d,t.attrs=d}function updateProps(t,e,s,a){const{props:f,attrs:d,vnode:{patchFlag:_}}=t,v=toRaw(f),[E]=t.propsOptions;let C=!1;if((a||_>0)&&!(_&16)){if(_&8){const O=t.vnode.dynamicProps;for(let T=0;T<O.length;T++){let N=O[T];const r=e[N];if(E)if(hasOwn(d,N))r!==d[N]&&(d[N]=r,C=!0);else{const b=camelize(N);f[b]=resolvePropValue(E,v,b,r,t,!1)}else r!==d[N]&&(d[N]=r,C=!0)}}}else{setFullProps(t,e,f,d)&&(C=!0);let O;for(const T in v)(!e||!hasOwn(e,T)&&((O=hyphenate(T))===T||!hasOwn(e,O)))&&(E?s&&(s[T]!==void 0||s[O]!==void 0)&&(f[T]=resolvePropValue(E,v,T,void 0,t,!0)):delete f[T]);if(d!==v)for(const T in d)(!e||!hasOwn(e,T))&&(delete d[T],C=!0)}C&&trigger$1(t,"set","$attrs")}function setFullProps(t,e,s,a){const[f,d]=t.propsOptions;let _=!1,v;if(e)for(let E in e){if(isReservedProp(E))continue;const C=e[E];let O;f&&hasOwn(f,O=camelize(E))?!d||!d.includes(O)?s[O]=C:(v||(v={}))[O]=C:isEmitListener(t.emitsOptions,E)||(!(E in a)||C!==a[E])&&(a[E]=C,_=!0)}if(d){const E=toRaw(s),C=v||EMPTY_OBJ;for(let O=0;O<d.length;O++){const T=d[O];s[T]=resolvePropValue(f,E,T,C[T],t,!hasOwn(C,T))}}return _}function resolvePropValue(t,e,s,a,f,d){const _=t[s];if(_!=null){const v=hasOwn(_,"default");if(v&&a===void 0){const E=_.default;if(_.type!==Function&&isFunction(E)){const{propsDefaults:C}=f;s in C?a=C[s]:(setCurrentInstance(f),a=C[s]=E.call(null,e),unsetCurrentInstance())}else a=E}_[0]&&(d&&!v?a=!1:_[1]&&(a===""||a===hyphenate(s))&&(a=!0))}return a}function normalizePropsOptions(t,e,s=!1){const a=e.propsCache,f=a.get(t);if(f)return f;const d=t.props,_={},v=[];let E=!1;if(!isFunction(t)){const O=T=>{E=!0;const[N,r]=normalizePropsOptions(T,e,!0);extend(_,N),r&&v.push(...r)};!s&&e.mixins.length&&e.mixins.forEach(O),t.extends&&O(t.extends),t.mixins&&t.mixins.forEach(O)}if(!d&&!E)return a.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray(d))for(let O=0;O<d.length;O++){const T=camelize(d[O]);validatePropName(T)&&(_[T]=EMPTY_OBJ)}else if(d)for(const O in d){const T=camelize(O);if(validatePropName(T)){const N=d[O],r=_[T]=isArray(N)||isFunction(N)?{type:N}:N;if(r){const b=getTypeIndex(Boolean,r.type),B=getTypeIndex(String,r.type);r[0]=b>-1,r[1]=B<0||b<B,(b>-1||hasOwn(r,"default"))&&v.push(T)}}}const C=[_,v];return a.set(t,C),C}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray(e)?e.findIndex(s=>isSameType(s,t)):isFunction(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,e,s)=>{const a=withCtx((...f)=>normalizeSlotValue(e(...f)),s);return a._c=!1,a},normalizeObjectSlots=(t,e,s)=>{const a=t._ctx;for(const f in t){if(isInternalKey(f))continue;const d=t[f];if(isFunction(d))e[f]=normalizeSlot(f,d,a);else if(d!=null){const _=normalizeSlotValue(d);e[f]=()=>_}}},normalizeVNodeSlots=(t,e)=>{const s=normalizeSlotValue(e);t.slots.default=()=>s},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=toRaw(e),def(e,"_",s)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,s)=>{const{vnode:a,slots:f}=t;let d=!0,_=EMPTY_OBJ;if(a.shapeFlag&32){const v=e._;v?s&&v===1?d=!1:(extend(f,e),!s&&v===1&&delete f._):(d=!e.$stable,normalizeObjectSlots(e,f)),_=e}else e&&(normalizeVNodeSlots(t,e),_={default:1});if(d)for(const v in f)!isInternalKey(v)&&!(v in _)&&delete f[v]};function withDirectives(t,e){const s=currentRenderingInstance;if(s===null)return t;const a=s.proxy,f=t.dirs||(t.dirs=[]);for(let d=0;d<e.length;d++){let[_,v,E,C=EMPTY_OBJ]=e[d];isFunction(_)&&(_={mounted:_,updated:_}),_.deep&&traverse(v),f.push({dir:_,instance:a,value:v,oldValue:void 0,arg:E,modifiers:C})}return t}function invokeDirectiveHook(t,e,s,a){const f=t.dirs,d=e&&e.dirs;for(let _=0;_<f.length;_++){const v=f[_];d&&(v.oldValue=d[_].value);let E=v.dir[a];E&&(pauseTracking(),callWithAsyncErrorHandling(E,s,8,[t.el,v,t,e]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(t,e){return function(a,f=null){f!=null&&!isObject(f)&&(f=null);const d=createAppContext(),_=new Set;let v=!1;const E=d.app={_uid:uid++,_component:a,_props:f,_container:null,_context:d,_instance:null,version,get config(){return d.config},set config(C){},use(C,...O){return _.has(C)||(C&&isFunction(C.install)?(_.add(C),C.install(E,...O)):isFunction(C)&&(_.add(C),C(E,...O))),E},mixin(C){return d.mixins.includes(C)||d.mixins.push(C),E},component(C,O){return O?(d.components[C]=O,E):d.components[C]},directive(C,O){return O?(d.directives[C]=O,E):d.directives[C]},mount(C,O,T){if(!v){const N=createVNode(a,f);return N.appContext=d,O&&e?e(N,C):t(N,C,T),v=!0,E._container=C,C.__vue_app__=E,getExposeProxy(N.component)||N.component.proxy}},unmount(){v&&(t(null,E._container),delete E._container.__vue_app__)},provide(C,O){return d.provides[C]=O,E}};return E}}function setRef(t,e,s,a,f=!1){if(isArray(t)){t.forEach((N,r)=>setRef(N,e&&(isArray(e)?e[r]:e),s,a,f));return}if(isAsyncWrapper(a)&&!f)return;const d=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,_=f?null:d,{i:v,r:E}=t,C=e&&e.r,O=v.refs===EMPTY_OBJ?v.refs={}:v.refs,T=v.setupState;if(C!=null&&C!==E&&(isString(C)?(O[C]=null,hasOwn(T,C)&&(T[C]=null)):isRef(C)&&(C.value=null)),isFunction(E))callWithErrorHandling(E,v,12,[_,O]);else{const N=isString(E),r=isRef(E);if(N||r){const b=()=>{if(t.f){const B=N?O[E]:E.value;f?isArray(B)&&remove(B,d):isArray(B)?B.includes(d)||B.push(d):N?O[E]=[d]:(E.value=[d],t.k&&(O[t.k]=E.value))}else N?(O[E]=_,hasOwn(T,E)&&(T[E]=_)):isRef(E)&&(E.value=_,t.k&&(O[t.k]=_))};_?(b.id=-1,queuePostRenderEffect(b,s)):b()}}}let hasMismatch=!1;const isSVGContainer=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",isComment=t=>t.nodeType===8;function createHydrationFunctions(t){const{mt:e,p:s,o:{patchProp:a,nextSibling:f,parentNode:d,remove:_,insert:v,createComment:E}}=t,C=(w,K)=>{if(!K.hasChildNodes()){s(null,w,K),flushPostFlushCbs();return}hasMismatch=!1,O(K.firstChild,w,null,null,null),flushPostFlushCbs(),hasMismatch&&console.error("Hydration completed but contains mismatches.")},O=(w,K,U,H,F,ee=!1)=>{const q=isComment(w)&&w.data==="[",W=()=>b(w,K,U,H,F,q),{type:V,ref:ae,shapeFlag:se}=K,re=w.nodeType;K.el=w;let Z=null;switch(V){case Text$1:re!==3?Z=W():(w.data!==K.children&&(hasMismatch=!0,w.data=K.children),Z=f(w));break;case Comment:re!==8||q?Z=W():Z=f(w);break;case Static:if(re!==1)Z=W();else{Z=w;const te=!K.children.length;for(let Ee=0;Ee<K.staticCount;Ee++)te&&(K.children+=Z.outerHTML),Ee===K.staticCount-1&&(K.anchor=Z),Z=f(Z);return Z}break;case Fragment:q?Z=r(w,K,U,H,F,ee):Z=W();break;default:if(se&1)re!==1||K.type.toLowerCase()!==w.tagName.toLowerCase()?Z=W():Z=T(w,K,U,H,F,ee);else if(se&6){K.slotScopeIds=F;const te=d(w);if(e(K,te,null,U,H,isSVGContainer(te),ee),Z=q?B(w):f(w),isAsyncWrapper(K)){let Ee;q?(Ee=createVNode(Fragment),Ee.anchor=Z?Z.previousSibling:te.lastChild):Ee=w.nodeType===3?createTextVNode(""):createVNode("div"),Ee.el=w,K.component.subTree=Ee}}else se&64?re!==8?Z=W():Z=K.type.hydrate(w,K,U,H,F,ee,t,N):se&128&&(Z=K.type.hydrate(w,K,U,H,isSVGContainer(d(w)),F,ee,t,O))}return ae!=null&&setRef(ae,null,H,K),Z},T=(w,K,U,H,F,ee)=>{ee=ee||!!K.dynamicChildren;const{type:q,props:W,patchFlag:V,shapeFlag:ae,dirs:se}=K,re=q==="input"&&se||q==="option";if(re||V!==-1){if(se&&invokeDirectiveHook(K,null,U,"created"),W)if(re||!ee||V&(16|32))for(const te in W)(re&&te.endsWith("value")||isOn(te)&&!isReservedProp(te))&&a(w,te,null,W[te],!1,void 0,U);else W.onClick&&a(w,"onClick",null,W.onClick,!1,void 0,U);let Z;if((Z=W&&W.onVnodeBeforeMount)&&invokeVNodeHook(Z,U,K),se&&invokeDirectiveHook(K,null,U,"beforeMount"),((Z=W&&W.onVnodeMounted)||se)&&queueEffectWithSuspense(()=>{Z&&invokeVNodeHook(Z,U,K),se&&invokeDirectiveHook(K,null,U,"mounted")},H),ae&16&&!(W&&(W.innerHTML||W.textContent))){let te=N(w.firstChild,K,w,U,H,F,ee);for(;te;){hasMismatch=!0;const Ee=te;te=te.nextSibling,_(Ee)}}else ae&8&&w.textContent!==K.children&&(hasMismatch=!0,w.textContent=K.children)}return w.nextSibling},N=(w,K,U,H,F,ee,q)=>{q=q||!!K.dynamicChildren;const W=K.children,V=W.length;for(let ae=0;ae<V;ae++){const se=q?W[ae]:W[ae]=normalizeVNode(W[ae]);if(w)w=O(w,se,H,F,ee,q);else{if(se.type===Text$1&&!se.children)continue;hasMismatch=!0,s(null,se,U,null,H,F,isSVGContainer(U),ee)}}return w},r=(w,K,U,H,F,ee)=>{const{slotScopeIds:q}=K;q&&(F=F?F.concat(q):q);const W=d(w),V=N(f(w),K,W,U,H,F,ee);return V&&isComment(V)&&V.data==="]"?f(K.anchor=V):(hasMismatch=!0,v(K.anchor=E("]"),W,V),V)},b=(w,K,U,H,F,ee)=>{if(hasMismatch=!0,K.el=null,ee){const V=B(w);for(;;){const ae=f(w);if(ae&&ae!==V)_(ae);else break}}const q=f(w),W=d(w);return _(w),s(null,K,W,q,U,H,isSVGContainer(W),F),q},B=w=>{let K=0;for(;w;)if(w=f(w),w&&isComment(w)&&(w.data==="["&&K++,w.data==="]")){if(K===0)return f(w);K--}return w};return[C,O]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function createHydrationRenderer(t){return baseCreateRenderer(t,createHydrationFunctions)}function baseCreateRenderer(t,e){const s=getGlobalThis();s.__VUE__=!0;const{insert:a,remove:f,patchProp:d,createElement:_,createText:v,createComment:E,setText:C,setElementText:O,parentNode:T,nextSibling:N,setScopeId:r=NOOP,cloneNode:b,insertStaticContent:B}=t,w=(z,X,le,he=null,ce=null,Se=null,we=!1,_e=null,ye=!!X.dynamicChildren)=>{if(z===X)return;z&&!isSameVNodeType(z,X)&&(he=lr(z),Qe(z,ce,Se,!0),z=null),X.patchFlag===-2&&(ye=!1,X.dynamicChildren=null);const{type:ge,ref:Oe,shapeFlag:Ce}=X;switch(ge){case Text$1:K(z,X,le,he);break;case Comment:U(z,X,le,he);break;case Static:z==null&&H(X,le,he,we);break;case Fragment:te(z,X,le,he,ce,Se,we,_e,ye);break;default:Ce&1?q(z,X,le,he,ce,Se,we,_e,ye):Ce&6?Ee(z,X,le,he,ce,Se,we,_e,ye):(Ce&64||Ce&128)&&ge.process(z,X,le,he,ce,Se,we,_e,ye,At)}Oe!=null&&ce&&setRef(Oe,z&&z.ref,Se,X||z,!X)},K=(z,X,le,he)=>{if(z==null)a(X.el=v(X.children),le,he);else{const ce=X.el=z.el;X.children!==z.children&&C(ce,X.children)}},U=(z,X,le,he)=>{z==null?a(X.el=E(X.children||""),le,he):X.el=z.el},H=(z,X,le,he)=>{[z.el,z.anchor]=B(z.children,X,le,he)},F=({el:z,anchor:X},le,he)=>{let ce;for(;z&&z!==X;)ce=N(z),a(z,le,he),z=ce;a(X,le,he)},ee=({el:z,anchor:X})=>{let le;for(;z&&z!==X;)le=N(z),f(z),z=le;f(X)},q=(z,X,le,he,ce,Se,we,_e,ye)=>{we=we||X.type==="svg",z==null?W(X,le,he,ce,Se,we,_e,ye):se(z,X,ce,Se,we,_e,ye)},W=(z,X,le,he,ce,Se,we,_e)=>{let ye,ge;const{type:Oe,props:Ce,shapeFlag:Fe,transition:Pe,patchFlag:Ue,dirs:Xe}=z;if(z.el&&b!==void 0&&Ue===-1)ye=z.el=b(z.el);else{if(ye=z.el=_(z.type,Se,Ce&&Ce.is,Ce),Fe&8?O(ye,z.children):Fe&16&&ae(z.children,ye,null,he,ce,Se&&Oe!=="foreignObject",we,_e),Xe&&invokeDirectiveHook(z,null,he,"created"),Ce){for(const We in Ce)We!=="value"&&!isReservedProp(We)&&d(ye,We,null,Ce[We],Se,z.children,he,ce,yt);"value"in Ce&&d(ye,"value",null,Ce.value),(ge=Ce.onVnodeBeforeMount)&&invokeVNodeHook(ge,he,z)}V(ye,z,z.scopeId,we,he)}Xe&&invokeDirectiveHook(z,null,he,"beforeMount");const Ye=(!ce||ce&&!ce.pendingBranch)&&Pe&&!Pe.persisted;Ye&&Pe.beforeEnter(ye),a(ye,X,le),((ge=Ce&&Ce.onVnodeMounted)||Ye||Xe)&&queuePostRenderEffect(()=>{ge&&invokeVNodeHook(ge,he,z),Ye&&Pe.enter(ye),Xe&&invokeDirectiveHook(z,null,he,"mounted")},ce)},V=(z,X,le,he,ce)=>{if(le&&r(z,le),he)for(let Se=0;Se<he.length;Se++)r(z,he[Se]);if(ce){let Se=ce.subTree;if(X===Se){const we=ce.vnode;V(z,we,we.scopeId,we.slotScopeIds,ce.parent)}}},ae=(z,X,le,he,ce,Se,we,_e,ye=0)=>{for(let ge=ye;ge<z.length;ge++){const Oe=z[ge]=_e?cloneIfMounted(z[ge]):normalizeVNode(z[ge]);w(null,Oe,X,le,he,ce,Se,we,_e)}},se=(z,X,le,he,ce,Se,we)=>{const _e=X.el=z.el;let{patchFlag:ye,dynamicChildren:ge,dirs:Oe}=X;ye|=z.patchFlag&16;const Ce=z.props||EMPTY_OBJ,Fe=X.props||EMPTY_OBJ;let Pe;le&&toggleRecurse(le,!1),(Pe=Fe.onVnodeBeforeUpdate)&&invokeVNodeHook(Pe,le,X,z),Oe&&invokeDirectiveHook(X,z,le,"beforeUpdate"),le&&toggleRecurse(le,!0);const Ue=ce&&X.type!=="foreignObject";if(ge?re(z.dynamicChildren,ge,_e,le,he,Ue,Se):we||Ke(z,X,_e,null,le,he,Ue,Se,!1),ye>0){if(ye&16)Z(_e,X,Ce,Fe,le,he,ce);else if(ye&2&&Ce.class!==Fe.class&&d(_e,"class",null,Fe.class,ce),ye&4&&d(_e,"style",Ce.style,Fe.style,ce),ye&8){const Xe=X.dynamicProps;for(let Ye=0;Ye<Xe.length;Ye++){const We=Xe[Ye],Ct=Ce[We],Ut=Fe[We];(Ut!==Ct||We==="value")&&d(_e,We,Ct,Ut,ce,z.children,le,he,yt)}}ye&1&&z.children!==X.children&&O(_e,X.children)}else!we&&ge==null&&Z(_e,X,Ce,Fe,le,he,ce);((Pe=Fe.onVnodeUpdated)||Oe)&&queuePostRenderEffect(()=>{Pe&&invokeVNodeHook(Pe,le,X,z),Oe&&invokeDirectiveHook(X,z,le,"updated")},he)},re=(z,X,le,he,ce,Se,we)=>{for(let _e=0;_e<X.length;_e++){const ye=z[_e],ge=X[_e],Oe=ye.el&&(ye.type===Fragment||!isSameVNodeType(ye,ge)||ye.shapeFlag&(6|64))?T(ye.el):le;w(ye,ge,Oe,null,he,ce,Se,we,!0)}},Z=(z,X,le,he,ce,Se,we)=>{if(le!==he){for(const _e in he){if(isReservedProp(_e))continue;const ye=he[_e],ge=le[_e];ye!==ge&&_e!=="value"&&d(z,_e,ge,ye,we,X.children,ce,Se,yt)}if(le!==EMPTY_OBJ)for(const _e in le)!isReservedProp(_e)&&!(_e in he)&&d(z,_e,le[_e],null,we,X.children,ce,Se,yt);"value"in he&&d(z,"value",le.value,he.value)}},te=(z,X,le,he,ce,Se,we,_e,ye)=>{const ge=X.el=z?z.el:v(""),Oe=X.anchor=z?z.anchor:v("");let{patchFlag:Ce,dynamicChildren:Fe,slotScopeIds:Pe}=X;Pe&&(_e=_e?_e.concat(Pe):Pe),z==null?(a(ge,le,he),a(Oe,le,he),ae(X.children,le,Oe,ce,Se,we,_e,ye)):Ce>0&&Ce&64&&Fe&&z.dynamicChildren?(re(z.dynamicChildren,Fe,le,ce,Se,we,_e),(X.key!=null||ce&&X===ce.subTree)&&traverseStaticChildren(z,X,!0)):Ke(z,X,le,Oe,ce,Se,we,_e,ye)},Ee=(z,X,le,he,ce,Se,we,_e,ye)=>{X.slotScopeIds=_e,z==null?X.shapeFlag&512?ce.ctx.activate(X,le,he,we,ye):Me(X,le,he,ce,Se,we,ye):ke(z,X,ye)},Me=(z,X,le,he,ce,Se,we)=>{const _e=z.component=createComponentInstance(z,he,ce);if(isKeepAlive(z)&&(_e.ctx.renderer=At),setupComponent(_e),_e.asyncDep){if(ce&&ce.registerDep(_e,Ae),!z.el){const ye=_e.subTree=createVNode(Comment);U(null,ye,X,le)}return}Ae(_e,z,X,le,ce,Se,we)},ke=(z,X,le)=>{const he=X.component=z.component;if(shouldUpdateComponent(z,X,le))if(he.asyncDep&&!he.asyncResolved){be(he,X,le);return}else he.next=X,invalidateJob(he.update),he.update();else X.component=z.component,X.el=z.el,he.vnode=X},Ae=(z,X,le,he,ce,Se,we)=>{const _e=()=>{if(z.isMounted){let{next:Oe,bu:Ce,u:Fe,parent:Pe,vnode:Ue}=z,Xe=Oe,Ye;toggleRecurse(z,!1),Oe?(Oe.el=Ue.el,be(z,Oe,we)):Oe=Ue,Ce&&invokeArrayFns(Ce),(Ye=Oe.props&&Oe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ye,Pe,Oe,Ue),toggleRecurse(z,!0);const We=renderComponentRoot(z),Ct=z.subTree;z.subTree=We,w(Ct,We,T(Ct.el),lr(Ct),z,ce,Se),Oe.el=We.el,Xe===null&&updateHOCHostEl(z,We.el),Fe&&queuePostRenderEffect(Fe,ce),(Ye=Oe.props&&Oe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ye,Pe,Oe,Ue),ce)}else{let Oe;const{el:Ce,props:Fe}=X,{bm:Pe,m:Ue,parent:Xe}=z,Ye=isAsyncWrapper(X);if(toggleRecurse(z,!1),Pe&&invokeArrayFns(Pe),!Ye&&(Oe=Fe&&Fe.onVnodeBeforeMount)&&invokeVNodeHook(Oe,Xe,X),toggleRecurse(z,!0),Ce&&jt){const We=()=>{z.subTree=renderComponentRoot(z),jt(Ce,z.subTree,z,ce,null)};Ye?X.type.__asyncLoader().then(()=>!z.isUnmounted&&We()):We()}else{const We=z.subTree=renderComponentRoot(z);w(null,We,le,he,z,ce,Se),X.el=We.el}if(Ue&&queuePostRenderEffect(Ue,ce),!Ye&&(Oe=Fe&&Fe.onVnodeMounted)){const We=X;queuePostRenderEffect(()=>invokeVNodeHook(Oe,Xe,We),ce)}X.shapeFlag&256&&z.a&&queuePostRenderEffect(z.a,ce),z.isMounted=!0,X=le=he=null}},ye=z.effect=new ReactiveEffect(_e,()=>queueJob(z.update),z.scope),ge=z.update=ye.run.bind(ye);ge.id=z.uid,toggleRecurse(z,!0),ge()},be=(z,X,le)=>{X.component=z;const he=z.vnode.props;z.vnode=X,z.next=null,updateProps(z,X.props,he,le),updateSlots(z,X.children,le),pauseTracking(),flushPreFlushCbs(void 0,z.update),resetTracking()},Ke=(z,X,le,he,ce,Se,we,_e,ye=!1)=>{const ge=z&&z.children,Oe=z?z.shapeFlag:0,Ce=X.children,{patchFlag:Fe,shapeFlag:Pe}=X;if(Fe>0){if(Fe&128){ie(ge,Ce,le,he,ce,Se,we,_e,ye);return}else if(Fe&256){xe(ge,Ce,le,he,ce,Se,we,_e,ye);return}}Pe&8?(Oe&16&&yt(ge,ce,Se),Ce!==ge&&O(le,Ce)):Oe&16?Pe&16?ie(ge,Ce,le,he,ce,Se,we,_e,ye):yt(ge,ce,Se,!0):(Oe&8&&O(le,""),Pe&16&&ae(Ce,le,he,ce,Se,we,_e,ye))},xe=(z,X,le,he,ce,Se,we,_e,ye)=>{z=z||EMPTY_ARR,X=X||EMPTY_ARR;const ge=z.length,Oe=X.length,Ce=Math.min(ge,Oe);let Fe;for(Fe=0;Fe<Ce;Fe++){const Pe=X[Fe]=ye?cloneIfMounted(X[Fe]):normalizeVNode(X[Fe]);w(z[Fe],Pe,le,null,ce,Se,we,_e,ye)}ge>Oe?yt(z,ce,Se,!0,!1,Ce):ae(X,le,he,ce,Se,we,_e,ye,Ce)},ie=(z,X,le,he,ce,Se,we,_e,ye)=>{let ge=0;const Oe=X.length;let Ce=z.length-1,Fe=Oe-1;for(;ge<=Ce&&ge<=Fe;){const Pe=z[ge],Ue=X[ge]=ye?cloneIfMounted(X[ge]):normalizeVNode(X[ge]);if(isSameVNodeType(Pe,Ue))w(Pe,Ue,le,null,ce,Se,we,_e,ye);else break;ge++}for(;ge<=Ce&&ge<=Fe;){const Pe=z[Ce],Ue=X[Fe]=ye?cloneIfMounted(X[Fe]):normalizeVNode(X[Fe]);if(isSameVNodeType(Pe,Ue))w(Pe,Ue,le,null,ce,Se,we,_e,ye);else break;Ce--,Fe--}if(ge>Ce){if(ge<=Fe){const Pe=Fe+1,Ue=Pe<Oe?X[Pe].el:he;for(;ge<=Fe;)w(null,X[ge]=ye?cloneIfMounted(X[ge]):normalizeVNode(X[ge]),le,Ue,ce,Se,we,_e,ye),ge++}}else if(ge>Fe)for(;ge<=Ce;)Qe(z[ge],ce,Se,!0),ge++;else{const Pe=ge,Ue=ge,Xe=new Map;for(ge=Ue;ge<=Fe;ge++){const _t=X[ge]=ye?cloneIfMounted(X[ge]):normalizeVNode(X[ge]);_t.key!=null&&Xe.set(_t.key,ge)}let Ye,We=0;const Ct=Fe-Ue+1;let Ut=!1,Ar=0;const qt=new Array(Ct);for(ge=0;ge<Ct;ge++)qt[ge]=0;for(ge=Pe;ge<=Ce;ge++){const _t=z[ge];if(We>=Ct){Qe(_t,ce,Se,!0);continue}let Rt;if(_t.key!=null)Rt=Xe.get(_t.key);else for(Ye=Ue;Ye<=Fe;Ye++)if(qt[Ye-Ue]===0&&isSameVNodeType(_t,X[Ye])){Rt=Ye;break}Rt===void 0?Qe(_t,ce,Se,!0):(qt[Rt-Ue]=ge+1,Rt>=Ar?Ar=Rt:Ut=!0,w(_t,X[Rt],le,null,ce,Se,we,_e,ye),We++)}const Rr=Ut?getSequence(qt):EMPTY_ARR;for(Ye=Rr.length-1,ge=Ct-1;ge>=0;ge--){const _t=Ue+ge,Rt=X[_t],Or=_t+1<Oe?X[_t+1].el:he;qt[ge]===0?w(null,Rt,le,Or,ce,Se,we,_e,ye):Ut&&(Ye<0||ge!==Rr[Ye]?He(Rt,le,Or,2):Ye--)}}},He=(z,X,le,he,ce=null)=>{const{el:Se,type:we,transition:_e,children:ye,shapeFlag:ge}=z;if(ge&6){He(z.component.subTree,X,le,he);return}if(ge&128){z.suspense.move(X,le,he);return}if(ge&64){we.move(z,X,le,At);return}if(we===Fragment){a(Se,X,le);for(let Ce=0;Ce<ye.length;Ce++)He(ye[Ce],X,le,he);a(z.anchor,X,le);return}if(we===Static){F(z,X,le);return}if(he!==2&&ge&1&&_e)if(he===0)_e.beforeEnter(Se),a(Se,X,le),queuePostRenderEffect(()=>_e.enter(Se),ce);else{const{leave:Ce,delayLeave:Fe,afterLeave:Pe}=_e,Ue=()=>a(Se,X,le),Xe=()=>{Ce(Se,()=>{Ue(),Pe&&Pe()})};Fe?Fe(Se,Ue,Xe):Xe()}else a(Se,X,le)},Qe=(z,X,le,he=!1,ce=!1)=>{const{type:Se,props:we,ref:_e,children:ye,dynamicChildren:ge,shapeFlag:Oe,patchFlag:Ce,dirs:Fe}=z;if(_e!=null&&setRef(_e,null,le,z,!0),Oe&256){X.ctx.deactivate(z);return}const Pe=Oe&1&&Fe,Ue=!isAsyncWrapper(z);let Xe;if(Ue&&(Xe=we&&we.onVnodeBeforeUnmount)&&invokeVNodeHook(Xe,X,z),Oe&6)Jr(z.component,le,he);else{if(Oe&128){z.suspense.unmount(le,he);return}Pe&&invokeDirectiveHook(z,null,X,"beforeUnmount"),Oe&64?z.type.remove(z,X,le,ce,At,he):ge&&(Se!==Fragment||Ce>0&&Ce&64)?yt(ge,X,le,!1,!0):(Se===Fragment&&Ce&(128|256)||!ce&&Oe&16)&&yt(ye,X,le),he&&mt(z)}(Ue&&(Xe=we&&we.onVnodeUnmounted)||Pe)&&queuePostRenderEffect(()=>{Xe&&invokeVNodeHook(Xe,X,z),Pe&&invokeDirectiveHook(z,null,X,"unmounted")},le)},mt=z=>{const{type:X,el:le,anchor:he,transition:ce}=z;if(X===Fragment){bt(le,he);return}if(X===Static){ee(z);return}const Se=()=>{f(le),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(z.shapeFlag&1&&ce&&!ce.persisted){const{leave:we,delayLeave:_e}=ce,ye=()=>we(le,Se);_e?_e(z.el,Se,ye):ye()}else Se()},bt=(z,X)=>{let le;for(;z!==X;)le=N(z),f(z),z=le;f(X)},Jr=(z,X,le)=>{const{bum:he,scope:ce,update:Se,subTree:we,um:_e}=z;he&&invokeArrayFns(he),ce.stop(),Se&&(Se.active=!1,Qe(we,z,X,le)),_e&&queuePostRenderEffect(_e,X),queuePostRenderEffect(()=>{z.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},yt=(z,X,le,he=!1,ce=!1,Se=0)=>{for(let we=Se;we<z.length;we++)Qe(z[we],X,le,he,ce)},lr=z=>z.shapeFlag&6?lr(z.component.subTree):z.shapeFlag&128?z.suspense.next():N(z.anchor||z.el),mr=(z,X,le)=>{z==null?X._vnode&&Qe(X._vnode,null,null,!0):w(X._vnode||null,z,X,null,null,null,le),flushPostFlushCbs(),X._vnode=z},At={p:w,um:Qe,m:He,r:mt,mt:Me,mc:ae,pc:Ke,pbc:re,n:lr,o:t};let _r,jt;return e&&([_r,jt]=e(At)),{render:mr,hydrate:_r,createApp:createAppAPI(mr,_r)}}function toggleRecurse({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function traverseStaticChildren(t,e,s=!1){const a=t.children,f=e.children;if(isArray(a)&&isArray(f))for(let d=0;d<a.length;d++){const _=a[d];let v=f[d];v.shapeFlag&1&&!v.dynamicChildren&&((v.patchFlag<=0||v.patchFlag===32)&&(v=f[d]=cloneIfMounted(f[d]),v.el=_.el),s||traverseStaticChildren(_,v))}}function getSequence(t){const e=t.slice(),s=[0];let a,f,d,_,v;const E=t.length;for(a=0;a<E;a++){const C=t[a];if(C!==0){if(f=s[s.length-1],t[f]<C){e[a]=f,s.push(a);continue}for(d=0,_=s.length-1;d<_;)v=d+_>>1,t[s[v]]<C?d=v+1:_=v;C<t[s[d]]&&(d>0&&(e[a]=s[d-1]),s[d]=a)}}for(d=s.length,_=s[d-1];d-- >0;)s[d]=_,_=e[_];return s}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const s=t&&t.to;return isString(s)?e?e(s):null:s},TeleportImpl={__isTeleport:!0,process(t,e,s,a,f,d,_,v,E,C){const{mc:O,pc:T,pbc:N,o:{insert:r,querySelector:b,createText:B,createComment:w}}=C,K=isTeleportDisabled(e.props);let{shapeFlag:U,children:H,dynamicChildren:F}=e;if(t==null){const ee=e.el=B(""),q=e.anchor=B("");r(ee,s,a),r(q,s,a);const W=e.target=resolveTarget(e.props,b),V=e.targetAnchor=B("");W&&(r(V,W),_=_||isTargetSVG(W));const ae=(se,re)=>{U&16&&O(H,se,re,f,d,_,v,E)};K?ae(s,q):W&&ae(W,V)}else{e.el=t.el;const ee=e.anchor=t.anchor,q=e.target=t.target,W=e.targetAnchor=t.targetAnchor,V=isTeleportDisabled(t.props),ae=V?s:q,se=V?ee:W;if(_=_||isTargetSVG(q),F?(N(t.dynamicChildren,F,ae,f,d,_,v),traverseStaticChildren(t,e,!0)):E||T(t,e,ae,se,f,d,_,v,!1),K)V||moveTeleport(e,s,ee,C,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const re=e.target=resolveTarget(e.props,b);re&&moveTeleport(e,re,null,C,0)}else V&&moveTeleport(e,q,W,C,1)}},remove(t,e,s,a,{um:f,o:{remove:d}},_){const{shapeFlag:v,children:E,anchor:C,targetAnchor:O,target:T,props:N}=t;if(T&&d(O),(_||!isTeleportDisabled(N))&&(d(C),v&16))for(let r=0;r<E.length;r++){const b=E[r];f(b,e,s,!0,!!b.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,s,{o:{insert:a},m:f},d=2){d===0&&a(t.targetAnchor,e,s);const{el:_,anchor:v,shapeFlag:E,children:C,props:O}=t,T=d===2;if(T&&a(_,e,s),(!T||isTeleportDisabled(O))&&E&16)for(let N=0;N<C.length;N++)f(C[N],e,s,2);T&&a(v,e,s)}function hydrateTeleport(t,e,s,a,f,d,{o:{nextSibling:_,parentNode:v,querySelector:E}},C){const O=e.target=resolveTarget(e.props,E);if(O){const T=O._lpa||O.firstChild;e.shapeFlag&16&&(isTeleportDisabled(e.props)?(e.anchor=C(_(t),e,v(t),s,a,f,d),e.targetAnchor=T):(e.anchor=_(t),e.targetAnchor=C(T,e,O,s,a,f,d)),O._lpa=e.targetAnchor&&_(e.targetAnchor))}return e.anchor&&_(e.anchor)}const Teleport=TeleportImpl,COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(t){return isString(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,s=!0,a=!1){const f=currentRenderingInstance||currentInstance;if(f){const d=f.type;if(t===COMPONENTS){const v=getComponentName(d);if(v&&(v===e||v===camelize(e)||v===capitalize(camelize(e))))return d}const _=resolve(f[t]||d[t],e)||resolve(f.appContext[t],e);return!_&&a?d:_}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}const Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,s,a,f,d){return setupBlock(createBaseVNode(t,e,s,a,f,d,!0))}function createBlock(t,e,s,a,f){return setupBlock(createVNode(t,e,s,a,f,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}function transformVNodeArgs(t){}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:e,ref_for:s})=>t!=null?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t,k:e,f:!!s}:t:null;function createBaseVNode(t,e=null,s=null,a=0,f=null,d=t===Fragment?0:1,_=!1,v=!1){const E={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:a,dynamicProps:f,dynamicChildren:null,appContext:null};return v?(normalizeChildren(E,s),d&128&&t.normalize(E)):s&&(E.shapeFlag|=isString(s)?8:16),isBlockTreeEnabled>0&&!_&&currentBlock&&(E.patchFlag>0||d&6)&&E.patchFlag!==32&&currentBlock.push(E),E}const createVNode=_createVNode;function _createVNode(t,e=null,s=null,a=0,f=null,d=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const v=cloneVNode(t,e,!0);return s&&normalizeChildren(v,s),v}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:v,style:E}=e;v&&!isString(v)&&(e.class=normalizeClass(v)),isObject(E)&&(isProxy(E)&&!isArray(E)&&(E=extend({},E)),e.style=normalizeStyle(E))}const _=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject(t)?4:isFunction(t)?2:0;return createBaseVNode(t,e,s,a,f,_,d,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend({},t):t:null}function cloneVNode(t,e,s=!1){const{props:a,ref:f,patchFlag:d,children:_}=t,v=e?mergeProps(a||{},e):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:v,key:v&&normalizeKey(v),ref:e&&e.ref?s&&f?isArray(f)?f.concat(normalizeRef(e)):[f,normalizeRef(e)]:normalizeRef(e):f,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor}}function createTextVNode(t=" ",e=0){return createVNode(Text$1,null,t,e)}function createStaticVNode(t,e){const s=createVNode(Static,null,t);return s.staticCount=e,s}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text$1,null,String(t))}function cloneIfMounted(t){return t.el===null||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let s=0;const{shapeFlag:a}=t;if(e==null)e=null;else if(isArray(e))s=16;else if(typeof e=="object")if(a&(1|64)){const f=e.default;f&&(f._c&&(f._d=!1),normalizeChildren(t,f()),f._c&&(f._d=!0));return}else{s=32;const f=e._;!f&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:f===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction(e)?(e={default:e,_ctx:currentRenderingInstance},s=32):(e=String(e),a&64?(s=16,e=[createTextVNode(e)]):s=8);t.children=e,t.shapeFlag|=s}function mergeProps(...t){const e={};for(let s=0;s<t.length;s++){const a=t[s];for(const f in a)if(f==="class")e.class!==a.class&&(e.class=normalizeClass([e.class,a.class]));else if(f==="style")e.style=normalizeStyle([e.style,a.style]);else if(isOn(f)){const d=e[f],_=a[f];d!==_&&!(isArray(d)&&d.includes(_))&&(e[f]=d?[].concat(d,_):_)}else f!==""&&(e[f]=a[f])}return e}function invokeVNodeHook(t,e,s,a=null){callWithAsyncErrorHandling(t,e,7,[s,a])}function renderList(t,e,s,a){let f;const d=s&&s[a];if(isArray(t)||isString(t)){f=new Array(t.length);for(let _=0,v=t.length;_<v;_++)f[_]=e(t[_],_,void 0,d&&d[_])}else if(typeof t=="number"){f=new Array(t);for(let _=0;_<t;_++)f[_]=e(_+1,_,void 0,d&&d[_])}else if(isObject(t))if(t[Symbol.iterator])f=Array.from(t,(_,v)=>e(_,v,void 0,d&&d[v]));else{const _=Object.keys(t);f=new Array(_.length);for(let v=0,E=_.length;v<E;v++){const C=_[v];f[v]=e(t[C],C,v,d&&d[v])}}else f=[];return s&&(s[a]=f),f}function createSlots(t,e){for(let s=0;s<e.length;s++){const a=e[s];if(isArray(a))for(let f=0;f<a.length;f++)t[a[f].name]=a[f].fn;else a&&(t[a.name]=a.fn)}return t}function renderSlot(t,e,s={},a,f){if(currentRenderingInstance.isCE)return createVNode("slot",e==="default"?null:{name:e},a&&a());let d=t[e];d&&d._c&&(d._d=!1),openBlock();const _=d&&ensureValidVNode(d(s)),v=createBlock(Fragment,{key:s.key||`_${e}`},_||(a?a():[]),_&&t._===1?64:-2);return!f&&v.scopeId&&(v.slotScopeIds=[v.scopeId+"-s"]),d&&d._c&&(d._d=!0),v}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}function toHandlers(t){const e={};for(const s in t)e[toHandlerKey(s)]=t[s];return e}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>()=>queueJob(t.update),$nextTick:t=>nextTick.bind(t.proxy),$watch:t=>instanceWatch.bind(t)}),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:s,setupState:a,data:f,props:d,accessCache:_,type:v,appContext:E}=t;let C;if(e[0]!=="$"){const r=_[e];if(r!==void 0)switch(r){case 1:return a[e];case 2:return f[e];case 4:return s[e];case 3:return d[e]}else{if(a!==EMPTY_OBJ&&hasOwn(a,e))return _[e]=1,a[e];if(f!==EMPTY_OBJ&&hasOwn(f,e))return _[e]=2,f[e];if((C=t.propsOptions[0])&&hasOwn(C,e))return _[e]=3,d[e];if(s!==EMPTY_OBJ&&hasOwn(s,e))return _[e]=4,s[e];shouldCacheAccess&&(_[e]=0)}}const O=publicPropertiesMap[e];let T,N;if(O)return e==="$attrs"&&track(t,"get",e),O(t);if((T=v.__cssModules)&&(T=T[e]))return T;if(s!==EMPTY_OBJ&&hasOwn(s,e))return _[e]=4,s[e];if(N=E.config.globalProperties,hasOwn(N,e))return N[e]},set({_:t},e,s){const{data:a,setupState:f,ctx:d}=t;if(f!==EMPTY_OBJ&&hasOwn(f,e))f[e]=s;else if(a!==EMPTY_OBJ&&hasOwn(a,e))a[e]=s;else if(hasOwn(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(d[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:a,appContext:f,propsOptions:d}},_){let v;return!!s[_]||t!==EMPTY_OBJ&&hasOwn(t,_)||e!==EMPTY_OBJ&&hasOwn(e,_)||(v=d[0])&&hasOwn(v,_)||hasOwn(a,_)||hasOwn(publicPropertiesMap,_)||hasOwn(f.config.globalProperties,_)}},RuntimeCompiledPublicInstanceProxyHandlers=extend({},PublicInstanceProxyHandlers,{get(t,e){if(e!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(t,e,t)},has(t,e){return e[0]!=="_"&&!isGloballyWhitelisted(e)}}),emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(t,e,s){const a=t.type,f=(e?e.appContext:t.appContext)||emptyAppContext,d={uid:uid$1++,vnode:t,type:a,parent:e,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,f),emitsOptions:normalizeEmitsOptions(a,f),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=e?e.root:d,d.emit=emit$1.bind(null,d),t.ce&&t.ce(d),d}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:s,children:a}=t.vnode,f=isStatefulComponent(t);initProps(t,s,f,e),initSlots(t,a);const d=f?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,d}function setupStatefulComponent(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:a}=s;if(a){const f=t.setupContext=a.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const d=callWithErrorHandling(a,t,0,[t.props,f]);if(resetTracking(),unsetCurrentInstance(),isPromise(d)){if(d.then(unsetCurrentInstance,unsetCurrentInstance),e)return d.then(_=>{handleSetupResult(t,_,e)}).catch(_=>{handleError(_,t,0)});t.asyncDep=d}else handleSetupResult(t,d,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,s){isFunction(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,s)}let compile$1,installWithProxy;function registerRuntimeCompiler(t){compile$1=t,installWithProxy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$1;function finishComponentSetup(t,e,s){const a=t.type;if(!t.render){if(!e&&compile$1&&!a.render){const f=a.template;if(f){const{isCustomElement:d,compilerOptions:_}=t.appContext.config,{delimiters:v,compilerOptions:E}=a,C=extend(extend({isCustomElement:d,delimiters:v},_),E);a.render=compile$1(f,C)}}t.render=a.render||NOOP,installWithProxy&&installWithProxy(t)}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(e,s){return track(t,"get","$attrs"),e[s]}})}function createSetupContext(t){const e=a=>{t.exposed=a||{}};let s;return{get attrs(){return s||(s=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](t)}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t){return isFunction(t)&&t.displayName||t.name}function formatComponentName(t,e,s=!1){let a=getComponentName(e);if(!a&&e.__file){const f=e.__file.match(/([^/\\]+)\.\w+$/);f&&(a=f[1])}if(!a&&t&&t.parent){const f=d=>{for(const _ in d)if(d[_]===e)return _};a=f(t.components||t.parent.type.components)||f(t.appContext.components)}return a?classify(a):s?"App":"Anonymous"}function isClassComponent(t){return isFunction(t)&&"__vccOpts"in t}const stack=[];function warn(t,...e){pauseTracking();const s=stack.length?stack[stack.length-1].component:null,a=s&&s.appContext.config.warnHandler,f=getComponentTrace();if(a)callWithErrorHandling(a,s,11,[t+e.join(""),s&&s.proxy,f.map(({vnode:d})=>`at <${formatComponentName(s,d.type)}>`).join(`
`),f]);else{const d=[`[Vue warn]: ${t}`,...e];f.length&&d.push(`
`,...formatTrace(f)),console.warn(...d)}resetTracking()}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const e=[];for(;t;){const s=e[0];s&&s.vnode===t?s.recurseCount++:e.push({vnode:t,recurseCount:0});const a=t.component&&t.component.parent;t=a&&a.vnode}return e}function formatTrace(t){const e=[];return t.forEach((s,a)=>{e.push(...a===0?[]:[`
`],...formatTraceEntry(s))}),e}function formatTraceEntry({vnode:t,recurseCount:e}){const s=e>0?`... (${e} recursive calls)`:"",a=t.component?t.component.parent==null:!1,f=` at <${formatComponentName(t.component,t.type,a)}`,d=">"+s;return t.props?[f,...formatProps(t.props),d]:[f+d]}function formatProps(t){const e=[],s=Object.keys(t);return s.slice(0,3).forEach(a=>{e.push(...formatProp(a,t[a]))}),s.length>3&&e.push(" ..."),e}function formatProp(t,e,s){return isString(e)?(e=JSON.stringify(e),s?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?s?e:[`${t}=${e}`]:isRef(e)?(e=formatProp(t,toRaw(e.value),!0),s?e:[`${t}=Ref<`,e,">"]):isFunction(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),s?e:[`${t}=`,e])}function callWithErrorHandling(t,e,s,a){let f;try{f=a?t(...a):t()}catch(d){handleError(d,e,s)}return f}function callWithAsyncErrorHandling(t,e,s,a){if(isFunction(t)){const d=callWithErrorHandling(t,e,s,a);return d&&isPromise(d)&&d.catch(_=>{handleError(_,e,s)}),d}const f=[];for(let d=0;d<t.length;d++)f.push(callWithAsyncErrorHandling(t[d],e,s,a));return f}function handleError(t,e,s,a=!0){const f=e?e.vnode:null;if(e){let d=e.parent;const _=e.proxy,v=s;for(;d;){const C=d.ec;if(C){for(let O=0;O<C.length;O++)if(C[O](t,_,v)===!1)return}d=d.parent}const E=e.appContext.config.errorHandler;if(E){callWithErrorHandling(E,null,10,[t,_,v]);return}}logError(t,s,f,a)}function logError(t,e,s,a=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,s=queue.length;for(;e<s;){const a=e+s>>>1;getId(queue[a])<t?e=a+1:s=a}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&t!==currentPreFlushParentJob&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queueCb(t,e,s,a){isArray(t)?s.push(...t):(!e||!e.includes(t,t.allowRecurse?a+1:a))&&s.push(t),queueFlush()}function queuePreFlushCb(t){queueCb(t,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(t){queueCb(t,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(t,e=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=e,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(t,e)}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((s,a)=>getId(s)-getId(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id;function flushJobs(t){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(t),queue.sort((s,a)=>getId(s)-getId(a));const e=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const s=queue[flushIndex];s&&s.active!==!1&&callWithErrorHandling(s,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(t)}}function watchEffect(t,e){return doWatch(t,null,e)}function watchPostEffect(t,e){return doWatch(t,null,{flush:"post"})}function watchSyncEffect(t,e){return doWatch(t,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(t,e,s){return doWatch(t,e,s)}function doWatch(t,e,{immediate:s,deep:a,flush:f,onTrack:d,onTrigger:_}=EMPTY_OBJ){const v=currentInstance;let E,C=!1,O=!1;if(isRef(t)?(E=()=>t.value,C=!!t._shallow):isReactive(t)?(E=()=>t,a=!0):isArray(t)?(O=!0,C=t.some(isReactive),E=()=>t.map(K=>{if(isRef(K))return K.value;if(isReactive(K))return traverse(K);if(isFunction(K))return callWithErrorHandling(K,v,2)})):isFunction(t)?e?E=()=>callWithErrorHandling(t,v,2):E=()=>{if(!(v&&v.isUnmounted))return T&&T(),callWithAsyncErrorHandling(t,v,3,[N])}:E=NOOP,e&&a){const K=E;E=()=>traverse(K())}let T,N=K=>{T=w.onStop=()=>{callWithErrorHandling(K,v,4)}};if(isInSSRComponentSetup)return N=NOOP,e?s&&callWithAsyncErrorHandling(e,v,3,[E(),O?[]:void 0,N]):E(),NOOP;let r=O?[]:INITIAL_WATCHER_VALUE;const b=()=>{if(!!w.active)if(e){const K=w.run();(a||C||(O?K.some((U,H)=>hasChanged(U,r[H])):hasChanged(K,r)))&&(T&&T(),callWithAsyncErrorHandling(e,v,3,[K,r===INITIAL_WATCHER_VALUE?void 0:r,N]),r=K)}else w.run()};b.allowRecurse=!!e;let B;f==="sync"?B=b:f==="post"?B=()=>queuePostRenderEffect(b,v&&v.suspense):B=()=>{!v||v.isMounted?queuePreFlushCb(b):b()};const w=new ReactiveEffect(E,B);return e?s?b():r=w.run():f==="post"?queuePostRenderEffect(w.run.bind(w),v&&v.suspense):w.run(),()=>{w.stop(),v&&v.scope&&remove(v.scope.effects,w)}}function instanceWatch(t,e,s){const a=this.proxy,f=isString(t)?t.includes(".")?createPathGetter(a,t):()=>a[t]:t.bind(a,a);let d;isFunction(e)?d=e:(d=e.handler,s=e);const _=currentInstance;setCurrentInstance(this);const v=doWatch(f,d.bind(a),s);return _?setCurrentInstance(_):unsetCurrentInstance(),v}function createPathGetter(t,e){const s=e.split(".");return()=>{let a=t;for(let f=0;f<s.length&&a;f++)a=a[s[f]];return a}}function traverse(t,e){if(!isObject(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray(t))for(let s=0;s<t.length;s++)traverse(t[s],e);else if(isSet(t)||isMap(t))t.forEach(s=>{traverse(s,e)});else if(isPlainObject(t))for(const s in t)traverse(t[s],e);return t}function defineProps(){return null}function defineEmits(){return null}function defineExpose(t){}function withDefaults(t,e){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const t=getCurrentInstance();return t.setupContext||(t.setupContext=createSetupContext(t))}function mergeDefaults(t,e){const s=isArray(t)?t.reduce((a,f)=>(a[f]={},a),{}):t;for(const a in e){const f=s[a];f?isArray(f)||isFunction(f)?s[a]={type:f,default:e[a]}:f.default=e[a]:f===null&&(s[a]={default:e[a]})}return s}function createPropsRestProxy(t,e){const s={};for(const a in t)e.includes(a)||Object.defineProperty(s,a,{enumerable:!0,get:()=>t[a]});return s}function withAsyncContext(t){const e=getCurrentInstance();let s=t();return unsetCurrentInstance(),isPromise(s)&&(s=s.catch(a=>{throw setCurrentInstance(e),a})),[s,()=>setCurrentInstance(e)]}function h(t,e,s){const a=arguments.length;return a===2?isObject(e)&&!isArray(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&isVNode(s)&&(s=[s]),createVNode(t,e,s))}const ssrContextKey=Symbol(""),useSSRContext=()=>{{const t=inject(ssrContextKey);return t||warn("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function initCustomFormatter(){}function withMemo(t,e,s,a){const f=s[a];if(f&&isMemoSame(f,t))return f;const d=e();return d.memo=t.slice(),s[a]=d}function isMemoSame(t,e){const s=t.memo;if(s.length!=e.length)return!1;for(let a=0;a<s.length;a++)if(s[a]!==e[a])return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),!0}const version="3.2.26",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,staticTemplateCache=new Map,nodeOps={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,a)=>{const f=e?doc.createElementNS(svgNS,t):doc.createElement(t,s?{is:s}:void 0);return t==="select"&&a&&a.multiple!=null&&f.setAttribute("multiple",a.multiple),f},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,s,a){const f=s?s.previousSibling:e.lastChild;let d=staticTemplateCache.get(t);if(!d){const _=doc.createElement("template");if(_.innerHTML=a?`<svg>${t}</svg>`:t,d=_.content,a){const v=d.firstChild;for(;v.firstChild;)d.appendChild(v.firstChild);d.removeChild(v)}staticTemplateCache.set(t,d)}return e.insertBefore(d.cloneNode(!0),s),[f?f.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}};function patchClass(t,e,s){const a=t._vtc;a&&(e=(e?[e,...a]:[...a]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}function patchStyle(t,e,s){const a=t.style,f=isString(s);if(s&&!f){for(const d in s)setStyle(a,d,s[d]);if(e&&!isString(e))for(const d in e)s[d]==null&&setStyle(a,d,"")}else{const d=a.display;f?e!==s&&(a.cssText=s):e&&t.removeAttribute("style"),"_vod"in t&&(a.display=d)}}const importantRE=/\s*!important$/;function setStyle(t,e,s){if(isArray(s))s.forEach(a=>setStyle(t,e,a));else if(e.startsWith("--"))t.setProperty(e,s);else{const a=autoPrefix(t,e);importantRE.test(s)?t.setProperty(hyphenate(a),s.replace(importantRE,""),"important"):t[a]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const s=prefixCache[e];if(s)return s;let a=camelize(e);if(a!=="filter"&&a in t)return prefixCache[e]=a;a=capitalize(a);for(let f=0;f<prefixes.length;f++){const d=prefixes[f]+a;if(d in t)return prefixCache[e]=d}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,s,a,f){if(a&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,s);else{const d=isSpecialBooleanAttr(e);s==null||d&&!includeBooleanAttr(s)?t.removeAttribute(e):t.setAttribute(e,d?"":s)}}function patchDOMProp(t,e,s,a,f,d,_){if(e==="innerHTML"||e==="textContent"){a&&_(a,f,d),t[e]=s==null?"":s;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const v=s==null?"":s;(t.value!==v||t.tagName==="OPTION")&&(t.value=v),s==null&&t.removeAttribute(e);return}if(s===""||s==null){const v=typeof t[e];if(v==="boolean"){t[e]=includeBooleanAttr(s);return}else if(s==null&&v==="string"){t[e]="",t.removeAttribute(e);return}else if(v==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=s}catch{}}let _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(t&&Number(t[1])<=53)}let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener(t,e,s,a){t.addEventListener(e,s,a)}function removeEventListener(t,e,s,a){t.removeEventListener(e,s,a)}function patchEvent(t,e,s,a,f=null){const d=t._vei||(t._vei={}),_=d[e];if(a&&_)_.value=a;else{const[v,E]=parseName(e);if(a){const C=d[e]=createInvoker(a,f);addEventListener(t,v,C,E)}else _&&(removeEventListener(t,v,_,E),d[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let s;for(;s=t.match(optionsModifierRE);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[hyphenate(t.slice(2)),e]}function createInvoker(t,e){const s=a=>{const f=a.timeStamp||_getNow();(skipTimestampCheck||f>=s.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(a,s.value),e,5,[a])};return s.value=t,s.attached=getNow(),s}function patchStopImmediatePropagation(t,e){if(isArray(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(a=>f=>!f._stopped&&a(f))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,s,a,f=!1,d,_,v,E)=>{e==="class"?patchClass(t,a,f):e==="style"?patchStyle(t,s,a):isOn(e)?isModelListener(e)||patchEvent(t,e,s,a,_):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,a,f))?patchDOMProp(t,e,a,d,_,v,E):(e==="true-value"?t._trueValue=a:e==="false-value"&&(t._falseValue=a),patchAttr(t,e,a,f))};function shouldSetAsProp(t,e,s,a){return a?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction(s)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString(s)?!1:e in t}function defineCustomElement(t,e){const s=defineComponent(t);class a extends VueElement{constructor(d){super(s,d,e)}}return a.def=s,a}const defineSSRCustomElement=t=>defineCustomElement(t,hydrate),BaseClass=typeof HTMLElement!="undefined"?HTMLElement:class{};class VueElement extends BaseClass{constructor(e,s={},a){super();this._def=e,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&a?a(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let a=0;a<this.attributes.length;a++)this._setAttr(this.attributes[a].name);new MutationObserver(a=>{for(const f of a)this._setAttr(f.attributeName)}).observe(this,{attributes:!0});const e=a=>{const{props:f,styles:d}=a,_=!isArray(f),v=f?_?Object.keys(f):f:[];let E;if(_)for(const C in this._props){const O=f[C];(O===Number||O&&O.type===Number)&&(this._props[C]=toNumber(this._props[C]),(E||(E=Object.create(null)))[C]=!0)}this._numberProps=E;for(const C of Object.keys(this))C[0]!=="_"&&this._setProp(C,this[C],!0,!1);for(const C of v.map(camelize))Object.defineProperty(this,C,{get(){return this._getProp(C)},set(O){this._setProp(C,O)}});this._applyStyles(d),this._update()},s=this._def.__asyncLoader;s?s().then(e):e(this._def)}_setAttr(e){let s=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(s=toNumber(s)),this._setProp(camelize(e),s,!1)}_getProp(e){return this._props[e]}_setProp(e,s,a=!0,f=!0){s!==this._props[e]&&(this._props[e]=s,f&&this._instance&&this._update(),a&&(s===!0?this.setAttribute(hyphenate(e),""):typeof s=="string"||typeof s=="number"?this.setAttribute(hyphenate(e),s+""):s||this.removeAttribute(hyphenate(e))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const e=createVNode(this._def,extend({},this._props));return this._instance||(e.ce=s=>{this._instance=s,s.isCE=!0,s.emit=(f,...d)=>{this.dispatchEvent(new CustomEvent(f,{detail:d}))};let a=this;for(;a=a&&(a.parentNode||a.host);)if(a instanceof VueElement){s.parent=a._instance;break}}),e}_applyStyles(e){e&&e.forEach(s=>{const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)})}}function useCssModule(t="$style"){{const e=getCurrentInstance();if(!e)return EMPTY_OBJ;const s=e.type.__cssModules;if(!s)return EMPTY_OBJ;const a=s[t];return a||EMPTY_OBJ}}function useCssVars(t){const e=getCurrentInstance();if(!e)return;const s=()=>setVarsOnVNode(e.subTree,t(e.proxy));watchPostEffect(s),onMounted(()=>{const a=new MutationObserver(s);a.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>a.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const s=t.suspense;t=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{setVarsOnVNode(s.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment)t.children.forEach(s=>setVarsOnVNode(s,e));else if(t.type===Static){let{el:s,anchor:a}=t;for(;s&&(setVarsOnNode(s,e),s!==a);)s=s.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const s=t.style;for(const a in e)s.setProperty(`--${a}`,e[a])}}const TRANSITION="transition",ANIMATION="animation",Transition=(t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray(t)?t.forEach(s=>s(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const Z in t)Z in DOMTransitionPropsValidators||(e[Z]=t[Z]);if(t.css===!1)return e;const{name:s="v",type:a,duration:f,enterFromClass:d=`${s}-enter-from`,enterActiveClass:_=`${s}-enter-active`,enterToClass:v=`${s}-enter-to`,appearFromClass:E=d,appearActiveClass:C=_,appearToClass:O=v,leaveFromClass:T=`${s}-leave-from`,leaveActiveClass:N=`${s}-leave-active`,leaveToClass:r=`${s}-leave-to`}=t,b=normalizeDuration(f),B=b&&b[0],w=b&&b[1],{onBeforeEnter:K,onEnter:U,onEnterCancelled:H,onLeave:F,onLeaveCancelled:ee,onBeforeAppear:q=K,onAppear:W=U,onAppearCancelled:V=H}=e,ae=(Z,te,Ee)=>{removeTransitionClass(Z,te?O:v),removeTransitionClass(Z,te?C:_),Ee&&Ee()},se=(Z,te)=>{removeTransitionClass(Z,r),removeTransitionClass(Z,N),te&&te()},re=Z=>(te,Ee)=>{const Me=Z?W:U,ke=()=>ae(te,Z,Ee);callHook(Me,[te,ke]),nextFrame(()=>{removeTransitionClass(te,Z?E:d),addTransitionClass(te,Z?O:v),hasExplicitCallback(Me)||whenTransitionEnds(te,a,B,ke)})};return extend(e,{onBeforeEnter(Z){callHook(K,[Z]),addTransitionClass(Z,d),addTransitionClass(Z,_)},onBeforeAppear(Z){callHook(q,[Z]),addTransitionClass(Z,E),addTransitionClass(Z,C)},onEnter:re(!1),onAppear:re(!0),onLeave(Z,te){const Ee=()=>se(Z,te);addTransitionClass(Z,T),forceReflow(),addTransitionClass(Z,N),nextFrame(()=>{removeTransitionClass(Z,T),addTransitionClass(Z,r),hasExplicitCallback(F)||whenTransitionEnds(Z,a,w,Ee)}),callHook(F,[Z,Ee])},onEnterCancelled(Z){ae(Z,!1),callHook(H,[Z])},onAppearCancelled(Z){ae(Z,!0),callHook(V,[Z])},onLeaveCancelled(Z){se(Z),callHook(ee,[Z])}})}function normalizeDuration(t){if(t==null)return null;if(isObject(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:s}=t;s&&(s.delete(e),s.size||(t._vtc=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,s,a){const f=t._endId=++endId,d=()=>{f===t._endId&&a()};if(s)return setTimeout(d,s);const{type:_,timeout:v,propCount:E}=getTransitionInfo(t,e);if(!_)return a();const C=_+"end";let O=0;const T=()=>{t.removeEventListener(C,N),d()},N=r=>{r.target===t&&++O>=E&&T()};setTimeout(()=>{O<E&&T()},v+1),t.addEventListener(C,N)}function getTransitionInfo(t,e){const s=window.getComputedStyle(t),a=b=>(s[b]||"").split(", "),f=a(TRANSITION+"Delay"),d=a(TRANSITION+"Duration"),_=getTimeout(f,d),v=a(ANIMATION+"Delay"),E=a(ANIMATION+"Duration"),C=getTimeout(v,E);let O=null,T=0,N=0;e===TRANSITION?_>0&&(O=TRANSITION,T=_,N=d.length):e===ANIMATION?C>0&&(O=ANIMATION,T=C,N=E.length):(T=Math.max(_,C),O=T>0?_>C?TRANSITION:ANIMATION:null,N=O?O===TRANSITION?d.length:E.length:0);const r=O===TRANSITION&&/\b(transform|all)(,|$)/.test(s[TRANSITION+"Property"]);return{type:O,timeout:T,propCount:N,hasTransform:r}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,a)=>toMs(s)+toMs(t[a])))}function toMs(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=getCurrentInstance(),a=useTransitionState();let f,d;return onUpdated(()=>{if(!f.length)return;const _=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(f[0].el,s.vnode.el,_))return;f.forEach(callPendingCbs),f.forEach(recordPosition);const v=f.filter(applyTranslation);forceReflow(),v.forEach(E=>{const C=E.el,O=C.style;addTransitionClass(C,_),O.transform=O.webkitTransform=O.transitionDuration="";const T=C._moveCb=N=>{N&&N.target!==C||(!N||/transform$/.test(N.propertyName))&&(C.removeEventListener("transitionend",T),C._moveCb=null,removeTransitionClass(C,_))};C.addEventListener("transitionend",T)})}),()=>{const _=toRaw(t),v=resolveTransitionProps(_);let E=_.tag||Fragment;f=d,d=e.default?getTransitionRawChildren(e.default()):[];for(let C=0;C<d.length;C++){const O=d[C];O.key!=null&&setTransitionHooks(O,resolveTransitionHooks(O,v,a,s))}if(f)for(let C=0;C<f.length;C++){const O=f[C];setTransitionHooks(O,resolveTransitionHooks(O,v,a,s)),positionMap.set(O,O.el.getBoundingClientRect())}return createVNode(E,null,d)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),s=newPositionMap.get(t),a=e.left-s.left,f=e.top-s.top;if(a||f){const d=t.el.style;return d.transform=d.webkitTransform=`translate(${a}px,${f}px)`,d.transitionDuration="0s",t}}function hasCSSTransform(t,e,s){const a=t.cloneNode();t._vtc&&t._vtc.forEach(_=>{_.split(/\s+/).forEach(v=>v&&a.classList.remove(v))}),s.split(/\s+/).forEach(_=>_&&a.classList.add(_)),a.style.display="none";const f=e.nodeType===1?e:e.parentNode;f.appendChild(a);const{hasTransform:d}=getTransitionInfo(a);return f.removeChild(a),d}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"];return isArray(e)?s=>invokeArrayFns(e,s):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,trigger(e,"input"))}function trigger(t,e){const s=document.createEvent("HTMLEvents");s.initEvent(e,!0,!0),t.dispatchEvent(s)}const vModelText={created(t,{modifiers:{lazy:e,trim:s,number:a}},f){t._assign=getModelAssigner(f);const d=a||f.props&&f.props.type==="number";addEventListener(t,e?"change":"input",_=>{if(_.target.composing)return;let v=t.value;s?v=v.trim():d&&(v=toNumber(v)),t._assign(v)}),s&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:s,trim:a,number:f}},d){if(t._assign=getModelAssigner(d),t.composing||document.activeElement===t&&(s||a&&t.value.trim()===e||(f||t.type==="number")&&toNumber(t.value)===e))return;const _=e==null?"":e;t.value!==_&&(t.value=_)}},vModelCheckbox={deep:!0,created(t,e,s){t._assign=getModelAssigner(s),addEventListener(t,"change",()=>{const a=t._modelValue,f=getValue(t),d=t.checked,_=t._assign;if(isArray(a)){const v=looseIndexOf(a,f),E=v!==-1;if(d&&!E)_(a.concat(f));else if(!d&&E){const C=[...a];C.splice(v,1),_(C)}}else if(isSet(a)){const v=new Set(a);d?v.add(f):v.delete(f),_(v)}else _(getCheckboxValue(t,d))})},mounted:setChecked,beforeUpdate(t,e,s){t._assign=getModelAssigner(s),setChecked(t,e,s)}};function setChecked(t,{value:e,oldValue:s},a){t._modelValue=e,isArray(e)?t.checked=looseIndexOf(e,a.props.value)>-1:isSet(e)?t.checked=e.has(a.props.value):e!==s&&(t.checked=looseEqual(e,getCheckboxValue(t,!0)))}const vModelRadio={created(t,{value:e},s){t.checked=looseEqual(e,s.props.value),t._assign=getModelAssigner(s),addEventListener(t,"change",()=>{t._assign(getValue(t))})},beforeUpdate(t,{value:e,oldValue:s},a){t._assign=getModelAssigner(a),e!==s&&(t.checked=looseEqual(e,a.props.value))}},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:s}},a){const f=isSet(e);addEventListener(t,"change",()=>{const d=Array.prototype.filter.call(t.options,_=>_.selected).map(_=>s?toNumber(getValue(_)):getValue(_));t._assign(t.multiple?f?new Set(d):d:d[0])}),t._assign=getModelAssigner(a)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,s){t._assign=getModelAssigner(s)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const s=t.multiple;if(!(s&&!isArray(e)&&!isSet(e))){for(let a=0,f=t.options.length;a<f;a++){const d=t.options[a],_=getValue(d);if(s)isArray(e)?d.selected=looseIndexOf(e,_)>-1:d.selected=e.has(_);else if(looseEqual(getValue(d),e)){t.selectedIndex!==a&&(t.selectedIndex=a);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const vModelDynamic={created(t,e,s){callModelHook(t,e,s,null,"created")},mounted(t,e,s){callModelHook(t,e,s,null,"mounted")},beforeUpdate(t,e,s,a){callModelHook(t,e,s,a,"beforeUpdate")},updated(t,e,s,a){callModelHook(t,e,s,a,"updated")}};function callModelHook(t,e,s,a,f){let d;switch(t.tagName){case"SELECT":d=vModelSelect;break;case"TEXTAREA":d=vModelText;break;default:switch(s.props&&s.props.type){case"checkbox":d=vModelCheckbox;break;case"radio":d=vModelRadio;break;default:d=vModelText}}const _=d[f];_&&_(t,e,s,a)}function initVModelForSSR(){vModelText.getSSRProps=({value:t})=>({value:t}),vModelRadio.getSSRProps=({value:t},e)=>{if(e.props&&looseEqual(e.props.value,t))return{checked:!0}},vModelCheckbox.getSSRProps=({value:t},e)=>{if(isArray(t)){if(e.props&&looseIndexOf(t,e.props.value)>-1)return{checked:!0}}else if(isSet(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(s=>t[`${s}Key`]&&!e.includes(s))},withModifiers=(t,e)=>(s,...a)=>{for(let f=0;f<e.length;f++){const d=modifierGuards[e[f]];if(d&&d(s,e))return}return t(s,...a)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>s=>{if(!("key"in s))return;const a=hyphenate(s.key);if(e.some(f=>f===a||keyNames[f]===a))return t(s)},vShow={beforeMount(t,{value:e},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:a}){!e!=!s&&(a?e?(a.beforeEnter(t),setDisplay(t,!0),a.enter(t)):a.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...t)=>{ensureRenderer().render(...t)},hydrate=(...t)=>{ensureHydrationRenderer().hydrate(...t)},createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:s}=e;return e.mount=a=>{const f=normalizeContainer(a);if(!f)return;const d=e._component;!isFunction(d)&&!d.render&&!d.template&&(d.template=f.innerHTML),f.innerHTML="";const _=s(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),_},e},createSSRApp=(...t)=>{const e=ensureHydrationRenderer().createApp(...t),{mount:s}=e;return e.mount=a=>{const f=normalizeContainer(a);if(f)return s(f,!0,f instanceof SVGElement)},e};function normalizeContainer(t){return isString(t)?document.querySelector(t):t}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},compile=()=>{};var vue_runtime_esmBundler=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compile,EffectScope,ReactiveEffect,computed,customRef,effect,effectScope,getCurrentScope,isProxy,isReactive,isReadonly,isRef,markRaw,onScopeDispose,proxyRefs,reactive,readonly,ref,shallowReactive,shallowReadonly,shallowRef,stop,toRaw,toRef,toRefs,triggerRef,unref,camelize,capitalize,normalizeClass,normalizeProps,normalizeStyle,toDisplayString,toHandlerKey,BaseTransition,Comment,Fragment,KeepAlive,Static,Suspense,Teleport,Text:Text$1,callWithAsyncErrorHandling,callWithErrorHandling,cloneVNode,compatUtils,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSlots,createStaticVNode,createTextVNode,createVNode,defineAsyncComponent,defineComponent,defineEmits,defineExpose,defineProps,get devtools(){return devtools},getCurrentInstance,getTransitionRawChildren,guardReactiveProps,h,handleError,initCustomFormatter,inject,isMemoSame,isRuntimeOnly,isVNode,mergeDefaults,mergeProps,nextTick,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,pushScopeId,queuePostFlushCb,registerRuntimeCompiler,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,ssrContextKey,ssrUtils,toHandlers,transformVNodeArgs,useAttrs,useSSRContext,useSlots,useTransitionState,version,warn,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withMemo,withScopeId,Transition,TransitionGroup,VueElement,createApp,createSSRApp,defineCustomElement,defineSSRCustomElement,hydrate,initDirectivesForSSR,render,useCssModule,useCssVars,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,withKeys,withModifiers}),commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),e}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const mapOptionToCommand={quiet:"q",type:"s",kernel:"t",degree:"d",gamma:"g",coef0:"r",cost:"c",nu:"n",epsilon:"p",cacheSize:"m",tolerance:"e",shrinking:"h",probabilityEstimates:"b",weight:"w"};var util={getCommand:function(e){for(var s="",a=Object.keys(e),f=0;f<a.length;f++){var d=a[f];if(e[d]!=null){if(mapOptionToCommand[d]==null)throw new Error("Bad option");switch(s&&(s+=" "),d){case"probabilityEstimates":case"shrinking":s+=`-${mapOptionToCommand[d]} ${e[d]?1:0}`;break;case"quiet":{e[d]&&(s+=`-${mapOptionToCommand[d]} 1`);break}case"weight":{const _=Object.keys(e.weight);for(let v=0;v<_.length;v++)v!==0&&(s+=" "),s+=`-w${_[v]} ${e.weight[_[v]]}`;break}default:{s+=`-${mapOptionToCommand[d]} ${e[d]}`;break}}}}return s}},loadSVM$1=function(t){const e=util,s=t.cwrap("libsvm_predict_one","number",["number","array","number"]),a=t.cwrap("libsvm_predict_one_probability","number",["number","array","number","number"]),f=t.cwrap("add_instance",null,["number","array","number","number","number"]),d=t.cwrap("create_svm_nodes","number",["number","number"]),_=t.cwrap("libsvm_train_problem","number",["number","string"]),v=t.cwrap("svm_get_nr_sv","number",["number"]),E=t.cwrap("svm_get_nr_class","number",["number"]),C=t.cwrap("svm_get_sv_indices",null,["number","number"]),O=t.cwrap("svm_get_labels",null,["number","number"]),T=t.cwrap("svm_free_model",null,["number"]),N=t.cwrap("libsvm_cross_validation",null,["number","string","number","number"]),r=t.cwrap("free_problem",null,["number"]),b=t.cwrap("serialize_model","number",["number"]),B=t.cwrap("deserialize_model","number",["string"]);class w{constructor(F){this.options=Object.assign({},F),this.model=null}train(F,ee){if(this._deserialized)throw new Error("Train cannot be called on instance created with SVM.load");this.free(),this.problem=U(F,ee);const q=this.getCommand();this.model=_(this.problem,q)}crossValidation(F,ee,q){if(this._deserialized)throw new Error("crossValidation cannot be called on instance created with SVM.load");const W=U(F,ee),V=t._malloc(ee.length*8);N(W,this.getCommand(),q,V);const ae=t.HEAPF64.subarray(V/8,V/8+ee.length),se=Array.from(ae);return t._free(V),r(W),se}free(){this.problem&&(r(this.problem),this.problem=null),this.model!==null&&(T(this.model),this.model=null)}getCommand(){return e.getCommand(this.options)}predictOne(F){if(this.model===null)throw new Error("Cannot predict, you must train first");return s(this.model,new Uint8Array(new Float64Array(F).buffer),F.length)}predict(F){let ee=[];for(let q=0;q<F.length;q++)ee.push(this.predictOne(F[q]));return ee}predictProbability(F){let ee=[];for(let q=0;q<F.length;q++)ee.push(this.predictOneProbability(F[q]));return ee}predictOneProbability(F){const ee=this.getLabels(),q=ee.length,W=t._malloc(q*8),V=a(this.model,new Uint8Array(new Float64Array(F).buffer),F.length,W),ae=Array.from(t.HEAPF64.subarray(W/8,W/8+q)),se={prediction:V,estimates:ee.map((re,Z)=>({label:re,probability:ae[Z]}))};return t._free(W),se}getLabels(){const F=E(this.model);return K(O,this.model,F)}getSVIndices(){const F=v(this.model);return K(C,this.model,F).map(ee=>ee-1)}serializeModel(){if(!this.model)throw new Error("Cannot serialize model. No model was trained");const F=b(this.model),ee=t.Pointer_stringify(F);return t._free(F),ee}static load(F){const ee=new w;return ee.model=B(F),ee._deserialized=!0,ee}}w.SVM_TYPES={C_SVC:"0",NU_SVC:"1",ONE_CLASS:"2",EPSILON_SVR:"3",NU_SVR:"4"},w.KERNEL_TYPES={LINEAR:"0",POLYNOMIAL:"1",RBF:"2",SIGMOID:"3",PRECOMPUTED:"4"};function K(H,F,ee){const q=t._malloc(ee*4);H(F,q);const W=t.HEAP32.subarray(q/4,q/4+ee),V=Array.from(W);return t._free(q),V}function U(H,F){const ee=H.length,q=H[0].length,W=d(ee,q);for(let V=0;V<ee;V++)f(W,new Uint8Array(new Float64Array(H[V]).buffer),q,F[V],V);return W}return w},libsvm$1={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$1$1=getAugmentedNamespace(__viteBrowserExternal$1);(function(module){var Module=module.exports={},Module;Module||(Module=(typeof Module!="undefined"?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_WEB=!1,ENVIRONMENT_IS_WORKER=!1,ENVIRONMENT_IS_NODE=!1,ENVIRONMENT_IS_SHELL=!1;if(Module.ENVIRONMENT)if(Module.ENVIRONMENT==="WEB")ENVIRONMENT_IS_WEB=!0;else if(Module.ENVIRONMENT==="WORKER")ENVIRONMENT_IS_WORKER=!0;else if(Module.ENVIRONMENT==="NODE")ENVIRONMENT_IS_NODE=!0;else if(Module.ENVIRONMENT==="SHELL")ENVIRONMENT_IS_SHELL=!0;else throw new Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");else ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof commonjsRequire=="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=console.log),Module.printErr||(Module.printErr=console.warn);var nodeFS,nodePath;Module.read=function(e,s){nodeFS||(nodeFS=require$$1$1),nodePath||(nodePath=require$$1$1),e=nodePath.normalize(e);var a=nodeFS.readFileSync(e);return s?a:a.toString()},Module.readBinary=function(e){var s=Module.read(e,!0);return s.buffer||(s=new Uint8Array(s)),assert(s.buffer),s},Module.load=function(e){globalEval(read(e))},Module.thisProgram||(process.argv.length>1?Module.thisProgram=process.argv[1].replace(/\\/g,"/"):Module.thisProgram="unknown-program"),Module.arguments=process.argv.slice(2),module.exports=Module,process.on("uncaughtException",function(t){if(!(t instanceof ExitStatus))throw t}),Module.inspect=function(){return"[Emscripten Module object]"}}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),typeof printErr!="undefined"&&(Module.printErr=printErr),typeof read!="undefined"?Module.read=read:Module.read=function(){throw"no read() available"},Module.readBinary=function(e){if(typeof readbuffer=="function")return new Uint8Array(readbuffer(e));var s=read(e,"binary");return assert(typeof s=="object"),s},typeof scriptArgs!="undefined"?Module.arguments=scriptArgs:typeof arguments!="undefined"&&(Module.arguments=arguments),typeof quit=="function"&&(Module.quit=function(t,e){quit(t)});else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(Module.read=function(e){var s=new XMLHttpRequest;return s.open("GET",e,!1),s.send(null),s.responseText},ENVIRONMENT_IS_WORKER&&(Module.readBinary=function(e){var s=new XMLHttpRequest;return s.open("GET",e,!1),s.responseType="arraybuffer",s.send(null),s.response}),Module.readAsync=function(e,s,a){var f=new XMLHttpRequest;f.open("GET",e,!0),f.responseType="arraybuffer",f.onload=function(){f.status==200||f.status==0&&f.response?s(f.response):a()},f.onerror=a,f.send(null)},typeof arguments!="undefined"&&(Module.arguments=arguments),typeof console!="undefined")Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.warn(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&typeof dump!="undefined"?function(t){dump(t)}:function(t){})}ENVIRONMENT_IS_WORKER&&(Module.load=importScripts),typeof Module.setWindowTitle=="undefined"&&(Module.setWindowTitle=function(t){document.title=t})}else throw"Unknown runtime environment. Where are we?";function globalEval(t){eval.call(null,t)}!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.thisProgram||(Module.thisProgram="./this.program"),Module.quit||(Module.quit=function(t,e){throw e}),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);moduleOverrides=void 0;var Runtime={setTempRet0:function(t){return tempRet0=t,t},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(t){STACKTOP=t},getNativeTypeSize:function(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(t[t.length-1]==="*")return Runtime.QUANTUM_SIZE;if(t[0]==="i"){var e=parseInt(t.substr(1));return assert(e%8==0),e/8}else return 0}}},getNativeFieldSize:function(t){return Math.max(Runtime.getNativeTypeSize(t),Runtime.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(t,e){return e==="double"||e==="i64"?t&7&&(assert((t&7)==4),t+=4):assert((t&3)==0),t},getAlignSize:function(t,e,s){return!s&&(t=="i64"||t=="double")?8:t?Math.min(e||(t?Runtime.getNativeFieldSize(t):0),Runtime.QUANTUM_SIZE):Math.min(e,8)},dynCall:function(t,e,s){return s&&s.length?Module["dynCall_"+t].apply(null,[e].concat(s)):Module["dynCall_"+t].call(null,e)},functionPointers:[],addFunction:function(t){for(var e=0;e<Runtime.functionPointers.length;e++)if(!Runtime.functionPointers[e])return Runtime.functionPointers[e]=t,2*(1+e);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(t){Runtime.functionPointers[(t-2)/2]=null},warnOnce:function(t){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[t]||(Runtime.warnOnce.shown[t]=1,Module.printErr(t))},funcWrappers:{},getFuncWrapper:function(t,e){assert(e),Runtime.funcWrappers[e]||(Runtime.funcWrappers[e]={});var s=Runtime.funcWrappers[e];return s[t]||(e.length===1?s[t]=function(){return Runtime.dynCall(e,t)}:e.length===2?s[t]=function(f){return Runtime.dynCall(e,t,[f])}:s[t]=function(){return Runtime.dynCall(e,t,Array.prototype.slice.call(arguments))}),s[t]},getCompilerSetting:function(t){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(t){var e=STACKTOP;return STACKTOP=STACKTOP+t|0,STACKTOP=STACKTOP+15&-16,e},staticAlloc:function(t){var e=STATICTOP;return STATICTOP=STATICTOP+t|0,STATICTOP=STATICTOP+15&-16,e},dynamicAlloc:function(t){var e=HEAP32[DYNAMICTOP_PTR>>2],s=(e+t+15|0)&-16;if(HEAP32[DYNAMICTOP_PTR>>2]=s,s>=TOTAL_MEMORY){var a=enlargeMemory();if(!a)return HEAP32[DYNAMICTOP_PTR>>2]=e,0}return e},alignMemory:function(t,e){var s=t=Math.ceil(t/(e||16))*(e||16);return s},makeBigInt:function(t,e,s){var a=s?+(t>>>0)+ +(e>>>0)*4294967296:+(t>>>0)+ +(e|0)*4294967296;return a},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var ABORT=0;function assert(t,e){t||abort("Assertion failed: "+e)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(t){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}var cwrap,ccall;(function(){var JSfuncs={stackSave:function(){Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore()},arrayToC:function(t){var e=Runtime.stackAlloc(t.length);return writeArrayToMemory(t,e),e},stringToC:function(t){var e=0;if(t!=null&&t!==0){var s=(t.length<<2)+1;e=Runtime.stackAlloc(s),stringToUTF8(t,e,s)}return e}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,s,a,f,d){var _=getCFunc(e),v=[],E=0;if(f)for(var C=0;C<f.length;C++){var O=toC[a[C]];O?(E===0&&(E=Runtime.stackSave()),v[C]=O(f[C])):v[C]=f[C]}var T=_.apply(null,v);if(s==="string"&&(T=Pointer_stringify(T)),E!==0){if(d&&d.async){EmterpreterAsync.asyncFinalizers.push(function(){Runtime.stackRestore(E)});return}Runtime.stackRestore(E)}return T};var sourceRegex=/^function\s*[a-zA-Z$_0-9]*\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/;function parseJSFunc(t){var e=t.toString().match(sourceRegex).slice(1);return{arguments:e[0],body:e[1],returnValue:e[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var t in JSfuncs)JSfuncs.hasOwnProperty(t)&&(JSsource[t]=parseJSFunc(JSfuncs[t]))}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(t){return t==="number"}),numericRet=returnType!=="string";if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(t,e){return"$"+e}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){ensureJSsource(),funcstr+="var stack = "+JSsource.stackSave.body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type!=="number"){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"=("+convertCode.returnValue+");"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(ensureJSsource(),funcstr+=JSsource.stackRestore.body.replace("()","(stack)")+";"),funcstr+="return ret})",eval(funcstr)}})(),Module.ccall=ccall,Module.cwrap=cwrap;function setValue(t,e,s,a){switch(s=s||"i8",s.charAt(s.length-1)==="*"&&(s="i32"),s){case"i1":HEAP8[t>>0]=e;break;case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;default:abort("invalid type for setValue: "+s)}}Module.setValue=setValue;function getValue(t,e,s){switch(e=e||"i8",e.charAt(e.length-1)==="*"&&(e="i32"),e){case"i1":return HEAP8[t>>0];case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":return HEAP32[t>>2];case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];default:abort("invalid type for setValue: "+e)}return null}Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE;function allocate(t,e,s,a){var f,d;typeof t=="number"?(f=!0,d=t):(f=!1,d=t.length);var _=typeof e=="string"?e:null,v;if(s==ALLOC_NONE?v=a:v=[typeof _malloc=="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][s===void 0?ALLOC_STATIC:s](Math.max(d,_?1:e.length)),f){var a=v,E;for(assert((v&3)==0),E=v+(d&~3);a<E;a+=4)HEAP32[a>>2]=0;for(E=v+d;a<E;)HEAP8[a++>>0]=0;return v}if(_==="i8")return t.subarray||t.slice?HEAPU8.set(t,v):HEAPU8.set(new Uint8Array(t),v),v;for(var C=0,O,T,N;C<d;){var r=t[C];if(typeof r=="function"&&(r=Runtime.getFunctionIndex(r)),O=_||e[C],O===0){C++;continue}O=="i64"&&(O="i32"),setValue(v+C,r,O),N!==O&&(T=Runtime.getNativeTypeSize(O),N=O),C+=T}return v}Module.allocate=allocate;function getMemory(t){return staticSealed?runtimeInitialized?_malloc(t):Runtime.dynamicAlloc(t):Runtime.staticAlloc(t)}Module.getMemory=getMemory;function Pointer_stringify(t,e){if(e===0||!t)return"";for(var s=0,a,f=0;a=HEAPU8[t+f>>0],s|=a,!(a==0&&!e||(f++,e&&f==e)););e||(e=f);var d="";if(s<128){for(var _=1024,v;e>0;)v=String.fromCharCode.apply(String,HEAPU8.subarray(t,t+Math.min(e,_))),d=d?d+v:v,t+=_,e-=_;return d}return Module.UTF8ToString(t)}Module.Pointer_stringify=Pointer_stringify;function AsciiToString(t){for(var e="";;){var s=HEAP8[t++>>0];if(!s)return e;e+=String.fromCharCode(s)}}Module.AsciiToString=AsciiToString;function stringToAscii(t,e){return writeAsciiToMemory(t,e,!1)}Module.stringToAscii=stringToAscii;var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function UTF8ArrayToString(t,e){for(var s=e;t[s];)++s;if(s-e>16&&t.subarray&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,s));for(var a,f,d,_,v,E,C="";;){if(a=t[e++],!a)return C;if(!(a&128)){C+=String.fromCharCode(a);continue}if(f=t[e++]&63,(a&224)==192){C+=String.fromCharCode((a&31)<<6|f);continue}if(d=t[e++]&63,(a&240)==224?a=(a&15)<<12|f<<6|d:(_=t[e++]&63,(a&248)==240?a=(a&7)<<18|f<<12|d<<6|_:(v=t[e++]&63,(a&252)==248?a=(a&3)<<24|f<<18|d<<12|_<<6|v:(E=t[e++]&63,a=(a&1)<<30|f<<24|d<<18|_<<12|v<<6|E))),a<65536)C+=String.fromCharCode(a);else{var O=a-65536;C+=String.fromCharCode(55296|O>>10,56320|O&1023)}}}Module.UTF8ArrayToString=UTF8ArrayToString;function UTF8ToString(t){return UTF8ArrayToString(HEAPU8,t)}Module.UTF8ToString=UTF8ToString;function stringToUTF8Array(t,e,s,a){if(!(a>0))return 0;for(var f=s,d=s+a-1,_=0;_<t.length;++_){var v=t.charCodeAt(_);if(v>=55296&&v<=57343&&(v=65536+((v&1023)<<10)|t.charCodeAt(++_)&1023),v<=127){if(s>=d)break;e[s++]=v}else if(v<=2047){if(s+1>=d)break;e[s++]=192|v>>6,e[s++]=128|v&63}else if(v<=65535){if(s+2>=d)break;e[s++]=224|v>>12,e[s++]=128|v>>6&63,e[s++]=128|v&63}else if(v<=2097151){if(s+3>=d)break;e[s++]=240|v>>18,e[s++]=128|v>>12&63,e[s++]=128|v>>6&63,e[s++]=128|v&63}else if(v<=67108863){if(s+4>=d)break;e[s++]=248|v>>24,e[s++]=128|v>>18&63,e[s++]=128|v>>12&63,e[s++]=128|v>>6&63,e[s++]=128|v&63}else{if(s+5>=d)break;e[s++]=252|v>>30,e[s++]=128|v>>24&63,e[s++]=128|v>>18&63,e[s++]=128|v>>12&63,e[s++]=128|v>>6&63,e[s++]=128|v&63}}return e[s]=0,s-f}Module.stringToUTF8Array=stringToUTF8Array;function stringToUTF8(t,e,s){return stringToUTF8Array(t,HEAPU8,e,s)}Module.stringToUTF8=stringToUTF8;function lengthBytesUTF8(t){for(var e=0,s=0;s<t.length;++s){var a=t.charCodeAt(s);a>=55296&&a<=57343&&(a=65536+((a&1023)<<10)|t.charCodeAt(++s)&1023),a<=127?++e:a<=2047?e+=2:a<=65535?e+=3:a<=2097151?e+=4:a<=67108863?e+=5:e+=6}return e}Module.lengthBytesUTF8=lengthBytesUTF8,typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le");function demangle(t){var e=Module.___cxa_demangle||Module.__cxa_demangle;if(e){try{var s=t.substr(1),a=lengthBytesUTF8(s)+1,f=_malloc(a);stringToUTF8(s,f,a);var d=_malloc(4),_=e(f,0,0,d);if(getValue(d,"i32")===0&&_)return Pointer_stringify(_)}catch{}finally{f&&_free(f),d&&_free(d),_&&_free(_)}return t}return Runtime.warnOnce("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),t}function demangleAll(t){var e=/__Z[\w\d_]+/g;return t.replace(e,function(s){var a=demangle(s);return s===a?s:s+" ["+a+"]"})}function jsStackTrace(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(e){t=e}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function stackTrace(){var t=jsStackTrace();return Module.extraStackTrace&&(t+=`
`+Module.extraStackTrace()),demangleAll(t)}Module.stackTrace=stackTrace;var WASM_PAGE_SIZE=65536,ASMJS_PAGE_SIZE=16777216,MIN_TOTAL_MEMORY=16777216;function alignUp(t,e){return t%e>0&&(t+=e-t%e),t}var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(t){Module.buffer=buffer=t}function updateGlobalBufferViews(){Module.HEAP8=HEAP8=new Int8Array(buffer),Module.HEAP16=HEAP16=new Int16Array(buffer),Module.HEAP32=HEAP32=new Int32Array(buffer),Module.HEAPU8=HEAPU8=new Uint8Array(buffer),Module.HEAPU16=HEAPU16=new Uint16Array(buffer),Module.HEAPU32=HEAPU32=new Uint32Array(buffer),Module.HEAPF32=HEAPF32=new Float32Array(buffer),Module.HEAPF64=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed,STACK_BASE,STACKTOP,STACK_MAX,DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0,staticSealed=!1;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+TOTAL_MEMORY+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}Module.reallocBuffer||(Module.reallocBuffer=function(t){var e;try{if(ArrayBuffer.transfer)e=ArrayBuffer.transfer(buffer,t);else{var s=HEAP8;e=new ArrayBuffer(t);var a=new Int8Array(e);a.set(s)}}catch{return!1}var f=_emscripten_replace_memory(e);return f?e:!1});function enlargeMemory(){var t=Module.usingWasm?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE,e=2147483648-t;if(HEAP32[DYNAMICTOP_PTR>>2]>e)return!1;for(TOTAL_MEMORY=Math.max(TOTAL_MEMORY,MIN_TOTAL_MEMORY);TOTAL_MEMORY<HEAP32[DYNAMICTOP_PTR>>2];)TOTAL_MEMORY<=536870912?TOTAL_MEMORY=alignUp(2*TOTAL_MEMORY,t):TOTAL_MEMORY=Math.min(alignUp((3*TOTAL_MEMORY+2147483648)/4,t),e);var s=Module.reallocBuffer(TOTAL_MEMORY);return!s||s.byteLength!=TOTAL_MEMORY?!1:(updateGlobalBuffer(s),updateGlobalBufferViews(),!0)}var byteLength;try{byteLength=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),byteLength(new ArrayBuffer(4))}catch(t){byteLength=function(e){return e.byteLength}}var TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||16777216;TOTAL_MEMORY<TOTAL_STACK&&Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")"),Module.buffer?buffer=Module.buffer:buffer=new ArrayBuffer(TOTAL_MEMORY),updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}if(HEAP32[0]=1668509029,HEAP16[1]=25459,HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module.HEAP=HEAP,Module.buffer=buffer,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;function callRuntimeCallbacks(t){for(;t.length>0;){var e=t.shift();if(typeof e=="function"){e();continue}var s=e.func;typeof s=="number"?e.arg===void 0?Module.dynCall_v(s):Module.dynCall_vi(s,e.arg):s(e.arg===void 0?null:e.arg)}}var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}Module.addOnPreRun=addOnPreRun;function addOnInit(t){__ATINIT__.unshift(t)}Module.addOnInit=addOnInit;function addOnPreMain(t){__ATMAIN__.unshift(t)}Module.addOnPreMain=addOnPreMain;function addOnExit(t){__ATEXIT__.unshift(t)}Module.addOnExit=addOnExit;function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}Module.addOnPostRun=addOnPostRun;function intArrayFromString(t,e,s){var a=s>0?s:lengthBytesUTF8(t)+1,f=new Array(a),d=stringToUTF8Array(t,f,0,f.length);return e&&(f.length=d),f}Module.intArrayFromString=intArrayFromString;function intArrayToString(t){for(var e=[],s=0;s<t.length;s++){var a=t[s];a>255&&(a&=255),e.push(String.fromCharCode(a))}return e.join("")}Module.intArrayToString=intArrayToString;function writeStringToMemory(t,e,s){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var a,f;s&&(f=e+lengthBytesUTF8(t),a=HEAP8[f]),stringToUTF8(t,e,1/0),s&&(HEAP8[f]=a)}Module.writeStringToMemory=writeStringToMemory;function writeArrayToMemory(t,e){HEAP8.set(t,e)}Module.writeArrayToMemory=writeArrayToMemory;function writeAsciiToMemory(t,e,s){for(var a=0;a<t.length;++a)HEAP8[e++>>0]=t.charCodeAt(a);s||(HEAP8[e>>0]=0)}Module.writeAsciiToMemory=writeAsciiToMemory,(!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function t(e,s){var a=e>>>16,f=e&65535,d=s>>>16,_=s&65535;return f*_+(a*_+f*d<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(t){t=t>>>0;for(var e=0;e<32;e++)if(t&1<<31-e)return e;return 32}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Math.trunc=Math.trunc;var Math_abs=Math.abs,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_min=Math.min,runDependencies=0,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}Module.addRunDependency=addRunDependency;function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={},STATIC_BASE=8,STATICTOP=STATIC_BASE+7824,__ATINIT__.push(),allocate([116,5,0,0,186,5,0,0,24,0,0,0,0,0,0,0,76,5,0,0,194,5,0,0,76,5,0,0,241,5,0,0,116,5,0,0,249,5,0,0,32,0,0,0,0,0,0,0,116,5,0,0,26,8,0,0,8,0,0,0,0,0,0,0,116,5,0,0,33,8,0,0,8,0,0,0,0,0,0,0,116,5,0,0,47,8,0,0,8,0,0,0,0,0,0,0,76,5,0,0,17,22,0,0,116,5,0,0,113,22,0,0,128,0,0,0,0,0,0,0,116,5,0,0,30,22,0,0,144,0,0,0,0,0,0,0,76,5,0,0,63,22,0,0,116,5,0,0,76,22,0,0,112,0,0,0,0,0,0,0,116,5,0,0,119,23,0,0,128,0,0,0,0,0,0,0,116,5,0,0,83,23,0,0,168,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,32,0,0,0,3,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,40,0,0,0,3,0,0,0,7,0,0,0,2,0,0,0,2,0,0,0,8,0,0,0,0,0,0,0,56,0,0,0,3,0,0,0,1,0,0,0,2,0,0,0,9,0,0,0,10,0,0,0,0,0,0,0,72,0,0,0,4,0,0,0,2,0,0,0,3,0,0,0,11,0,0,0,12,0,0,0,0,0,0,0,88,0,0,0,5,0,0,0,3,0,0,0,4,0,0,0,13,0,0,0,14,0,0,0,128,9,0,0,134,9,0,0,141,9,0,0,151,9,0,0,163,9,0,0,0,0,0,0,86,9,0,0,93,9,0,0,104,9,0,0,108,9,0,0,116,9,0,0,0,0,0,0,168,1,0,0,5,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,7,0,0,0,28,26,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,3,0,0,5,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,7,0,0,0,36,26,0,0,0,4,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,3,0,0,184,3,0,0,20,0,0,0,67,46,85,84,70,45,56,0,0,0,0,0,0,0,0,0,0,0,0,0,222,18,4,149,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,2,0,0,192,3,0,0,192,4,0,0,192,5,0,0,192,6,0,0,192,7,0,0,192,8,0,0,192,9,0,0,192,10,0,0,192,11,0,0,192,12,0,0,192,13,0,0,192,14,0,0,192,15,0,0,192,16,0,0,192,17,0,0,192,18,0,0,192,19,0,0,192,20,0,0,192,21,0,0,192,22,0,0,192,23,0,0,192,24,0,0,192,25,0,0,192,26,0,0,192,27,0,0,192,28,0,0,192,29,0,0,192,30,0,0,192,31,0,0,192,0,0,0,179,1,0,0,195,2,0,0,195,3,0,0,195,4,0,0,195,5,0,0,195,6,0,0,195,7,0,0,195,8,0,0,195,9,0,0,195,10,0,0,195,11,0,0,195,12,0,0,195,13,0,0,211,14,0,0,195,15,0,0,195,0,0,12,187,1,0,12,195,2,0,12,195,3,0,12,195,4,0,12,211,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,100,0,0,0,232,3,0,0,16,39,0,0,160,134,1,0,64,66,15,0,128,150,152,0,0,225,245,5,95,112,137,0,255,9,47,15,2,0,0,0,8,22,0,0,0,0,0,0,112,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,10,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,152,0,0,0,15,0,0,0,19,0,0,0,17,0,0,0,18,0,0,0,10,0,0,0,2,0,0,0,2,0,0,0,2,0,0,0,32,9,10,0,85,110,107,110,111,119,110,32,111,112,116,105,111,110,58,32,45,37,99,10,0,116,101,115,116,102,105,108,101,46,116,120,116,0,54,75,101,114,110,101,108,0,55,81,77,97,116,114,105,120,0,42,0,10,87,65,82,78,73,78,71,58,32,117,115,105,110,103,32,45,104,32,48,32,109,97,121,32,98,101,32,102,97,115,116,101,114,10,0,54,83,111,108,118,101,114,0,57,83,111,108,118,101,114,95,78,85,0,10,87,65,82,78,73,78,71,58,32,114,101,97,99,104,105,110,103,32,109,97,120,32,110,117,109,98,101,114,32,111,102,32,105,116,101,114,97,116,105,111,110,115,10,0,10,111,112,116,105,109,105,122,97,116,105,111,110,32,102,105,110,105,115,104,101,100,44,32,35,105,116,101,114,32,61,32,37,100,10,0,80,114,111,98,46,32,109,111,100,101,108,32,102,111,114,32,116,101,115,116,32,100,97,116,97,58,32,116,97,114,103,101,116,32,118,97,108,117,101,32,61,32,112,114,101,100,105,99,116,101,100,32,118,97,108,117,101,32,43,32,122,44,10,122,58,32,76,97,112,108,97,99,101,32,100,105,115,116,114,105,98,117,116,105,111,110,32,101,94,40,45,124,122,124,47,115,105,103,109,97,41,47,40,50,115,105,103,109,97,41,44,115,105,103,109,97,61,32,37,103,10,0,87,65,82,78,73,78,71,58,32,116,114,97,105,110,105,110,103,32,100,97,116,97,32,105,110,32,111,110,108,121,32,111,110,101,32,99,108,97,115,115,46,32,83,101,101,32,82,69,65,68,77,69,32,102,111,114,32,100,101,116,97,105,108,115,46,10,0,87,65,82,78,73,78,71,58,32,99,108,97,115,115,32,108,97,98,101,108,32,37,100,32,115,112,101,99,105,102,105,101,100,32,105,110,32,119,101,105,103,104,116,32,105,115,32,110,111,116,32,102,111,117,110,100,10,0,76,105,110,101,32,115,101,97,114,99,104,32,102,97,105,108,115,32,105,110,32,116,119,111,45,99,108,97,115,115,32,112,114,111,98,97,98,105,108,105,116,121,32,101,115,116,105,109,97,116,101,115,10,0,82,101,97,99,104,105,110,103,32,109,97,120,105,109,97,108,32,105,116,101,114,97,116,105,111,110,115,32,105,110,32,116,119,111,45,99,108,97,115,115,32,112,114,111,98,97,98,105,108,105,116,121,32,101,115,116,105,109,97,116,101,115,10,0,84,111,116,97,108,32,110,83,86,32,61,32,37,100,10,0,110,117,32,61,32,37,102,10,0,67,32,61,32,37,102,10,0,101,112,115,105,108,111,110,32,61,32,37,102,10,0,111,98,106,32,61,32,37,102,44,32,114,104,111,32,61,32,37,102,10,0,110,83,86,32,61,32,37,100,44,32,110,66,83,86,32,61,32,37,100,10,0,53,83,86,82,95,81,0,49,49,79,78,69,95,67,76,65,83,83,95,81,0,53,83,86,67,95,81,0,87,65,82,78,73,78,71,58,32,35,32,102,111,108,100,115,32,62,32,35,32,100,97,116,97,46,32,87,105,108,108,32,117,115,101,32,35,32,102,111,108,100,115,32,61,32,35,32,100,97,116,97,32,105,110,115,116,101,97,100,32,40,105,46,101,46,44,32,108,101,97,118,101,45,111,110,101,45,111,117,116,32,99,114,111,115,115,32,118,97,108,105,100,97,116,105,111,110,41,10,0,69,120,99,101,101,100,115,32,109,97,120,95,105,116,101,114,32,105,110,32,109,117,108,116,105,99,108,97,115,115,95,112,114,111,98,10,0,119,0,115,118,109,95,116,121,112,101,32,37,115,10,0,107,101,114,110,101,108,95,116,121,112,101,32,37,115,10,0,100,101,103,114,101,101,32,37,100,10,0,103,97,109,109,97,32,37,103,10,0,99,111,101,102,48,32,37,103,10,0,110,114,95,99,108,97,115,115,32,37,100,10,0,116,111,116,97,108,95,115,118,32,37,100,10,0,114,104,111,0,32,37,103,0,108,97,98,101,108,0,32,37,100,0,112,114,111,98,65,0,112,114,111,98,66,0,110,114,95,115,118,0,83,86,10,0,37,100,58,37,46,56,103,32,0,48,58,37,100,32,0,37,46,49,54,103,32,0,108,105,110,101,97,114,0,112,111,108,121,110,111,109,105,97,108,0,114,98,102,0,115,105,103,109,111,105,100,0,112,114,101,99,111,109,112,117,116,101,100,0,99,95,115,118,99,0,110,117,95,115,118,99,0,111,110,101,95,99,108,97,115,115,0,101,112,115,105,108,111,110,95,115,118,114,0,110,117,95,115,118,114,0,37,56,48,115,0,115,118,109,95,116,121,112,101,0,107,101,114,110,101,108,95,116,121,112,101,0,100,101,103,114,101,101,0,37,100,0,103,97,109,109,97,0,37,108,102,0,99,111,101,102,48,0,110,114,95,99,108,97,115,115,0,116,111,116,97,108,95,115,118,0,83,86,0,117,110,107,110,111,119,110,32,116,101,120,116,32,105,110,32,109,111,100,101,108,32,102,105,108,101,58,32,91,37,115,93,10,0,117,110,107,110,111,119,110,32,107,101,114,110,101,108,32,102,117,110,99,116,105,111,110,46,10,0,117,110,107,110,111,119,110,32,115,118,109,32,116,121,112,101,46,10,0,114,98,0,69,82,82,79,82,58,32,102,115,99,97,110,102,32,102,97,105,108,101,100,32,116,111,32,114,101,97,100,32,109,111,100,101,108,10,0,58,0,32,9,0,17,0,10,0,17,17,17,0,0,0,0,5,0,0,0,0,0,0,9,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,15,10,17,17,17,3,10,7,0,1,19,9,11,11,0,0,9,6,11,0,0,11,0,6,17,0,0,0,17,17,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,17,0,10,10,17,17,17,0,10,0,0,2,0,9,11,0,0,0,9,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,13,0,0,0,0,9,14,0,0,0,0,0,14,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,15,0,0,0,0,9,16,0,0,0,0,0,16,0,0,16,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,18,18,18,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,10,0,0,0,0,9,11,0,0,0,0,0,11,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,12,0,0,0,0,9,12,0,0,0,0,0,12,0,0,12,0,0,45,43,32,32,32,48,88,48,120,0,40,110,117,108,108,41,0,45,48,88,43,48,88,32,48,88,45,48,120,43,48,120,32,48,120,0,105,110,102,0,73,78,70,0,78,65,78,0,48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,46,0,84,33,34,25,13,1,2,3,17,75,28,12,16,4,11,29,18,30,39,104,110,111,112,113,98,32,5,6,15,19,20,21,26,8,22,7,40,36,23,24,9,10,14,27,31,37,35,131,130,125,38,42,43,60,61,62,63,67,71,74,77,88,89,90,91,92,93,94,95,96,97,99,100,101,102,103,105,106,107,108,114,115,116,121,122,123,124,0,73,108,108,101,103,97,108,32,98,121,116,101,32,115,101,113,117,101,110,99,101,0,68,111,109,97,105,110,32,101,114,114,111,114,0,82,101,115,117,108,116,32,110,111,116,32,114,101,112,114,101,115,101,110,116,97,98,108,101,0,78,111,116,32,97,32,116,116,121,0,80,101,114,109,105,115,115,105,111,110,32,100,101,110,105,101,100,0,79,112,101,114,97,116,105,111,110,32,110,111,116,32,112,101,114,109,105,116,116,101,100,0,78,111,32,115,117,99,104,32,102,105,108,101,32,111,114,32,100,105,114,101,99,116,111,114,121,0,78,111,32,115,117,99,104,32,112,114,111,99,101,115,115,0,70,105,108,101,32,101,120,105,115,116,115,0,86,97,108,117,101,32,116,111,111,32,108,97,114,103,101,32,102,111,114,32,100,97,116,97,32,116,121,112,101,0,78,111,32,115,112,97,99,101,32,108,101,102,116,32,111,110,32,100,101,118,105,99,101,0,79,117,116,32,111,102,32,109,101,109,111,114,121,0,82,101,115,111,117,114,99,101,32,98,117,115,121,0,73,110,116,101,114,114,117,112,116,101,100,32,115,121,115,116,101,109,32,99,97,108,108,0,82,101,115,111,117,114,99,101,32,116,101,109,112,111,114,97,114,105,108,121,32,117,110,97,118,97,105,108,97,98,108,101,0,73,110,118,97,108,105,100,32,115,101,101,107,0,67,114,111,115,115,45,100,101,118,105,99,101,32,108,105,110,107,0,82,101,97,100,45,111,110,108,121,32,102,105,108,101,32,115,121,115,116,101,109,0,68,105,114,101,99,116,111,114,121,32,110,111,116,32,101,109,112,116,121,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,112,101,101,114,0,79,112,101,114,97,116,105,111,110,32,116,105,109,101,100,32,111,117,116,0,67,111,110,110,101,99,116,105,111,110,32,114,101,102,117,115,101,100,0,72,111,115,116,32,105,115,32,100,111,119,110,0,72,111,115,116,32,105,115,32,117,110,114,101,97,99,104,97,98,108,101,0,65,100,100,114,101,115,115,32,105,110,32,117,115,101,0,66,114,111,107,101,110,32,112,105,112,101,0,73,47,79,32,101,114,114,111,114,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,32,111,114,32,97,100,100,114,101,115,115,0,66,108,111,99,107,32,100,101,118,105,99,101,32,114,101,113,117,105,114,101,100,0,78,111,32,115,117,99,104,32,100,101,118,105,99,101,0,78,111,116,32,97,32,100,105,114,101,99,116,111,114,121,0,73,115,32,97,32,100,105,114,101,99,116,111,114,121,0,84,101,120,116,32,102,105,108,101,32,98,117,115,121,0,69,120,101,99,32,102,111,114,109,97,116,32,101,114,114,111,114,0,73,110,118,97,108,105,100,32,97,114,103,117,109,101,110,116,0,65,114,103,117,109,101,110,116,32,108,105,115,116,32,116,111,111,32,108,111,110,103,0,83,121,109,98,111,108,105,99,32,108,105,110,107,32,108,111,111,112,0,70,105,108,101,110,97,109,101,32,116,111,111,32,108,111,110,103,0,84,111,111,32,109,97,110,121,32,111,112,101,110,32,102,105,108,101,115,32,105,110,32,115,121,115,116,101,109,0,78,111,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,115,32,97,118,97,105,108,97,98,108,101,0,66,97,100,32,102,105,108,101,32,100,101,115,99,114,105,112,116,111,114,0,78,111,32,99,104,105,108,100,32,112,114,111,99,101,115,115,0,66,97,100,32,97,100,100,114,101,115,115,0,70,105,108,101,32,116,111,111,32,108,97,114,103,101,0,84,111,111,32,109,97,110,121,32,108,105,110,107,115,0,78,111,32,108,111,99,107,115,32,97,118,97,105,108,97,98,108,101,0,82,101,115,111,117,114,99,101,32,100,101,97,100,108,111,99,107,32,119,111,117,108,100,32,111,99,99,117,114,0,83,116,97,116,101,32,110,111,116,32,114,101,99,111,118,101,114,97,98,108,101,0,80,114,101,118,105,111,117,115,32,111,119,110,101,114,32,100,105,101,100,0,79,112,101,114,97,116,105,111,110,32,99,97,110,99,101,108,101,100,0,70,117,110,99,116,105,111,110,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,0,78,111,32,109,101,115,115,97,103,101,32,111,102,32,100,101,115,105,114,101,100,32,116,121,112,101,0,73,100,101,110,116,105,102,105,101,114,32,114,101,109,111,118,101,100,0,68,101,118,105,99,101,32,110,111,116,32,97,32,115,116,114,101,97,109,0,78,111,32,100,97,116,97,32,97,118,97,105,108,97,98,108,101,0,68,101,118,105,99,101,32,116,105,109,101,111,117,116,0,79,117,116,32,111,102,32,115,116,114,101,97,109,115,32,114,101,115,111,117,114,99,101,115,0,76,105,110,107,32,104,97,115,32,98,101,101,110,32,115,101,118,101,114,101,100,0,80,114,111,116,111,99,111,108,32,101,114,114,111,114,0,66,97,100,32,109,101,115,115,97,103,101,0,70,105,108,101,32,100,101,115,99,114,105,112,116,111,114,32,105,110,32,98,97,100,32,115,116,97,116,101,0,78,111,116,32,97,32,115,111,99,107,101,116,0,68,101,115,116,105,110,97,116,105,111,110,32,97,100,100,114,101,115,115,32,114,101,113,117,105,114,101,100,0,77,101,115,115,97,103,101,32,116,111,111,32,108,97,114,103,101,0,80,114,111,116,111,99,111,108,32,119,114,111,110,103,32,116,121,112,101,32,102,111,114,32,115,111,99,107,101,116,0,80,114,111,116,111,99,111,108,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,80,114,111,116,111,99,111,108,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,83,111,99,107,101,116,32,116,121,112,101,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,78,111,116,32,115,117,112,112,111,114,116,101,100,0,80,114,111,116,111,99,111,108,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,0,65,100,100,114,101,115,115,32,102,97,109,105,108,121,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,98,121,32,112,114,111,116,111,99,111,108,0,65,100,100,114,101,115,115,32,110,111,116,32,97,118,97,105,108,97,98,108,101,0,78,101,116,119,111,114,107,32,105,115,32,100,111,119,110,0,78,101,116,119,111,114,107,32,117,110,114,101,97,99,104,97,98,108,101,0,67,111,110,110,101,99,116,105,111,110,32,114,101,115,101,116,32,98,121,32,110,101,116,119,111,114,107,0,67,111,110,110,101,99,116,105,111,110,32,97,98,111,114,116,101,100,0,78,111,32,98,117,102,102,101,114,32,115,112,97,99,101,32,97,118,97,105,108,97,98,108,101,0,83,111,99,107,101,116,32,105,115,32,99,111,110,110,101,99,116,101,100,0,83,111,99,107,101,116,32,110,111,116,32,99,111,110,110,101,99,116,101,100,0,67,97,110,110,111,116,32,115,101,110,100,32,97,102,116,101,114,32,115,111,99,107,101,116,32,115,104,117,116,100,111,119,110,0,79,112,101,114,97,116,105,111,110,32,97,108,114,101,97,100,121,32,105,110,32,112,114,111,103,114,101,115,115,0,79,112,101,114,97,116,105,111,110,32,105,110,32,112,114,111,103,114,101,115,115,0,83,116,97,108,101,32,102,105,108,101,32,104,97,110,100,108,101,0,82,101,109,111,116,101,32,73,47,79,32,101,114,114,111,114,0,81,117,111,116,97,32,101,120,99,101,101,100,101,100,0,78,111,32,109,101,100,105,117,109,32,102,111,117,110,100,0,87,114,111,110,103,32,109,101,100,105,117,109,32,116,121,112,101,0,78,111,32,101,114,114,111,114,32,105,110,102,111,114,109,97,116,105,111,110,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,4,7,3,6,5,0,105,110,102,105,110,105,116,121,0,110,97,110,0,114,119,97,0,76,67,95,65,76,76,0,76,67,95,67,84,89,80,69,0,0,0,0,76,67,95,78,85,77,69,82,73,67,0,0,76,67,95,84,73,77,69,0,0,0,0,0,76,67,95,67,79,76,76,65,84,69,0,0,76,67,95,77,79,78,69,84,65,82,89,0,76,67,95,77,69,83,83,65,71,69,83,0,76,65,78,71,0,67,46,85,84,70,45,56,0,80,79,83,73,88,0,77,85,83,76,95,76,79,67,80,65,84,72,0,67,46,85,84,70,45,56,0,0,0,0,0,0,0,0,0,67,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,58,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,101,120,99,101,112,116,105,111,110,32,111,102,32,116,121,112,101,32,37,115,0,116,101,114,109,105,110,97,116,105,110,103,32,119,105,116,104,32,37,115,32,102,111,114,101,105,103,110,32,101,120,99,101,112,116,105,111,110,0,116,101,114,109,105,110,97,116,105,110,103,0,117,110,99,97,117,103,104,116,0,83,116,57,101,120,99,101,112,116,105,111,110,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,83,116,57,116,121,112,101,95,105,110,102,111,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,112,116,104,114,101,97,100,95,111,110,99,101,32,102,97,105,108,117,114,101,32,105,110,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,95,102,97,115,116,40,41,0,99,97,110,110,111,116,32,99,114,101,97,116,101,32,112,116,104,114,101,97,100,32,107,101,121,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,99,97,110,110,111,116,32,122,101,114,111,32,111,117,116,32,116,104,114,101,97,100,32,118,97,108,117,101,32,102,111,114,32,95,95,99,120,97,95,103,101,116,95,103,108,111,98,97,108,115,40,41,0,116,101,114,109,105,110,97,116,101,95,104,97,110,100,108,101,114,32,117,110,101,120,112,101,99,116,101,100,108,121,32,114,101,116,117,114,110,101,100,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=STATICTOP;STATICTOP+=16,Module._i64Subtract=_i64Subtract,Module._i64Add=_i64Add,Module._memset=_memset,Module._bitshift64Shl=_bitshift64Shl;function _abort(){Module.abort()}function _pthread_once(t,e){_pthread_once.seen||(_pthread_once.seen={}),!(t in _pthread_once.seen)&&(Module.dynCall_v(e),_pthread_once.seen[t]=1)}function ___lock(){}function ___unlock(){}var PTHREAD_SPECIFIC={};function _pthread_getspecific(t){return PTHREAD_SPECIFIC[t]||0}var PTHREAD_SPECIFIC_NEXT_KEY=1,ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _pthread_key_create(t,e){return t==0?ERRNO_CODES.EINVAL:(HEAP32[t>>2]=PTHREAD_SPECIFIC_NEXT_KEY,PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY]=0,PTHREAD_SPECIFIC_NEXT_KEY++,0)}var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function ___setErrNo(t){return Module.___errno_location&&(HEAP32[Module.___errno_location()>>2]=t),t}var PATH={splitPath:function(t){var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(t).slice(1)},normalizeArray:function(t,e){for(var s=0,a=t.length-1;a>=0;a--){var f=t[a];f==="."?t.splice(a,1):f===".."?(t.splice(a,1),s++):s&&(t.splice(a,1),s--)}if(e)for(;s--;s)t.unshift("..");return t},normalize:function(t){var e=t.charAt(0)==="/",s=t.substr(-1)==="/";return t=PATH.normalizeArray(t.split("/").filter(function(a){return!!a}),!e).join("/"),!t&&!e&&(t="."),t&&s&&(t+="/"),(e?"/":"")+t},dirname:function(t){var e=PATH.splitPath(t),s=e[0],a=e[1];return!s&&!a?".":(a&&(a=a.substr(0,a.length-1)),s+a)},basename:function(t){if(t==="/")return"/";var e=t.lastIndexOf("/");return e===-1?t:t.substr(e+1)},extname:function(t){return PATH.splitPath(t)[3]},join:function(){var t=Array.prototype.slice.call(arguments,0);return PATH.normalize(t.join("/"))},join2:function(t,e){return PATH.normalize(t+"/"+e)},resolve:function(){for(var t="",e=!1,s=arguments.length-1;s>=-1&&!e;s--){var a=s>=0?arguments[s]:FS.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";t=a+"/"+t,e=a.charAt(0)==="/"}return t=PATH.normalizeArray(t.split("/").filter(function(f){return!!f}),!e).join("/"),(e?"/":"")+t||"."},relative:function(t,e){t=PATH.resolve(t).substr(1),e=PATH.resolve(e).substr(1);function s(C){for(var O=0;O<C.length&&C[O]==="";O++);for(var T=C.length-1;T>=0&&C[T]==="";T--);return O>T?[]:C.slice(O,T-O+1)}for(var a=s(t.split("/")),f=s(e.split("/")),d=Math.min(a.length,f.length),_=d,v=0;v<d;v++)if(a[v]!==f[v]){_=v;break}for(var E=[],v=_;v<a.length;v++)E.push("..");return E=E.concat(f.slice(_)),E.join("/")}},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){TTY.ttys[t]={input:[],output:[],ops:e},FS.registerDevice(t,TTY.stream_ops)},stream_ops:{open:function(t){var e=TTY.ttys[t.node.rdev];if(!e)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.flush(t.tty)},flush:function(t){t.tty.ops.flush(t.tty)},read:function(t,e,s,a,f){if(!t.tty||!t.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var d=0,_=0;_<a;_++){var v;try{v=t.tty.ops.get_char(t.tty)}catch{throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(v===void 0&&d===0)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(v==null)break;d++,e[s+_]=v}return d&&(t.node.timestamp=Date.now()),d},write:function(t,e,s,a,f){if(!t.tty||!t.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var d=0;d<a;d++)try{t.tty.ops.put_char(t.tty,e[s+d])}catch{throw new FS.ErrnoError(ERRNO_CODES.EIO)}return a&&(t.node.timestamp=Date.now()),d}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if(ENVIRONMENT_IS_NODE){var s=256,a=new Buffer(s),f=0,d=process.platform!="win32",_=process.stdin.fd;if(d){var v=!1;try{_=fs.openSync("/dev/stdin","r"),v=!0}catch{}}try{f=fs.readSync(_,a,0,s,null)}catch(E){if(E.toString().indexOf("EOF")!=-1)f=0;else throw E}v&&fs.closeSync(_),f>0?e=a.slice(0,f).toString("utf-8"):e=null}else typeof window!="undefined"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`));if(!e)return null;t.input=intArrayFromString(e,!0)}return t.input.shift()},put_char:function(t,e){e===null||e===10?(Module.print(UTF8ArrayToString(t.output,0)),t.output=[]):e!=0&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(Module.print(UTF8ArrayToString(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){e===null||e===10?(Module.printErr(UTF8ArrayToString(t.output,0)),t.output=[]):e!=0&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(Module.printErr(UTF8ArrayToString(t.output,0)),t.output=[])}}},MEMFS={ops_table:null,mount:function(t){return MEMFS.createNode(null,"/",16384|511,0)},createNode:function(t,e,s,a){if(FS.isBlkdev(s)||FS.isFIFO(s))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var f=FS.createNode(t,e,s,a);return FS.isDir(f.mode)?(f.node_ops=MEMFS.ops_table.dir.node,f.stream_ops=MEMFS.ops_table.dir.stream,f.contents={}):FS.isFile(f.mode)?(f.node_ops=MEMFS.ops_table.file.node,f.stream_ops=MEMFS.ops_table.file.stream,f.usedBytes=0,f.contents=null):FS.isLink(f.mode)?(f.node_ops=MEMFS.ops_table.link.node,f.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(f.mode)&&(f.node_ops=MEMFS.ops_table.chrdev.node,f.stream_ops=MEMFS.ops_table.chrdev.stream),f.timestamp=Date.now(),t&&(t.contents[e]=f),f},getFileDataAsRegularArray:function(t){if(t.contents&&t.contents.subarray){for(var e=[],s=0;s<t.usedBytes;++s)e.push(t.contents[s]);return e}return t.contents},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array},expandFileStorage:function(t,e){if(t.contents&&t.contents.subarray&&e>t.contents.length&&(t.contents=MEMFS.getFileDataAsRegularArray(t),t.usedBytes=t.contents.length),!t.contents||t.contents.subarray){var s=t.contents?t.contents.length:0;if(s>=e)return;var a=1024*1024;e=Math.max(e,s*(s<a?2:1.125)|0),s!=0&&(e=Math.max(e,256));var f=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(f.subarray(0,t.usedBytes),0);return}for(!t.contents&&e>0&&(t.contents=[]);t.contents.length<e;)t.contents.push(0)},resizeFileStorage:function(t,e){if(t.usedBytes!=e){if(e==0){t.contents=null,t.usedBytes=0;return}if(!t.contents||t.contents.subarray){var s=t.contents;t.contents=new Uint8Array(new ArrayBuffer(e)),s&&t.contents.set(s.subarray(0,Math.min(e,t.usedBytes))),t.usedBytes=e;return}if(t.contents||(t.contents=[]),t.contents.length>e)t.contents.length=e;else for(;t.contents.length<e;)t.contents.push(0);t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=FS.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,FS.isDir(t.mode)?e.size=4096:FS.isFile(t.mode)?e.size=t.usedBytes:FS.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp),e.size!==void 0&&MEMFS.resizeFileStorage(t,e.size)},lookup:function(t,e){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(t,e,s,a){return MEMFS.createNode(t,e,s,a)},rename:function(t,e,s){if(FS.isDir(t.mode)){var a;try{a=FS.lookupNode(e,s)}catch{}if(a)for(var f in a.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete t.parent.contents[t.name],t.name=s,e.contents[s]=t,t.parent=e},unlink:function(t,e){delete t.contents[e]},rmdir:function(t,e){var s=FS.lookupNode(t,e);for(var a in s.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete t.contents[e]},readdir:function(t){var e=[".",".."];for(var s in t.contents)!t.contents.hasOwnProperty(s)||e.push(s);return e},symlink:function(t,e,s){var a=MEMFS.createNode(t,e,511|40960,0);return a.link=s,a},readlink:function(t){if(!FS.isLink(t.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t.link}},stream_ops:{read:function(t,e,s,a,f){var d=t.node.contents;if(f>=t.node.usedBytes)return 0;var _=Math.min(t.node.usedBytes-f,a);if(assert(_>=0),_>8&&d.subarray)e.set(d.subarray(f,f+_),s);else for(var v=0;v<_;v++)e[s+v]=d[f+v];return _},write:function(t,e,s,a,f,d){if(!a)return 0;var _=t.node;if(_.timestamp=Date.now(),e.subarray&&(!_.contents||_.contents.subarray)){if(d)return _.contents=e.subarray(s,s+a),_.usedBytes=a,a;if(_.usedBytes===0&&f===0)return _.contents=new Uint8Array(e.subarray(s,s+a)),_.usedBytes=a,a;if(f+a<=_.usedBytes)return _.contents.set(e.subarray(s,s+a),f),a}if(MEMFS.expandFileStorage(_,f+a),_.contents.subarray&&e.subarray)_.contents.set(e.subarray(s,s+a),f);else for(var v=0;v<a;v++)_.contents[f+v]=e[s+v];return _.usedBytes=Math.max(_.usedBytes,f+a),a},llseek:function(t,e,s){var a=e;if(s===1?a+=t.position:s===2&&FS.isFile(t.node.mode)&&(a+=t.node.usedBytes),a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return a},allocate:function(t,e,s){MEMFS.expandFileStorage(t.node,e+s),t.node.usedBytes=Math.max(t.node.usedBytes,e+s)},mmap:function(t,e,s,a,f,d,_){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var v,E,C=t.node.contents;if(!(_&2)&&(C.buffer===e||C.buffer===e.buffer))E=!1,v=C.byteOffset;else{if((f>0||f+a<t.node.usedBytes)&&(C.subarray?C=C.subarray(f,f+a):C=Array.prototype.slice.call(C,f,f+a)),E=!0,v=_malloc(a),!v)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);e.set(C,v)}return{ptr:v,allocated:E}},msync:function(t,e,s,a,f){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return f&2||MEMFS.stream_ops.write(t,e,0,a,s,!1),0}}},IDBFS={dbs:{},indexedDB:function(){if(typeof indexedDB!="undefined")return indexedDB;var t=null;return typeof window=="object"&&(t=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),assert(t,"IDBFS used, but indexedDB not supported"),t},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(t){return MEMFS.mount.apply(null,arguments)},syncfs:function(t,e,s){IDBFS.getLocalSet(t,function(a,f){if(a)return s(a);IDBFS.getRemoteSet(t,function(d,_){if(d)return s(d);var v=e?_:f,E=e?f:_;IDBFS.reconcile(v,E,s)})})},getDB:function(t,e){var s=IDBFS.dbs[t];if(s)return e(null,s);var a;try{a=IDBFS.indexedDB().open(t,IDBFS.DB_VERSION)}catch(f){return e(f)}if(!a)return e("Unable to connect to IndexedDB");a.onupgradeneeded=function(f){var d=f.target.result,_=f.target.transaction,v;d.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?v=_.objectStore(IDBFS.DB_STORE_NAME):v=d.createObjectStore(IDBFS.DB_STORE_NAME),v.indexNames.contains("timestamp")||v.createIndex("timestamp","timestamp",{unique:!1})},a.onsuccess=function(){s=a.result,IDBFS.dbs[t]=s,e(null,s)},a.onerror=function(f){e(this.error),f.preventDefault()}},getLocalSet:function(t,e){var s={};function a(E){return E!=="."&&E!==".."}function f(E){return function(C){return PATH.join2(E,C)}}for(var d=FS.readdir(t.mountpoint).filter(a).map(f(t.mountpoint));d.length;){var _=d.pop(),v;try{v=FS.stat(_)}catch(E){return e(E)}FS.isDir(v.mode)&&d.push.apply(d,FS.readdir(_).filter(a).map(f(_))),s[_]={timestamp:v.mtime}}return e(null,{type:"local",entries:s})},getRemoteSet:function(t,e){var s={};IDBFS.getDB(t.mountpoint,function(a,f){if(a)return e(a);var d=f.transaction([IDBFS.DB_STORE_NAME],"readonly");d.onerror=function(E){e(this.error),E.preventDefault()};var _=d.objectStore(IDBFS.DB_STORE_NAME),v=_.index("timestamp");v.openKeyCursor().onsuccess=function(E){var C=E.target.result;if(!C)return e(null,{type:"remote",db:f,entries:s});s[C.primaryKey]={timestamp:C.key},C.continue()}})},loadLocalEntry:function(t,e){var s,a;try{var f=FS.lookupPath(t);a=f.node,s=FS.stat(t)}catch(d){return e(d)}return FS.isDir(s.mode)?e(null,{timestamp:s.mtime,mode:s.mode}):FS.isFile(s.mode)?(a.contents=MEMFS.getFileDataAsTypedArray(a),e(null,{timestamp:s.mtime,mode:s.mode,contents:a.contents})):e(new Error("node type not supported"))},storeLocalEntry:function(t,e,s){try{if(FS.isDir(e.mode))FS.mkdir(t,e.mode);else if(FS.isFile(e.mode))FS.writeFile(t,e.contents,{encoding:"binary",canOwn:!0});else return s(new Error("node type not supported"));FS.chmod(t,e.mode),FS.utime(t,e.timestamp,e.timestamp)}catch(a){return s(a)}s(null)},removeLocalEntry:function(t,e){try{var s=FS.lookupPath(t),a=FS.stat(t);FS.isDir(a.mode)?FS.rmdir(t):FS.isFile(a.mode)&&FS.unlink(t)}catch(f){return e(f)}e(null)},loadRemoteEntry:function(t,e,s){var a=t.get(e);a.onsuccess=function(f){s(null,f.target.result)},a.onerror=function(f){s(this.error),f.preventDefault()}},storeRemoteEntry:function(t,e,s,a){var f=t.put(s,e);f.onsuccess=function(){a(null)},f.onerror=function(d){a(this.error),d.preventDefault()}},removeRemoteEntry:function(t,e,s){var a=t.delete(e);a.onsuccess=function(){s(null)},a.onerror=function(f){s(this.error),f.preventDefault()}},reconcile:function(t,e,s){var a=0,f=[];Object.keys(t.entries).forEach(function(T){var N=t.entries[T],r=e.entries[T];(!r||N.timestamp>r.timestamp)&&(f.push(T),a++)});var d=[];if(Object.keys(e.entries).forEach(function(T){e.entries[T];var N=t.entries[T];N||(d.push(T),a++)}),!a)return s(null);var _=0,v=t.type==="remote"?t.db:e.db,E=v.transaction([IDBFS.DB_STORE_NAME],"readwrite"),C=E.objectStore(IDBFS.DB_STORE_NAME);function O(T){if(T)return O.errored?void 0:(O.errored=!0,s(T));if(++_>=a)return s(null)}E.onerror=function(T){O(this.error),T.preventDefault()},f.sort().forEach(function(T){e.type==="local"?IDBFS.loadRemoteEntry(C,T,function(N,r){if(N)return O(N);IDBFS.storeLocalEntry(T,r,O)}):IDBFS.loadLocalEntry(T,function(N,r){if(N)return O(N);IDBFS.storeRemoteEntry(C,T,r,O)})}),d.sort().reverse().forEach(function(T){e.type==="local"?IDBFS.removeLocalEntry(T,O):IDBFS.removeRemoteEntry(C,T,O)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(t){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(t.opts.root),0)},createNode:function(t,e,s,a){if(!FS.isDir(s)&&!FS.isFile(s)&&!FS.isLink(s))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var f=FS.createNode(t,e,s);return f.node_ops=NODEFS.node_ops,f.stream_ops=NODEFS.stream_ops,f},getMode:function(t){var e;try{e=fs.lstatSync(t),NODEFS.isWindows&&(e.mode=e.mode|(e.mode&146)>>1)}catch(s){throw s.code?new FS.ErrnoError(ERRNO_CODES[s.code]):s}return e.mode},realPath:function(t){for(var e=[];t.parent!==t;)e.push(t.name),t=t.parent;return e.push(t.mount.opts.root),e.reverse(),PATH.join.apply(null,e)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(t){if(t&=~2097152,t&=~2048,t&=~32768,t&=~524288,t in NODEFS.flagsToPermissionStringMap)return NODEFS.flagsToPermissionStringMap[t];throw new FS.ErrnoError(ERRNO_CODES.EINVAL)},node_ops:{getattr:function(t){var e=NODEFS.realPath(t),s;try{s=fs.lstatSync(e)}catch(a){throw a.code?new FS.ErrnoError(ERRNO_CODES[a.code]):a}return NODEFS.isWindows&&!s.blksize&&(s.blksize=4096),NODEFS.isWindows&&!s.blocks&&(s.blocks=(s.size+s.blksize-1)/s.blksize|0),{dev:s.dev,ino:s.ino,mode:s.mode,nlink:s.nlink,uid:s.uid,gid:s.gid,rdev:s.rdev,size:s.size,atime:s.atime,mtime:s.mtime,ctime:s.ctime,blksize:s.blksize,blocks:s.blocks}},setattr:function(t,e){var s=NODEFS.realPath(t);try{if(e.mode!==void 0&&(fs.chmodSync(s,e.mode),t.mode=e.mode),e.timestamp!==void 0){var a=new Date(e.timestamp);fs.utimesSync(s,a,a)}e.size!==void 0&&fs.truncateSync(s,e.size)}catch(f){throw f.code?new FS.ErrnoError(ERRNO_CODES[f.code]):f}},lookup:function(t,e){var s=PATH.join2(NODEFS.realPath(t),e),a=NODEFS.getMode(s);return NODEFS.createNode(t,e,a)},mknod:function(t,e,s,a){var f=NODEFS.createNode(t,e,s,a),d=NODEFS.realPath(f);try{FS.isDir(f.mode)?fs.mkdirSync(d,f.mode):fs.writeFileSync(d,"",{mode:f.mode})}catch(_){throw _.code?new FS.ErrnoError(ERRNO_CODES[_.code]):_}return f},rename:function(t,e,s){var a=NODEFS.realPath(t),f=PATH.join2(NODEFS.realPath(e),s);try{fs.renameSync(a,f)}catch(d){throw d.code?new FS.ErrnoError(ERRNO_CODES[d.code]):d}},unlink:function(t,e){var s=PATH.join2(NODEFS.realPath(t),e);try{fs.unlinkSync(s)}catch(a){throw a.code?new FS.ErrnoError(ERRNO_CODES[a.code]):a}},rmdir:function(t,e){var s=PATH.join2(NODEFS.realPath(t),e);try{fs.rmdirSync(s)}catch(a){throw a.code?new FS.ErrnoError(ERRNO_CODES[a.code]):a}},readdir:function(t){var e=NODEFS.realPath(t);try{return fs.readdirSync(e)}catch(s){throw s.code?new FS.ErrnoError(ERRNO_CODES[s.code]):s}},symlink:function(t,e,s){var a=PATH.join2(NODEFS.realPath(t),e);try{fs.symlinkSync(s,a)}catch(f){throw f.code?new FS.ErrnoError(ERRNO_CODES[f.code]):f}},readlink:function(t){var e=NODEFS.realPath(t);try{return e=fs.readlinkSync(e),e=NODEJS_PATH.relative(NODEJS_PATH.resolve(t.mount.opts.root),e),e}catch(s){throw s.code?new FS.ErrnoError(ERRNO_CODES[s.code]):s}}},stream_ops:{open:function(t){var e=NODEFS.realPath(t.node);try{FS.isFile(t.node.mode)&&(t.nfd=fs.openSync(e,NODEFS.flagsToPermissionString(t.flags)))}catch(s){throw s.code?new FS.ErrnoError(ERRNO_CODES[s.code]):s}},close:function(t){try{FS.isFile(t.node.mode)&&t.nfd&&fs.closeSync(t.nfd)}catch(e){throw e.code?new FS.ErrnoError(ERRNO_CODES[e.code]):e}},read:function(t,e,s,a,f){if(a===0)return 0;var d=new Buffer(a),_;try{_=fs.readSync(t.nfd,d,0,a,f)}catch(E){throw new FS.ErrnoError(ERRNO_CODES[E.code])}if(_>0)for(var v=0;v<_;v++)e[s+v]=d[v];return _},write:function(t,e,s,a,f){var d=new Buffer(e.subarray(s,s+a)),_;try{_=fs.writeSync(t.nfd,d,0,a,f)}catch(v){throw new FS.ErrnoError(ERRNO_CODES[v.code])}return _},llseek:function(t,e,s){var a=e;if(s===1)a+=t.position;else if(s===2&&FS.isFile(t.node.mode))try{var f=fs.fstatSync(t.nfd);a+=f.size}catch(d){throw new FS.ErrnoError(ERRNO_CODES[d.code])}if(a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return a}}},WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(t){assert(ENVIRONMENT_IS_WORKER),WORKERFS.reader||(WORKERFS.reader=new FileReaderSync);var e=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0),s={};function a(d){for(var _=d.split("/"),v=e,E=0;E<_.length-1;E++){var C=_.slice(0,E+1).join("/");s[C]||(s[C]=WORKERFS.createNode(v,_[E],WORKERFS.DIR_MODE,0)),v=s[C]}return v}function f(d){var _=d.split("/");return _[_.length-1]}return Array.prototype.forEach.call(t.opts.files||[],function(d){WORKERFS.createNode(a(d.name),f(d.name),WORKERFS.FILE_MODE,0,d,d.lastModifiedDate)}),(t.opts.blobs||[]).forEach(function(d){WORKERFS.createNode(a(d.name),f(d.name),WORKERFS.FILE_MODE,0,d.data)}),(t.opts.packages||[]).forEach(function(d){d.metadata.files.forEach(function(_){var v=_.filename.substr(1);WORKERFS.createNode(a(v),f(v),WORKERFS.FILE_MODE,0,d.blob.slice(_.start,_.end))})}),e},createNode:function(t,e,s,a,f,d){var _=FS.createNode(t,e,s);return _.mode=s,_.node_ops=WORKERFS.node_ops,_.stream_ops=WORKERFS.stream_ops,_.timestamp=(d||new Date).getTime(),assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE),s===WORKERFS.FILE_MODE?(_.size=f.size,_.contents=f):(_.size=4096,_.contents={}),t&&(t.contents[e]=_),_},node_ops:{getattr:function(t){return{dev:1,ino:void 0,mode:t.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:t.size,atime:new Date(t.timestamp),mtime:new Date(t.timestamp),ctime:new Date(t.timestamp),blksize:4096,blocks:Math.ceil(t.size/4096)}},setattr:function(t,e){e.mode!==void 0&&(t.mode=e.mode),e.timestamp!==void 0&&(t.timestamp=e.timestamp)},lookup:function(t,e){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)},mknod:function(t,e,s,a){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rename:function(t,e,s){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},unlink:function(t,e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},rmdir:function(t,e){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readdir:function(t){var e=[".",".."];for(var s in t.contents)!t.contents.hasOwnProperty(s)||e.push(s);return e},symlink:function(t,e,s){throw new FS.ErrnoError(ERRNO_CODES.EPERM)},readlink:function(t){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}},stream_ops:{read:function(t,e,s,a,f){if(f>=t.node.size)return 0;var d=t.node.contents.slice(f,f+a),_=WORKERFS.reader.readAsArrayBuffer(d);return e.set(new Uint8Array(_),s),d.size},write:function(t,e,s,a,f){throw new FS.ErrnoError(ERRNO_CODES.EIO)},llseek:function(t,e,s){var a=e;if(s===1?a+=t.position:s===2&&FS.isFile(t.node.mode)&&(a+=t.node.size),a<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return a}}};STATICTOP+=16,STATICTOP+=16,STATICTOP+=16;var FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof FS.ErrnoError))throw t+" : "+stackTrace();return ___setErrNo(t.errno)},lookupPath:function(t,e){if(t=PATH.resolve(FS.cwd(),t),e=e||{},!t)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};for(var a in s)e[a]===void 0&&(e[a]=s[a]);if(e.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var f=PATH.normalizeArray(t.split("/").filter(function(N){return!!N}),!1),d=FS.root,_="/",v=0;v<f.length;v++){var E=v===f.length-1;if(E&&e.parent)break;if(d=FS.lookupNode(d,f[v]),_=PATH.join2(_,f[v]),FS.isMountpoint(d)&&(!E||E&&e.follow_mount)&&(d=d.mounted.root),!E||e.follow)for(var C=0;FS.isLink(d.mode);){var O=FS.readlink(_);_=PATH.resolve(PATH.dirname(_),O);var T=FS.lookupPath(_,{recurse_count:e.recurse_count});if(d=T.node,C++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:_,node:d}},getPath:function(t){for(var e;;){if(FS.isRoot(t)){var s=t.mount.mountpoint;return e?s[s.length-1]!=="/"?s+"/"+e:s+e:s}e=e?t.name+"/"+e:t.name,t=t.parent}},hashName:function(t,e){for(var s=0,a=0;a<e.length;a++)s=(s<<5)-s+e.charCodeAt(a)|0;return(t+s>>>0)%FS.nameTable.length},hashAddNode:function(t){var e=FS.hashName(t.parent.id,t.name);t.name_next=FS.nameTable[e],FS.nameTable[e]=t},hashRemoveNode:function(t){var e=FS.hashName(t.parent.id,t.name);if(FS.nameTable[e]===t)FS.nameTable[e]=t.name_next;else for(var s=FS.nameTable[e];s;){if(s.name_next===t){s.name_next=t.name_next;break}s=s.name_next}},lookupNode:function(t,e){var s=FS.mayLookup(t);if(s)throw new FS.ErrnoError(s,t);for(var a=FS.hashName(t.id,e),f=FS.nameTable[a];f;f=f.name_next){var d=f.name;if(f.parent.id===t.id&&d===e)return f}return FS.lookup(t,e)},createNode:function(t,e,s,a){if(!FS.FSNode){FS.FSNode=function(v,E,C,O){v||(v=this),this.parent=v,this.mount=v.mount,this.mounted=null,this.id=FS.nextInode++,this.name=E,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=O},FS.FSNode.prototype={};var f=292|73,d=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&f)===f},set:function(v){v?this.mode|=f:this.mode&=~f}},write:{get:function(){return(this.mode&d)===d},set:function(v){v?this.mode|=d:this.mode&=~d}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var _=new FS.FSNode(t,e,s,a);return FS.hashAddNode(_),_},destroyNode:function(t){FS.hashRemoveNode(t)},isRoot:function(t){return t===t.parent},isMountpoint:function(t){return!!t.mounted},isFile:function(t){return(t&61440)==32768},isDir:function(t){return(t&61440)==16384},isLink:function(t){return(t&61440)==40960},isChrdev:function(t){return(t&61440)==8192},isBlkdev:function(t){return(t&61440)==24576},isFIFO:function(t){return(t&61440)==4096},isSocket:function(t){return(t&49152)==49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(t){var e=FS.flagModes[t];if(typeof e=="undefined")throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:function(t){var e=["r","w","rw"][t&3];return t&512&&(e+="w"),e},nodePermissions:function(t,e){return FS.ignorePermissions?0:e.indexOf("r")!==-1&&!(t.mode&292)||e.indexOf("w")!==-1&&!(t.mode&146)||e.indexOf("x")!==-1&&!(t.mode&73)?ERRNO_CODES.EACCES:0},mayLookup:function(t){var e=FS.nodePermissions(t,"x");return e||(t.node_ops.lookup?0:ERRNO_CODES.EACCES)},mayCreate:function(t,e){try{var s=FS.lookupNode(t,e);return ERRNO_CODES.EEXIST}catch{}return FS.nodePermissions(t,"wx")},mayDelete:function(t,e,s){var a;try{a=FS.lookupNode(t,e)}catch(d){return d.errno}var f=FS.nodePermissions(t,"wx");if(f)return f;if(s){if(!FS.isDir(a.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(a)||FS.getPath(a)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(a.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(t,e){return t?FS.isLink(t.mode)?ERRNO_CODES.ELOOP:FS.isDir(t.mode)&&(FS.flagsToPermissionString(e)!=="r"||e&512)?ERRNO_CODES.EISDIR:FS.nodePermissions(t,FS.flagsToPermissionString(e)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(t,e){t=t||0,e=e||FS.MAX_OPEN_FDS;for(var s=t;s<=e;s++)if(!FS.streams[s])return s;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(t){return FS.streams[t]},createStream:function(t,e,s){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(_){this.node=_}},isRead:{get:function(){return(this.flags&2097155)!=1}},isWrite:{get:function(){return(this.flags&2097155)!=0}},isAppend:{get:function(){return this.flags&1024}}}));var a=new FS.FSStream;for(var f in t)a[f]=t[f];t=a;var d=FS.nextfd(e,s);return t.fd=d,FS.streams[d]=t,t},closeStream:function(t){FS.streams[t]=null},chrdev_stream_ops:{open:function(t){var e=FS.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(t){return t>>8},minor:function(t){return t&255},makedev:function(t,e){return t<<8|e},registerDevice:function(t,e){FS.devices[t]={stream_ops:e}},getDevice:function(t){return FS.devices[t]},getMounts:function(t){for(var e=[],s=[t];s.length;){var a=s.pop();e.push(a),s.push.apply(s,a.mounts)}return e},syncfs:function(t,e){typeof t=="function"&&(e=t,t=!1),FS.syncFSRequests++,FS.syncFSRequests>1&&console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var s=FS.getMounts(FS.root.mount),a=0;function f(_){return assert(FS.syncFSRequests>0),FS.syncFSRequests--,e(_)}function d(_){if(_)return d.errored?void 0:(d.errored=!0,f(_));++a>=s.length&&f(null)}s.forEach(function(_){if(!_.type.syncfs)return d(null);_.type.syncfs(_,t,d)})},mount:function(t,e,s){var a=s==="/",f=!s,d;if(a&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!a&&!f){var _=FS.lookupPath(s,{follow_mount:!1});if(s=_.path,d=_.node,FS.isMountpoint(d))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(d.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var v={type:t,opts:e,mountpoint:s,mounts:[]},E=t.mount(v);return E.mount=v,v.root=E,a?FS.root=E:d&&(d.mounted=v,d.mount&&d.mount.mounts.push(v)),E},unmount:function(t){var e=FS.lookupPath(t,{follow_mount:!1});if(!FS.isMountpoint(e.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var s=e.node,a=s.mounted,f=FS.getMounts(a);Object.keys(FS.nameTable).forEach(function(_){for(var v=FS.nameTable[_];v;){var E=v.name_next;f.indexOf(v.mount)!==-1&&FS.destroyNode(v),v=E}}),s.mounted=null;var d=s.mount.mounts.indexOf(a);assert(d!==-1),s.mount.mounts.splice(d,1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(t,e,s){var a=FS.lookupPath(t,{parent:!0}),f=a.node,d=PATH.basename(t);if(!d||d==="."||d==="..")throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var _=FS.mayCreate(f,d);if(_)throw new FS.ErrnoError(_);if(!f.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return f.node_ops.mknod(f,d,e,s)},create:function(t,e){return e=e!==void 0?e:438,e&=4095,e|=32768,FS.mknod(t,e,0)},mkdir:function(t,e){return e=e!==void 0?e:511,e&=511|512,e|=16384,FS.mknod(t,e,0)},mkdirTree:function(t,e){for(var s=t.split("/"),a="",f=0;f<s.length;++f)if(!!s[f]){a+="/"+s[f];try{FS.mkdir(a,e)}catch(d){if(d.errno!=ERRNO_CODES.EEXIST)throw d}}},mkdev:function(t,e,s){return typeof s=="undefined"&&(s=e,e=438),e|=8192,FS.mknod(t,e,s)},symlink:function(t,e){if(!PATH.resolve(t))throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var s=FS.lookupPath(e,{parent:!0}),a=s.node;if(!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);var f=PATH.basename(e),d=FS.mayCreate(a,f);if(d)throw new FS.ErrnoError(d);if(!a.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return a.node_ops.symlink(a,f,t)},rename:function(t,e){var s=PATH.dirname(t),a=PATH.dirname(e),f=PATH.basename(t),d=PATH.basename(e),_,v,E;try{_=FS.lookupPath(t,{parent:!0}),v=_.node,_=FS.lookupPath(e,{parent:!0}),E=_.node}catch{throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!v||!E)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(v.mount!==E.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var C=FS.lookupNode(v,f),O=PATH.relative(t,a);if(O.charAt(0)!==".")throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(O=PATH.relative(e,s),O.charAt(0)!==".")throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var T;try{T=FS.lookupNode(E,d)}catch{}if(C!==T){var N=FS.isDir(C.mode),r=FS.mayDelete(v,f,N);if(r)throw new FS.ErrnoError(r);if(r=T?FS.mayDelete(E,d,N):FS.mayCreate(E,d),r)throw new FS.ErrnoError(r);if(!v.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(C)||T&&FS.isMountpoint(T))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(E!==v&&(r=FS.nodePermissions(v,"w"),r))throw new FS.ErrnoError(r);try{FS.trackingDelegate.willMovePath}catch(b){console.log("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+b.message)}FS.hashRemoveNode(C);try{v.node_ops.rename(C,E,d)}catch(b){throw b}finally{FS.hashAddNode(C)}try{FS.trackingDelegate.onMovePath}catch(b){console.log("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+b.message)}}},rmdir:function(t){var e=FS.lookupPath(t,{parent:!0}),s=e.node,a=PATH.basename(t),f=FS.lookupNode(s,a),d=FS.mayDelete(s,a,!0);if(d)throw new FS.ErrnoError(d);if(!s.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath}catch(_){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+_.message)}s.node_ops.rmdir(s,a),FS.destroyNode(f);try{FS.trackingDelegate.onDeletePath}catch(_){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+_.message)}},readdir:function(t){var e=FS.lookupPath(t,{follow:!0}),s=e.node;if(!s.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return s.node_ops.readdir(s)},unlink:function(t){var e=FS.lookupPath(t,{parent:!0}),s=e.node,a=PATH.basename(t),f=FS.lookupNode(s,a),d=FS.mayDelete(s,a,!1);if(d)throw new FS.ErrnoError(d);if(!s.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(f))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath}catch(_){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+_.message)}s.node_ops.unlink(s,a),FS.destroyNode(f);try{FS.trackingDelegate.onDeletePath}catch(_){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+_.message)}},readlink:function(t){var e=FS.lookupPath(t),s=e.node;if(!s)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!s.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return PATH.resolve(FS.getPath(s.parent),s.node_ops.readlink(s))},stat:function(t,e){var s=FS.lookupPath(t,{follow:!e}),a=s.node;if(!a)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!a.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return a.node_ops.getattr(a)},lstat:function(t){return FS.stat(t,!0)},chmod:function(t,e,s){var a;if(typeof t=="string"){var f=FS.lookupPath(t,{follow:!s});a=f.node}else a=t;if(!a.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);a.node_ops.setattr(a,{mode:e&4095|a.mode&~4095,timestamp:Date.now()})},lchmod:function(t,e){FS.chmod(t,e,!0)},fchmod:function(t,e){var s=FS.getStream(t);if(!s)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(s.node,e)},chown:function(t,e,s,a){var f;if(typeof t=="string"){var d=FS.lookupPath(t,{follow:!a});f=d.node}else f=t;if(!f.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);f.node_ops.setattr(f,{timestamp:Date.now()})},lchown:function(t,e,s){FS.chown(t,e,s,!0)},fchown:function(t,e,s){var a=FS.getStream(t);if(!a)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(a.node,e,s)},truncate:function(t,e){if(e<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var s;if(typeof t=="string"){var a=FS.lookupPath(t,{follow:!0});s=a.node}else s=t;if(!s.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(s.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(s.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var f=FS.nodePermissions(s,"w");if(f)throw new FS.ErrnoError(f);s.node_ops.setattr(s,{size:e,timestamp:Date.now()})},ftruncate:function(t,e){var s=FS.getStream(t);if(!s)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if((s.flags&2097155)==0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(s.node,e)},utime:function(t,e,s){var a=FS.lookupPath(t,{follow:!0}),f=a.node;f.node_ops.setattr(f,{timestamp:Math.max(e,s)})},open:function(t,e,s,a,f){if(t==="")throw new FS.ErrnoError(ERRNO_CODES.ENOENT);e=typeof e=="string"?FS.modeStringToFlags(e):e,s=typeof s=="undefined"?438:s,e&64?s=s&4095|32768:s=0;var d;if(typeof t=="object")d=t;else{t=PATH.normalize(t);try{var _=FS.lookupPath(t,{follow:!(e&131072)});d=_.node}catch{}}var v=!1;if(e&64)if(d){if(e&128)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else d=FS.mknod(t,s,0),v=!0;if(!d)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(FS.isChrdev(d.mode)&&(e&=~512),e&65536&&!FS.isDir(d.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);if(!v){var E=FS.mayOpen(d,e);if(E)throw new FS.ErrnoError(E)}e&512&&FS.truncate(d,0),e&=~(128|512);var C=FS.createStream({node:d,path:FS.getPath(d),flags:e,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1},a,f);C.stream_ops.open&&C.stream_ops.open(C),Module.logReadFiles&&!(e&1)&&(FS.readFiles||(FS.readFiles={}),t in FS.readFiles||(FS.readFiles[t]=1,Module.printErr("read file: "+t)));try{var O;FS.trackingDelegate.onOpenFile}catch(T){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+T.message)}return C},close:function(t){t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(e){throw e}finally{FS.closeStream(t.fd)}},llseek:function(t,e,s){if(!t.seekable||!t.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return t.position=t.stream_ops.llseek(t,e,s),t.ungotten=[],t.position},read:function(t,e,s,a,f){if(a<0||f<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if((t.flags&2097155)==1)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!t.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var d=!0;if(typeof f=="undefined")f=t.position,d=!1;else if(!t.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var _=t.stream_ops.read(t,e,s,a,f);return d||(t.position+=_),_},write:function(t,e,s,a,f,d){if(a<0||f<0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if((t.flags&2097155)==0)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(t.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!t.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);t.flags&1024&&FS.llseek(t,0,2);var _=!0;if(typeof f=="undefined")f=t.position,_=!1;else if(!t.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var v=t.stream_ops.write(t,e,s,a,f,d);_||(t.position+=v);try{t.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(t.path)}catch(E){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+E.message)}return v},allocate:function(t,e,s){if(e<0||s<=0)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if((t.flags&2097155)==0)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(t.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!t.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);t.stream_ops.allocate(t,e,s)},mmap:function(t,e,s,a,f,d,_){if((t.flags&2097155)==1)throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!t.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return t.stream_ops.mmap(t,e,s,a,f,d,_)},msync:function(t,e,s,a,f){return!t||!t.stream_ops.msync?0:t.stream_ops.msync(t,e,s,a,f)},munmap:function(t){return 0},ioctl:function(t,e,s){if(!t.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return t.stream_ops.ioctl(t,e,s)},readFile:function(t,e){if(e=e||{},e.flags=e.flags||"r",e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var s,a=FS.open(t,e.flags),f=FS.stat(t),d=f.size,_=new Uint8Array(d);return FS.read(a,_,0,d,0),e.encoding==="utf8"?s=UTF8ArrayToString(_,0):e.encoding==="binary"&&(s=_),FS.close(a),s},writeFile:function(t,e,s){if(s=s||{},s.flags=s.flags||"w",s.encoding=s.encoding||"utf8",s.encoding!=="utf8"&&s.encoding!=="binary")throw new Error('Invalid encoding type "'+s.encoding+'"');var a=FS.open(t,s.flags,s.mode);if(s.encoding==="utf8"){var f=new Uint8Array(lengthBytesUTF8(e)+1),d=stringToUTF8Array(e,f,0,f.length);FS.write(a,f,0,d,0,s.canOwn)}else s.encoding==="binary"&&FS.write(a,e,0,e.length,0,s.canOwn);FS.close(a)},cwd:function(){return FS.currentPath},chdir:function(t){var e=FS.lookupPath(t,{follow:!0});if(e.node===null)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(!FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var s=FS.nodePermissions(e.node,"x");if(s)throw new FS.ErrnoError(s);FS.currentPath=e.path},createDefaultDirectories:function(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(s,a,f,d,_){return d}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var t;if(typeof crypto!="undefined"){var e=new Uint8Array(1);t=function(){return crypto.getRandomValues(e),e[0]}}else ENVIRONMENT_IS_NODE?t=function(){return require$$1$1.randomBytes(1)[0]}:t=function(){return Math.random()*256|0};FS.createDevice("/dev","random",t),FS.createDevice("/dev","urandom",t),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){FS.mkdir("/proc"),FS.mkdir("/proc/self"),FS.mkdir("/proc/self/fd"),FS.mount({mount:function(){var t=FS.createNode("/proc/self","fd",16384|511,73);return t.node_ops={lookup:function(e,s){var a=+s,f=FS.getStream(a);if(!f)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var d={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return f.path}}};return d.parent=d,d}},t}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var t=FS.open("/dev/stdin","r");assert(t.fd===0,"invalid handle for stdin ("+t.fd+")");var e=FS.open("/dev/stdout","w");assert(e.fd===1,"invalid handle for stdout ("+e.fd+")");var s=FS.open("/dev/stderr","w");assert(s.fd===2,"invalid handle for stderr ("+s.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e,s){this.node=s,this.setErrno=function(a){this.errno=a;for(var f in ERRNO_CODES)if(ERRNO_CODES[f]===a){this.code=f;break}},this.setErrno(e),this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(t){FS.genericErrors[t]=new FS.ErrnoError(t),FS.genericErrors[t].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS,IDBFS,NODEFS,WORKERFS}},init:function(t,e,s){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=t||Module.stdin,Module.stdout=e||Module.stdout,Module.stderr=s||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;var t=Module._fflush;t&&t(0);for(var e=0;e<FS.streams.length;e++){var s=FS.streams[e];!s||FS.close(s)}},getMode:function(t,e){var s=0;return t&&(s|=292|73),e&&(s|=146),s},joinPath:function(t,e){var s=PATH.join.apply(null,t);return e&&s[0]=="/"&&(s=s.substr(1)),s},absolutePath:function(t,e){return PATH.resolve(e,t)},standardizePath:function(t){return PATH.normalize(t)},findObject:function(t,e){var s=FS.analyzePath(t,e);return s.exists?s.object:(___setErrNo(s.error),null)},analyzePath:function(t,e){try{var s=FS.lookupPath(t,{follow:!e});t=s.path}catch{}var a={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=FS.lookupPath(t,{parent:!0});a.parentExists=!0,a.parentPath=s.path,a.parentObject=s.node,a.name=PATH.basename(t),s=FS.lookupPath(t,{follow:!e}),a.exists=!0,a.path=s.path,a.object=s.node,a.name=s.node.name,a.isRoot=s.path==="/"}catch(f){a.error=f.errno}return a},createFolder:function(t,e,s,a){var f=PATH.join2(typeof t=="string"?t:FS.getPath(t),e),d=FS.getMode(s,a);return FS.mkdir(f,d)},createPath:function(t,e,s,a){t=typeof t=="string"?t:FS.getPath(t);for(var f=e.split("/").reverse();f.length;){var d=f.pop();if(!!d){var _=PATH.join2(t,d);try{FS.mkdir(_)}catch{}t=_}}return _},createFile:function(t,e,s,a,f){var d=PATH.join2(typeof t=="string"?t:FS.getPath(t),e),_=FS.getMode(a,f);return FS.create(d,_)},createDataFile:function(t,e,s,a,f,d){var _=e?PATH.join2(typeof t=="string"?t:FS.getPath(t),e):t,v=FS.getMode(a,f),E=FS.create(_,v);if(s){if(typeof s=="string"){for(var C=new Array(s.length),O=0,T=s.length;O<T;++O)C[O]=s.charCodeAt(O);s=C}FS.chmod(E,v|146);var N=FS.open(E,"w");FS.write(N,s,0,s.length,0,d),FS.close(N),FS.chmod(E,v)}return E},createDevice:function(t,e,s,a){var f=PATH.join2(typeof t=="string"?t:FS.getPath(t),e),d=FS.getMode(!!s,!!a);FS.createDevice.major||(FS.createDevice.major=64);var _=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(_,{open:function(v){v.seekable=!1},close:function(v){a&&a.buffer&&a.buffer.length&&a(10)},read:function(v,E,C,O,T){for(var N=0,r=0;r<O;r++){var b;try{b=s()}catch{throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(b===void 0&&N===0)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(b==null)break;N++,E[C+r]=b}return N&&(v.node.timestamp=Date.now()),N},write:function(v,E,C,O,T){for(var N=0;N<O;N++)try{a(E[C+N])}catch{throw new FS.ErrnoError(ERRNO_CODES.EIO)}return O&&(v.node.timestamp=Date.now()),N}}),FS.mkdev(f,d,_)},createLink:function(t,e,s,a,f){var d=PATH.join2(typeof t=="string"?t:FS.getPath(t),e);return FS.symlink(s,d)},forceLoadFile:function(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;var e=!0;if(typeof XMLHttpRequest!="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Module.read)try{t.contents=intArrayFromString(Module.read(t.url),!0),t.usedBytes=t.contents.length}catch{e=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return e||___setErrNo(ERRNO_CODES.EIO),e},createLazyFile:function(t,e,s,a,f){function d(){this.lengthKnown=!1,this.chunks=[]}if(d.prototype.get=function(N){if(!(N>this.length-1||N<0)){var r=N%this.chunkSize,b=N/this.chunkSize|0;return this.getter(b)[r]}},d.prototype.setDataGetter=function(N){this.getter=N},d.prototype.cacheLength=function(){var N=new XMLHttpRequest;if(N.open("HEAD",s,!1),N.send(null),!(N.status>=200&&N.status<300||N.status===304))throw new Error("Couldn't load "+s+". Status: "+N.status);var r=Number(N.getResponseHeader("Content-length")),b,B=(b=N.getResponseHeader("Accept-Ranges"))&&b==="bytes",w=(b=N.getResponseHeader("Content-Encoding"))&&b==="gzip",K=1024*1024;B||(K=r);var U=function(F,ee){if(F>ee)throw new Error("invalid range ("+F+", "+ee+") or no bytes requested!");if(ee>r-1)throw new Error("only "+r+" bytes available! programmer error!");var q=new XMLHttpRequest;if(q.open("GET",s,!1),r!==K&&q.setRequestHeader("Range","bytes="+F+"-"+ee),typeof Uint8Array!="undefined"&&(q.responseType="arraybuffer"),q.overrideMimeType&&q.overrideMimeType("text/plain; charset=x-user-defined"),q.send(null),!(q.status>=200&&q.status<300||q.status===304))throw new Error("Couldn't load "+s+". Status: "+q.status);return q.response!==void 0?new Uint8Array(q.response||[]):intArrayFromString(q.responseText||"",!0)},H=this;H.setDataGetter(function(F){var ee=F*K,q=(F+1)*K-1;if(q=Math.min(q,r-1),typeof H.chunks[F]=="undefined"&&(H.chunks[F]=U(ee,q)),typeof H.chunks[F]=="undefined")throw new Error("doXHR failed!");return H.chunks[F]}),(w||!r)&&(K=r=1,r=this.getter(0).length,K=r,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=K,this.lengthKnown=!0},typeof XMLHttpRequest!="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _=new d;Object.defineProperties(_,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var v={isDevice:!1,contents:_}}else var v={isDevice:!1,url:s};var E=FS.createFile(t,e,v,a,f);v.contents?E.contents=v.contents:v.url&&(E.contents=null,E.url=v.url),Object.defineProperties(E,{usedBytes:{get:function(){return this.contents.length}}});var C={},O=Object.keys(E.stream_ops);return O.forEach(function(T){var N=E.stream_ops[T];C[T]=function(){if(!FS.forceLoadFile(E))throw new FS.ErrnoError(ERRNO_CODES.EIO);return N.apply(null,arguments)}}),C.read=function(N,r,b,B,w){if(!FS.forceLoadFile(E))throw new FS.ErrnoError(ERRNO_CODES.EIO);var K=N.node.contents;if(w>=K.length)return 0;var U=Math.min(K.length-w,B);if(assert(U>=0),K.slice)for(var H=0;H<U;H++)r[b+H]=K[w+H];else for(var H=0;H<U;H++)r[b+H]=K.get(w+H);return U},E.stream_ops=C,E},createPreloadedFile:function(t,e,s,a,f,d,_,v,E,C){Browser.init();var O=e?PATH.resolve(PATH.join2(t,e)):t;function T(N){function r(B){C&&C(),v||FS.createDataFile(t,e,B,a,f,E),d&&d(),removeRunDependency()}var b=!1;Module.preloadPlugins.forEach(function(B){b||B.canHandle(O)&&(B.handle(N,O,r,function(){_&&_(),removeRunDependency()}),b=!0)}),b||r(N)}addRunDependency(),typeof s=="string"?Browser.asyncLoad(s,function(N){T(N)},_):T(s)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(t,e,s){e=e||function(){},s=s||function(){};var a=FS.indexedDB();try{var f=a.open(FS.DB_NAME(),FS.DB_VERSION)}catch(d){return s(d)}f.onupgradeneeded=function(){console.log("creating db");var _=f.result;_.createObjectStore(FS.DB_STORE_NAME)},f.onsuccess=function(){var _=f.result,v=_.transaction([FS.DB_STORE_NAME],"readwrite"),E=v.objectStore(FS.DB_STORE_NAME),C=0,O=0,T=t.length;function N(){O==0?e():s()}t.forEach(function(r){var b=E.put(FS.analyzePath(r).object.contents,r);b.onsuccess=function(){C++,C+O==T&&N()},b.onerror=function(){O++,C+O==T&&N()}}),v.onerror=s},f.onerror=s},loadFilesFromDB:function(t,e,s){e=e||function(){},s=s||function(){};var a=FS.indexedDB();try{var f=a.open(FS.DB_NAME(),FS.DB_VERSION)}catch(d){return s(d)}f.onupgradeneeded=s,f.onsuccess=function(){var _=f.result;try{var v=_.transaction([FS.DB_STORE_NAME],"readonly")}catch(r){s(r);return}var E=v.objectStore(FS.DB_STORE_NAME),C=0,O=0,T=t.length;function N(){O==0?e():s()}t.forEach(function(r){var b=E.get(r);b.onsuccess=function(){FS.analyzePath(r).exists&&FS.unlink(r),FS.createDataFile(PATH.dirname(r),PATH.basename(r),b.result,!0,!0,!0),C++,C+O==T&&N()},b.onerror=function(){O++,C+O==T&&N()}}),v.onerror=s},f.onerror=s}},SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(t,e){if(e[0]!=="/"){var s;if(t===-100)s=FS.cwd();else{var a=FS.getStream(t);if(!a)throw new FS.ErrnoError(ERRNO_CODES.EBADF);s=a.path}e=PATH.join2(s,e)}return e},doStat:function(t,e,s){try{var a=t(e)}catch(f){if(f&&f.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(f.node)))return-ERRNO_CODES.ENOTDIR;throw f}return HEAP32[s>>2]=a.dev,HEAP32[s+4>>2]=0,HEAP32[s+8>>2]=a.ino,HEAP32[s+12>>2]=a.mode,HEAP32[s+16>>2]=a.nlink,HEAP32[s+20>>2]=a.uid,HEAP32[s+24>>2]=a.gid,HEAP32[s+28>>2]=a.rdev,HEAP32[s+32>>2]=0,HEAP32[s+36>>2]=a.size,HEAP32[s+40>>2]=4096,HEAP32[s+44>>2]=a.blocks,HEAP32[s+48>>2]=a.atime.getTime()/1e3|0,HEAP32[s+52>>2]=0,HEAP32[s+56>>2]=a.mtime.getTime()/1e3|0,HEAP32[s+60>>2]=0,HEAP32[s+64>>2]=a.ctime.getTime()/1e3|0,HEAP32[s+68>>2]=0,HEAP32[s+72>>2]=a.ino,0},doMsync:function(t,e,s,a){var f=new Uint8Array(HEAPU8.subarray(t,t+s));FS.msync(e,f,0,s,a)},doMkdir:function(t,e){return t=PATH.normalize(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),FS.mkdir(t,e,0),0},doMknod:function(t,e,s){switch(e&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}return FS.mknod(t,e,s),0},doReadlink:function(t,e,s){if(s<=0)return-ERRNO_CODES.EINVAL;var a=FS.readlink(t),f=Math.min(s,lengthBytesUTF8(a)),d=HEAP8[e+f];return stringToUTF8(a,e,s+1),HEAP8[e+f]=d,f},doAccess:function(t,e){if(e&~7)return-ERRNO_CODES.EINVAL;var s,a=FS.lookupPath(t,{follow:!0});s=a.node;var f="";return e&4&&(f+="r"),e&2&&(f+="w"),e&1&&(f+="x"),f&&FS.nodePermissions(s,f)?-ERRNO_CODES.EACCES:0},doDup:function(t,e,s){var a=FS.getStream(s);return a&&FS.close(a),FS.open(t,e,0,s,s).fd},doReadv:function(t,e,s,a){for(var f=0,d=0;d<s;d++){var _=HEAP32[e+d*8>>2],v=HEAP32[e+(d*8+4)>>2],E=FS.read(t,HEAP8,_,v,a);if(E<0)return-1;if(f+=E,E<v)break}return f},doWritev:function(t,e,s,a){for(var f=0,d=0;d<s;d++){var _=HEAP32[e+d*8>>2],v=HEAP32[e+(d*8+4)>>2],E=FS.write(t,HEAP8,_,v,a);if(E<0)return-1;f+=E}return f},varargs:0,get:function(t){SYSCALLS.varargs+=4;var e=HEAP32[SYSCALLS.varargs-4>>2];return e},getStr:function(){var t=Pointer_stringify(SYSCALLS.get());return t},getStreamFromFD:function(){var t=FS.getStream(SYSCALLS.get());if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return t},getSocketFromFD:function(){var t=SOCKFS.getSocket(SYSCALLS.get());if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return t},getSocketAddress:function(t){var e=SYSCALLS.get(),s=SYSCALLS.get();if(t&&e===0)return null;var a=__read_sockaddr(e,s);if(a.errno)throw new FS.ErrnoError(a.errno);return a.addr=DNS.lookup_addr(a.addr)||a.addr,a},get64:function(){var t=SYSCALLS.get(),e=SYSCALLS.get();return t>=0?assert(e===0):assert(e===-1),t},getZero:function(){assert(SYSCALLS.get()===0)}};function ___syscall91(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.get(),a=SYSCALLS.get(),f=SYSCALLS.mappings[s];if(!f)return 0;if(a===f.len){var d=FS.getStream(f.fd);SYSCALLS.doMsync(s,d,a,f.flags),FS.munmap(d),SYSCALLS.mappings[s]=null,f.allocated&&_free(f.malloc)}return 0}catch(_){return(typeof FS=="undefined"||!(_ instanceof FS.ErrnoError))&&abort(_),-_.errno}}function _pthread_setspecific(t,e){return t in PTHREAD_SPECIFIC?(PTHREAD_SPECIFIC[t]=e,0):ERRNO_CODES.EINVAL}function __exit(t){Module.exit(t)}function _exit(t){__exit(t)}function ___syscall54(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD(),a=SYSCALLS.get();switch(a){case 21505:return s.tty?0:-ERRNO_CODES.ENOTTY;case 21506:return s.tty?0:-ERRNO_CODES.ENOTTY;case 21519:{if(!s.tty)return-ERRNO_CODES.ENOTTY;var f=SYSCALLS.get();return HEAP32[f>>2]=0,0}case 21520:return s.tty?-ERRNO_CODES.EINVAL:-ERRNO_CODES.ENOTTY;case 21531:{var f=SYSCALLS.get();return FS.ioctl(s,a,f)}case 21523:return s.tty?0:-ERRNO_CODES.ENOTTY;default:abort("bad ioctl syscall "+a)}}catch(d){return(typeof FS=="undefined"||!(d instanceof FS.ErrnoError))&&abort(d),-d.errno}}Module._bitshift64Lshr=_bitshift64Lshr;function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}var _environ=STATICTOP;STATICTOP+=16;function ___buildEnvironment(t){var e=64,s=1024,a,f;___buildEnvironment.called?(f=HEAP32[_environ>>2],a=HEAP32[f>>2]):(___buildEnvironment.called=!0,ENV.USER=ENV.LOGNAME="web_user",ENV.PATH="/",ENV.PWD="/",ENV.HOME="/home/web_user",ENV.LANG="C",ENV._=Module.thisProgram,a=allocate(s,"i8",ALLOC_STATIC),f=allocate(e*4,"i8*",ALLOC_STATIC),HEAP32[f>>2]=a,HEAP32[_environ>>2]=f);var d=[],_=0;for(var v in t)if(typeof t[v]=="string"){var E=v+"="+t[v];d.push(E),_+=E.length}if(_>s)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");for(var C=4,O=0;O<d.length;O++){var E=d[O];writeAsciiToMemory(E,a),HEAP32[f+O*C>>2]=a,a+=E.length+1}HEAP32[f+d.length*C>>2]=0}var ENV={};function _getenv(t){return t===0||(t=Pointer_stringify(t),!ENV.hasOwnProperty(t))?0:(_getenv.ret&&_free(_getenv.ret),_getenv.ret=allocate(intArrayFromString(ENV[t]),"i8",ALLOC_NORMAL),_getenv.ret)}function ___map_file(t,e){return ___setErrNo(ERRNO_CODES.EPERM),-1}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}var EXCEPTIONS={last:0,caught:[],infos:{},deAdjust:function(t){if(!t||EXCEPTIONS.infos[t])return t;for(var e in EXCEPTIONS.infos){var s=EXCEPTIONS.infos[e];if(s.adjusted===t)return e}return t},addRef:function(t){if(!!t){var e=EXCEPTIONS.infos[t];e.refcount++}},decRef:function(t){if(!!t){var e=EXCEPTIONS.infos[t];assert(e.refcount>0),e.refcount--,e.refcount===0&&!e.rethrown&&(e.destructor&&Module.dynCall_vi(e.destructor,t),delete EXCEPTIONS.infos[t],___cxa_free_exception(t))}},clearRef:function(t){if(!!t){var e=EXCEPTIONS.infos[t];e.refcount=0}}};function ___cxa_begin_catch(t){var e=EXCEPTIONS.infos[t];return e&&!e.caught&&(e.caught=!0,__ZSt18uncaught_exceptionv.uncaught_exception--),e&&(e.rethrown=!1),EXCEPTIONS.caught.push(t),EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(t)),t}function ___syscall5(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStr(),a=SYSCALLS.get(),f=SYSCALLS.get(),d=FS.open(s,a,f);return d.fd}catch(_){return(typeof FS=="undefined"||!(_ instanceof FS.ErrnoError))&&abort(_),-_.errno}}function _emscripten_memcpy_big(t,e,s){return HEAPU8.set(HEAPU8.subarray(e,e+s),t),t}Module._memcpy=_memcpy;function ___syscall6(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD();return FS.close(s),0}catch(a){return(typeof FS=="undefined"||!(a instanceof FS.ErrnoError))&&abort(a),-a.errno}}var cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_STATIC);Module._llvm_cttz_i32=_llvm_cttz_i32,Module.___udivmoddi4=___udivmoddi4,Module.___udivdi3=___udivdi3,Module.___muldsi3=___muldsi3,Module.___muldi3=___muldi3,Module._sbrk=_sbrk;function ___resumeException(t){throw EXCEPTIONS.last||(EXCEPTIONS.last=t),t+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(){var t=EXCEPTIONS.last;if(!t)return Runtime.setTempRet0(0),0|0;var e=EXCEPTIONS.infos[t],s=e.type;if(!s)return Runtime.setTempRet0(0),t|0;var a=Array.prototype.slice.call(arguments);Module.___cxa_is_pointer_type(s),___cxa_find_matching_catch.buffer||(___cxa_find_matching_catch.buffer=_malloc(4)),HEAP32[___cxa_find_matching_catch.buffer>>2]=t,t=___cxa_find_matching_catch.buffer;for(var f=0;f<a.length;f++)if(a[f]&&Module.___cxa_can_catch(a[f],s,t))return t=HEAP32[t>>2],e.adjusted=t,Runtime.setTempRet0(a[f]),t|0;return t=HEAP32[t>>2],Runtime.setTempRet0(s),t|0}function ___gxx_personality_v0(){}Module.___uremdi3=___uremdi3,Module._llvm_bswap_i32=_llvm_bswap_i32;function ___syscall140(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD(),a=SYSCALLS.get(),f=SYSCALLS.get(),d=SYSCALLS.get(),_=SYSCALLS.get(),v=f;return assert(a===0),FS.llseek(s,v,_),HEAP32[d>>2]=s.position,s.getdents&&v===0&&_===0&&(s.getdents=null),0}catch(E){return(typeof FS=="undefined"||!(E instanceof FS.ErrnoError))&&abort(E),-E.errno}}function ___syscall146(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD(),a=SYSCALLS.get(),f=SYSCALLS.get();return SYSCALLS.doWritev(s,a,f)}catch(d){return(typeof FS=="undefined"||!(d instanceof FS.ErrnoError))&&abort(d),-d.errno}}function ___syscall221(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD(),a=SYSCALLS.get();switch(a){case 0:{var f=SYSCALLS.get();if(f<0)return-ERRNO_CODES.EINVAL;var d;return d=FS.open(s.path,s.flags,0,f),d.fd}case 1:case 2:return 0;case 3:return s.flags;case 4:{var f=SYSCALLS.get();return s.flags|=f,0}case 12:case 12:{var f=SYSCALLS.get(),_=0;return HEAP16[f+_>>1]=2,0}case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ERRNO_CODES.EINVAL;case 9:return ___setErrNo(ERRNO_CODES.EINVAL),-1;default:return-ERRNO_CODES.EINVAL}}catch(v){return(typeof FS=="undefined"||!(v instanceof FS.ErrnoError))&&abort(v),-v.errno}}function ___syscall145(t,e){SYSCALLS.varargs=e;try{var s=SYSCALLS.getStreamFromFD(),a=SYSCALLS.get(),f=SYSCALLS.get();return SYSCALLS.doReadv(s,a,f)}catch(d){return(typeof FS=="undefined"||!(d instanceof FS.ErrnoError))&&abort(d),-d.errno}}if(FS.staticInit(),__ATINIT__.unshift(function(){!Module.noFSInit&&!FS.init.initialized&&FS.init()}),__ATMAIN__.push(function(){FS.ignorePermissions=!1}),__ATEXIT__.push(function(){FS.quit()}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,Module.FS_unlink=FS.unlink,__ATINIT__.unshift(function(){}),__ATEXIT__.push(function(){}),ENVIRONMENT_IS_NODE){var fs=require$$1$1,NODEJS_PATH=require$$1$1;NODEFS.staticInit()}___buildEnvironment(ENV),DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC),STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),STACK_MAX=STACK_BASE+TOTAL_STACK,DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX),HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE,staticSealed=!0;function invoke_iiii(t,e,s,a){try{return Module.dynCall_iiii(t,e,s,a)}catch(f){if(typeof f!="number"&&f!=="longjmp")throw f;Module.setThrew(1,0)}}function invoke_viiiiii(t,e,s,a,f,d,_){try{Module.dynCall_viiiiii(t,e,s,a,f,d,_)}catch(v){if(typeof v!="number"&&v!=="longjmp")throw v;Module.setThrew(1,0)}}function invoke_di(t,e){try{return Module.dynCall_di(t,e)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_vi(t,e){try{Module.dynCall_vi(t,e)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_ii(t,e){try{return Module.dynCall_ii(t,e)}catch(s){if(typeof s!="number"&&s!=="longjmp")throw s;Module.setThrew(1,0)}}function invoke_viii(t,e,s,a){try{Module.dynCall_viii(t,e,s,a)}catch(f){if(typeof f!="number"&&f!=="longjmp")throw f;Module.setThrew(1,0)}}function invoke_v(t){try{Module.dynCall_v(t)}catch(e){if(typeof e!="number"&&e!=="longjmp")throw e;Module.setThrew(1,0)}}function invoke_viiii(t,e,s,a,f){try{Module.dynCall_viiii(t,e,s,a,f)}catch(d){if(typeof d!="number"&&d!=="longjmp")throw d;Module.setThrew(1,0)}}function invoke_viiiii(t,e,s,a,f,d){try{Module.dynCall_viiiii(t,e,s,a,f,d)}catch(_){if(typeof _!="number"&&_!=="longjmp")throw _;Module.setThrew(1,0)}}function invoke_diii(t,e,s,a){try{return Module.dynCall_diii(t,e,s,a)}catch(f){if(typeof f!="number"&&f!=="longjmp")throw f;Module.setThrew(1,0)}}Module.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0,byteLength},Module.asmLibraryArg={abort,assert,enlargeMemory,getTotalMemory,abortOnCannotGrowMemory,invoke_iiii,invoke_viiiiii,invoke_di,invoke_vi,invoke_ii,invoke_viii,invoke_v,invoke_viiii,invoke_viiiii,invoke_diii,___syscall221,_pthread_key_create,_abort,___gxx_personality_v0,__ZSt18uncaught_exceptionv,___buildEnvironment,___setErrNo,___cxa_begin_catch,_emscripten_memcpy_big,___resumeException,___cxa_find_matching_catch,__exit,_pthread_getspecific,___syscall91,_pthread_once,_getenv,___map_file,___syscall54,___unlock,_pthread_setspecific,___lock,___syscall6,___syscall5,___cxa_pure_virtual,___syscall140,_exit,___syscall145,___syscall146,DYNAMICTOP_PTR,tempDoublePtr,ABORT,STACKTOP,STACK_MAX,cttz_i8};var asm=function(t,e,s){var a=t.Int8Array,f=t.Int16Array,d=t.Int32Array,_=t.Uint8Array,v=t.Uint16Array,E=t.Uint32Array,C=t.Float32Array,O=t.Float64Array,T=new a(s),N=new f(s),r=new d(s),b=new _(s);new v(s),new E(s);var B=new C(s),w=new O(s),K=t.byteLength,U=e.DYNAMICTOP_PTR|0,H=e.tempDoublePtr|0;e.ABORT|0;var F=e.STACKTOP|0;e.STACK_MAX|0;var ee=e.cttz_i8|0,q=t.NaN,W=t.Infinity,V=0;t.Math.floor;var ae=t.Math.abs,se=t.Math.sqrt;t.Math.pow,t.Math.cos,t.Math.sin,t.Math.tan,t.Math.acos,t.Math.asin,t.Math.atan,t.Math.atan2;var re=t.Math.exp,Z=t.Math.log;t.Math.ceil;var te=t.Math.imul;t.Math.min,t.Math.max;var Ee=t.Math.clz32,Me=e.abort;e.assert;var ke=e.enlargeMemory,Ae=e.getTotalMemory,be=e.abortOnCannotGrowMemory;e.invoke_iiii,e.invoke_viiiiii,e.invoke_di,e.invoke_vi,e.invoke_ii,e.invoke_viii,e.invoke_v,e.invoke_viiii,e.invoke_viiiii,e.invoke_diii;var Ke=e.___syscall221,xe=e._pthread_key_create,ie=e._abort;e.___gxx_personality_v0,e.__ZSt18uncaught_exceptionv,e.___buildEnvironment;var He=e.___setErrNo;e.___cxa_begin_catch;var Qe=e._emscripten_memcpy_big;e.___resumeException,e.___cxa_find_matching_catch,e.__exit;var mt=e._pthread_getspecific,bt=e.___syscall91,Jr=e._pthread_once,yt=e._getenv,lr=e.___map_file,mr=e.___syscall54,At=e.___unlock,_r=e._pthread_setspecific,jt=e.___lock,z=e.___syscall6,X=e.___syscall5,le=e.___cxa_pure_virtual,he=e.___syscall140,ce=e._exit,Se=e.___syscall145,we=e.___syscall146;function _e(n){return K(n)&16777215||K(n)<=16777215||K(n)>2147483648?!1:(T=new a(n),N=new f(n),r=new d(n),b=new _(n),new v(n),new E(n),B=new C(n),w=new O(n),s=n,!0)}function ye(n){n=n|0;var o=0;return o=F,F=F+n|0,F=F+15&-16,o|0}function ge(){return F|0}function Oe(n){n=n|0,F=n}function Ce(n,o){n=n|0,F=n}function Fe(n,o){}function Pe(n){n=n|0,V=n}function Ue(){return V|0}function Xe(n){}function Ye(){ce(1)}function We(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0;if($=F,F=F+272|0,Y=$,P=$+8|0,rs(P,n)|0,n=gt(P,1428)|0,r[o>>2]=0,P=o+4|0,r[P>>2]=2,x=o+8|0,r[x>>2]=3,D=o+16|0,I=o+24|0,L=o+72|0,r[D>>2]=0,r[D+4>>2]=0,r[D+8>>2]=0,r[D+12>>2]=0,w[L>>3]=.5,Q=o+32|0,w[Q>>3]=100,m=o+48|0,w[m>>3]=1,g=o+40|0,w[g>>3]=.001,S=o+80|0,w[S>>3]=.1,y=o+88|0,r[y>>2]=1,k=o+92|0,r[k>>2]=0,A=o+56|0,r[A>>2]=0,R=o+60|0,r[R>>2]=0,M=o+64|0,r[M>>2]=0,!n){F=$;return}u=n,n=0;e:for(;;){if((T[u>>0]|0)!=45){l=22;break}if(l=gt(0,1428)|0,!l){l=5;break}c=T[u+1>>0]|0;do switch(c|0){case 115:{c=hr(l)|0,r[o>>2]=c;break}case 116:{c=hr(l)|0,r[P>>2]=c;break}case 100:{c=hr(l)|0,r[x>>2]=c;break}case 103:{J=+Vt(l),w[D>>3]=J;break}case 114:{J=+Vt(l),w[I>>3]=J;break}case 110:{J=+Vt(l),w[L>>3]=J;break}case 109:{J=+Vt(l),w[Q>>3]=J;break}case 99:{J=+Vt(l),w[m>>3]=J;break}case 101:{J=+Vt(l),w[g>>3]=J;break}case 113:{n=20;break}case 112:{J=+Vt(l),w[S>>3]=J;break}case 104:{c=hr(l)|0,r[y>>2]=c;break}case 98:{c=hr(l)|0,r[k>>2]=c;break}case 119:{c=(r[A>>2]|0)+1|0,r[A>>2]=c,c=zt(r[R>>2]|0,c<<2)|0,r[R>>2]=c,c=zt(r[M>>2]|0,r[A>>2]<<3)|0,r[M>>2]=c,u=hr(u+2|0)|0,r[(r[R>>2]|0)+((r[A>>2]|0)+-1<<2)>>2]=u,J=+Vt(l),w[c+((r[A>>2]|0)+-1<<3)>>3]=J;break}default:{l=20;break e}}while(0);if(u=gt(0,1428)|0,!u){l=22;break}}if((l|0)==5)Ye();else if((l|0)==20)$=r[105]|0,r[Y>>2]=c,nt($,1432,Y)|0,Ye();else if((l|0)==22){u0(n),F=$;return}}function Ct(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=+u,c=c|0;var m=0,g=0,S=0;if(g=r[(r[n+8>>2]|0)+(c<<2)>>2]|0,(l|0)>0){m=0;do S=m,m=m+1|0,r[g+(S<<4)>>2]=m,w[g+(S<<4)+8>>3]=+w[o+(S<<3)>>3];while((m|0)!=(l|0))}r[g+(l<<4)>>2]=-1,w[(r[n+4>>2]|0)+(c<<3)>>3]=u}function Ut(n){n=n|0;var o=0,l=0;return(a0(1453,n)|0)<0?(n=0,n|0):(l=Lr(1453,2626)|0,fi(l,0,2)|0,o=Xi(l)|0,fi(l,0,0)|0,n=pe(o+1|0)|0,K0(n,o,1,l)|0,Hr(l)|0,T[n+o>>0]=0,n|0)}function Ar(n){n=n|0;var o=0;return o=Lr(1453,2240)|0,Ji(n,o)|0,Hr(o)|0,f0(1453)|0}function qt(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0;if(c=pe(12)|0,r[c>>2]=n,m=pe(n<<3)|0,r[c+4>>2]=m,m=pe(n<<2)|0,r[c+8>>2]=m,u=o+1|0,l=pe(te(u<<4,n)|0)|0,(n|0)>0)o=0;else return c|0;do g=l+((te(o,u)|0)<<4)|0,r[m+(o<<2)>>2]=g,o=o+1|0;while((o|0)<(n|0));return c|0}function Rr(n){n=n|0;var o=0,l=0;o=F,F=F+16|0,l=o,r[l>>2]=n,r0(l),F=o}function _t(n,o){n=n|0,o=o|0;var l=0,u=0,c=0;return c=F,F=F+96|0,u=c,We(o,u),o=u+16|0,l=+w[o>>3]==0,((r[u>>2]|0)+-3|0)>>>0<2?l&&(w[o>>3]=.1):l&&(w[o>>3]=.5),n=Xt(n,u)|0,fr(u),F=c,n|0}function Rt(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0;c=F,F=F+96|0,m=c,We(o,m),Ci(n,m,l,u),fr(m),F=c}function Or(n){n=n|0;var o=0;de(r[n+4>>2]|0),o=n+8|0,(r[n>>2]|0)>0&&de(r[r[o>>2]>>2]|0),de(r[o>>2]|0),de(n)}function Sn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;if(c=pe((l<<4)+16|0)|0,(l|0)>0){u=0;do m=u,u=u+1|0,r[c+(m<<4)>>2]=u,w[c+(m<<4)+8>>3]=+w[o+(m<<3)>>3];while((u|0)!=(l|0))}return r[c+(l<<4)>>2]=-1,g=+t0(n,c),de(c),+g}function En(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0;if(m=pe((l<<4)+16|0)|0,(l|0)>0){c=0;do g=c,c=c+1|0,r[m+(g<<4)>>2]=c,w[m+(g<<4)+8>>3]=+w[o+(g<<3)>>3];while((c|0)!=(l|0))}return r[m+(l<<4)>>2]=-1,+ +Fi(n,m,u)}function yn(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0;P=F,F=F+96|0,R=P,M=pe(12)|0,r[M>>2]=l,A=pe(l<<3)|0,r[M+4>>2]=A,k=pe(l<<2)|0,r[M+8>>2]=k,g=u+1|0,S=pe(te(l<<4,g)|0)|0,y=(l|0)>0;e:do if(y){m=0;do x=S+((te(m,g)|0)<<4)|0,r[k+(m<<2)>>2]=x,m=m+1|0;while((m|0)!=(l|0));if(y){if((u|0)>0)m=0;else for(m=0;;)if(r[(r[k+(m<<2)>>2]|0)+(u<<4)>>2]=-1,w[A+(m<<3)>>3]=+w[o+(m<<3)>>3],m=m+1|0,(m|0)==(l|0))break e;do{S=r[k+(m<<2)>>2]|0,y=te(m,u)|0,g=0;do x=g,g=g+1|0,r[S+(x<<4)>>2]=g,w[S+(x<<4)+8>>3]=+w[n+(x+y<<3)>>3];while((g|0)!=(u|0));r[S+(u<<4)>>2]=-1,w[A+(m<<3)>>3]=+w[o+(m<<3)>>3],m=m+1|0}while((m|0)!=(l|0))}}while(0);return We(c,R),m=R+16|0,g=+w[m>>3]==0,((r[R>>2]|0)+-3|0)>>>0<2?g?(w[m>>3]=.1,x=Xt(M,R)|0,fr(R),F=P,x|0):(x=Xt(M,R)|0,fr(R),F=P,x|0):g?(w[m>>3]=.5,x=Xt(M,R)|0,fr(R),F=P,x|0):(x=Xt(M,R)|0,fr(R),F=P,x|0)}function wn(n){return n=n|0,+ +w[n+80>>3]}function Tn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;u=r[n+12>>2]|0,m=u+(o<<2)|0,u=u+(l<<2)|0,c=r[m>>2]|0,r[m>>2]=r[u>>2],r[u>>2]=c,u=r[n+16>>2]|0,o=u+(o<<3)|0,n=u+(l<<3)|0,!!u&&(g=+w[o>>3],w[o>>3]=+w[n>>3],w[n>>3]=g)}function Cn(n){n=n|0;var o=0;r[n>>2]=208,o=r[n+12>>2]|0,o|0&&Be(o),n=r[n+16>>2]|0,!!n&&Be(n)}function kn(n){n=n|0;var o=0;if(r[n>>2]=208,o=r[n+12>>2]|0,o|0&&Be(o),o=r[n+16>>2]|0,!o){kt(n);return}Be(o),kt(n)}function An(n){}function Rn(n){n=n|0,kt(n)}function On(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0;if(M=n+4|0,P=r[M>>2]|0,(P|0)<=0)return l=1,l|0;A=r[n+8>>2]|0,R=r[n+16>>2]|0,S=n+12|0,u=-1,g=0,c=-W;do m=T[R+g>>0]|0,(T[A+g>>0]|0)==1?(m<<24>>24!=1?(y=-+w[(r[S>>2]|0)+(g<<3)>>3],c<=y):0)&&(c=y,u=g):(m<<24>>24!=0?(k=+w[(r[S>>2]|0)+(g<<3)>>3],k>=c):0)&&(c=k,u=g),g=g+1|0;while((g|0)<(P|0));if((u|0)==-1?(u=-1,L=0):(L=r[n+24>>2]|0,L=je[r[r[L>>2]>>2]&15](L,u,P)|0,P=r[M>>2]|0),(P|0)<=0)return l=1,l|0;A=r[n+8>>2]|0,R=r[n+16>>2]|0,M=n+12|0,D=n+28|0,I=A+u|0,S=0,m=-1,k=W,y=-W;do g=T[R+S>>0]|0,(T[A+S>>0]|0)==1?g<<24>>24&&(Q=+w[(r[M>>2]|0)+(S<<3)>>3],x=c+Q,y=Q>=y?Q:y,x>0&&(g=r[D>>2]|0,Q=+w[g+(u<<3)>>3]+ +w[g+(S<<3)>>3]-+(T[I>>0]|0)*2*+B[L+(S<<2)>>2],Q=-(x*x)/(Q>0?Q:1e-12),g=!(Q<=k),m=g?m:S,k=g?k:Q)):g<<24>>24!=1&&(Q=+w[(r[M>>2]|0)+(S<<3)>>3],x=c-Q,Q=-Q,y=y<=Q?Q:y,x>0&&(g=r[D>>2]|0,Q=+w[g+(u<<3)>>3]+ +w[g+(S<<3)>>3]+ +(T[I>>0]|0)*2*+B[L+(S<<2)>>2],Q=-(x*x)/(Q>0?Q:1e-12),g=!(Q<=k),m=g?m:S,k=g?k:Q)),S=S+1|0;while((S|0)<(P|0));return((m|0)==-1?1:c+y<+w[n+32>>3])?(l=1,l|0):(r[o>>2]=u,r[l>>2]=m,l=0,l|0)}function Fn(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0;if(y=r[n+4>>2]|0,(y|0)>0){for(k=r[n+8>>2]|0,A=r[n+12>>2]|0,S=r[n+16>>2]|0,g=0,u=0,l=-W,o=W,m=0;;){n=T[k+g>>0]|0,c=+(n<<24>>24)*+w[A+(g<<3)>>3];e:do switch(T[S+g>>0]|0){case 1:if(n<<24>>24==-1){o=o<c?o:c,n=m;break e}else{l=l>c?l:c,n=m;break e}case 0:if(n<<24>>24==1){o=o<c?o:c,n=m;break e}else{l=l>c?l:c,n=m;break e}default:u=u+c,n=m+1|0}while(0);if(g=g+1|0,(g|0)>=(y|0))break;m=n}if((n|0)>0)return c=u/+(n|0),+c}else l=-W,o=W;return c=(o+l)*.5,+c}function Nn(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0;if(Y=F,F=F+16|0,R=Y,L=n+4|0,A=r[L>>2]|0,(A|0)>0){S=r[n+8>>2]|0,y=r[n+16>>2]|0,k=n+12|0,u=-W,g=0,l=-W;do{m=T[y+g>>0]|0,o=m<<24>>24==1;do if((T[S+g>>0]|0)==1){if(!o&&(c=-+w[(r[k>>2]|0)+(g<<3)>>3],u=u<=c?c:u,!(m<<24>>24)))break;c=+w[(r[k>>2]|0)+(g<<3)>>3],c>=l&&(l=c)}else{if(!o&&(c=-+w[(r[k>>2]|0)+(g<<3)>>3],l=l<=c?c:l,!(m<<24>>24)))break;c=+w[(r[k>>2]|0)+(g<<3)>>3],c>=u&&(u=c)}while(0);g=g+1|0}while((g|0)<(A|0))}else l=-W,u=-W;if(o=n+72|0,((T[o>>0]|0)==0?u+l<=+w[n+32>>3]*10:0)?(T[o>>0]=1,Fr(n),r[L>>2]=r[n+68>>2],ot(1483,R),o=r[L>>2]|0):o=A,(o|0)<=0){F=Y;return}A=n+16|0,R=n+8|0,M=n+12|0,P=n+24|0,x=n+20|0,D=n+56|0,I=n+60|0,k=n+64|0,y=0;do{S=r[A>>2]|0;e:do switch(T[S+y>>0]|0){case 1:if(m=r[R>>2]|0,g=r[M>>2]|0,c=-+w[g+(y<<3)>>3],(T[m+y>>0]|0)==1)if(u<c){Q=25;break e}else break e;else if(l<c){Q=25;break e}else break e;case 0:if(m=r[R>>2]|0,g=r[M>>2]|0,c=+w[g+(y<<3)>>3],(T[m+y>>0]|0)==1)if(c>l){Q=25;break e}else break e;else if(c>u){Q=25;break e}else break e}while(0);e:do if((Q|0)==25&&(Q=0,o=o+-1|0,r[L>>2]=o,(o|0)>(y|0))){t:for(;;){r:do switch(T[S+o>>0]|0){case 1:if(c=-+w[g+(o<<3)>>3],(T[m+o>>0]|0)==1){if(u<c)break r;break t}else{if(l<c)break r;break t}case 0:if(c=+w[g+(o<<3)>>3],(T[m+o>>0]|0)==1){if(c>l)break r;break t}else{if(c>u)break r;break t}default:break t}while(0);if(o=o+-1|0,r[L>>2]=o,(o|0)<=(y|0))break e}S=r[P>>2]|0,mi[r[(r[S>>2]|0)+8>>2]&7](S,y,o),S=r[R>>2]|0,g=S+y|0,S=S+o|0,n=T[g>>0]|0,T[g>>0]=T[S>>0]|0,T[S>>0]=n,S=r[M>>2]|0,n=S+(y<<3)|0,S=S+(o<<3)|0,c=+w[n>>3],w[n>>3]=+w[S>>3],w[S>>3]=c,S=r[A>>2]|0,n=S+y|0,S=S+o|0,g=T[n>>0]|0,T[n>>0]=T[S>>0]|0,T[S>>0]=g,S=r[x>>2]|0,g=S+(y<<3)|0,S=S+(o<<3)|0,c=+w[g>>3],w[g>>3]=+w[S>>3],w[S>>3]=c,S=r[D>>2]|0,g=S+(y<<3)|0,S=S+(o<<3)|0,c=+w[g>>3],w[g>>3]=+w[S>>3],w[S>>3]=c,S=r[I>>2]|0,g=S+(y<<2)|0,S=S+(o<<2)|0,n=r[g>>2]|0,r[g>>2]=r[S>>2],r[S>>2]=n,S=r[k>>2]|0,n=S+(y<<3)|0,o=S+(o<<3)|0,c=+w[n>>3],w[n>>3]=+w[o>>3],w[o>>3]=c,o=r[L>>2]|0}while(0);y=y+1|0}while((y|0)<(o|0));F=Y}function Fr(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0;if(x=F,F=F+16|0,g=x,M=n+4|0,S=r[M>>2]|0,P=n+68|0,m=r[P>>2]|0,(S|0)==(m|0)){F=x;return}if((S|0)<(m|0)){c=r[n+64>>2]|0,l=r[n+56>>2]|0,u=r[n+12>>2]|0,o=S;do w[u+(o<<3)>>3]=+w[c+(o<<3)>>3]+ +w[l+(o<<3)>>3],o=o+1|0;while((o|0)!=(m|0))}if((S|0)>0){u=r[n+16>>2]|0,o=0,l=0;do o=((T[u+l>>0]|0)==2&1)+o|0,l=l+1|0;while((l|0)<(S|0))}else o=0;if((o<<1|0)<(S|0)?(ot(1485,g),u=r[P>>2]|0,l=r[M>>2]|0):(u=m,l=S),(te(u,o)|0)<=(te(l<<1,u-l|0)|0)){if((l|0)<=0){F=x;return}y=n+16|0,k=n+24|0,R=n+20|0,S=n+12|0,g=0,o=u;do{if((T[(r[y>>2]|0)+g>>0]|0)==2&&(c=r[k>>2]|0,c=je[r[r[c>>2]>>2]&15](c,g,o)|0,A=+w[(r[R>>2]|0)+(g<<3)>>3],l=r[M>>2]|0,o=r[P>>2]|0,(l|0)<(o|0))){m=r[S>>2]|0,u=l;do n=m+(u<<3)|0,w[n>>3]=+w[n>>3]+A*+B[c+(u<<2)>>2],u=u+1|0;while((u|0)<(o|0))}g=g+1|0}while((g|0)<(l|0));F=x;return}if((u|0)<=(l|0)){F=x;return}S=n+24|0,y=n+16|0,k=n+20|0,g=n+12|0,m=l,u=l;do{if(c=r[S>>2]|0,c=je[r[r[c>>2]>>2]&15](c,m,u)|0,u=r[M>>2]|0,(u|0)>0){l=r[y>>2]|0,o=0;do(T[l+o>>0]|0)==2&&(n=(r[g>>2]|0)+(m<<3)|0,w[n>>3]=+w[n>>3]+ +w[(r[k>>2]|0)+(o<<3)>>3]*+B[c+(o<<2)>>2]),o=o+1|0;while((o|0)<(u|0))}m=m+1|0}while((m|0)<(r[P>>2]|0));F=x}function ot(n,o){n=n|0,o=o|0;var l=0,u=0,c=0;l=F,F=F+1040|0,u=l+16|0,c=l,r[c>>2]=o,T0(u,n,c)|0,pi[r[64]&31](u),F=l}function Mn(n){n=n|0;var o=0;o=r[198]|0,Ji(n,o)|0,Br(o)|0}function Pn(n){n=n|0,kt(n)}function bn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0;if(I=n+4|0,x=r[I>>2]|0,(x|0)>0){for(M=r[n+8>>2]|0,P=r[n+16>>2]|0,R=n+12|0,k=-W,S=-1,g=-W,A=0,u=-1;c=T[P+A>>0]|0,(T[M+A>>0]|0)==1?(c<<24>>24!=1?(m=-+w[(r[R>>2]|0)+(A<<3)>>3],k<=m):0)?(k=m,c=A):c=S:(c<<24>>24!=0?(y=+w[(r[R>>2]|0)+(A<<3)>>3],y>=g):0)?(c=S,g=y,u=A):c=S,A=A+1|0,!((A|0)>=(x|0));)S=c;if((c|0)==-1?(S=-1,$=0):($=r[n+24>>2]|0,S=c,$=je[r[r[$>>2]>>2]&15]($,c,x)|0),(u|0)==-1?Y=0:(Y=r[n+24>>2]|0,Y=je[r[r[Y>>2]>>2]&15](Y,u,r[I>>2]|0)|0),M=r[I>>2]|0,(M|0)>0)for(P=r[n+8>>2]|0,x=r[n+16>>2]|0,I=n+12|0,Q=n+28|0,y=-W,R=0,m=-W,L=W,c=-1;A=T[x+R>>0]|0,(T[P+R>>0]|0)==1?A<<24>>24?(J=+w[(r[I>>2]|0)+(R<<3)>>3],D=k+J,y=J>=y?J:y,D>0?(A=r[Q>>2]|0,J=+w[A+(S<<3)>>3]+ +w[A+(R<<3)>>3]-+B[$+(R<<2)>>2]*2,D=-(D*D)/(J>0?J:1e-12),A=!(D<=L),D=A?L:D,c=A?c:R):D=L):D=L:A<<24>>24!=1?(J=+w[(r[I>>2]|0)+(R<<3)>>3],D=g-J,J=-J,m=m<=J?J:m,D>0?(A=r[Q>>2]|0,J=+w[A+(u<<3)>>3]+ +w[A+(R<<3)>>3]-+B[Y+(R<<2)>>2]*2,D=-(D*D)/(J>0?J:1e-12),A=!(D<=L),D=A?L:D,c=A?c:R):D=L):D=L,R=R+1|0,!((R|0)>=(M|0));)L=D;else y=-W,m=-W,c=-1}else k=-W,y=-W,S=-1,g=-W,m=-W,c=-1,u=-1;return L=k+y,J=g+m,((c|0)==-1?1:(L>J?L:J)<+w[n+32>>3])?(l=1,l|0):(r[o>>2]=(T[(r[n+8>>2]|0)+c>>0]|0)==1?S:u,r[l>>2]=c,l=0,l|0)}function xn(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0;if(P=r[n+4>>2]|0,(P|0)>0){for(x=r[n+8>>2]|0,D=r[n+16>>2]|0,I=n+12|0,M=0,m=0,A=0,g=-W,c=-W,l=W,u=W,o=0,R=0;;){k=T[D+M>>0]|0,y=k<<24>>24==1;do if((T[x+M>>0]|0)==1){if(y){S=+w[(r[I>>2]|0)+(M<<3)>>3],c=c>S?c:S,y=R;break}if(S=+w[(r[I>>2]|0)+(M<<3)>>3],k<<24>>24){A=A+S,y=R+1|0;break}else{u=u<S?u:S,y=R;break}}else{if(y){S=+w[(r[I>>2]|0)+(M<<3)>>3],g=g>S?g:S,y=R;break}if(S=+w[(r[I>>2]|0)+(M<<3)>>3],k<<24>>24){m=m+S,o=o+1|0,y=R;break}else{l=l<S?l:S,y=R;break}}while(0);if(M=M+1|0,(M|0)>=(P|0))break;R=y}(y|0)>0?(S=A/+(y|0),c=m,u=g):L=17}else m=0,g=-W,c=-W,l=W,u=W,o=0,L=17;return(L|0)==17&&(S=(u+c)*.5,c=m,u=g),(o|0)>0?(A=c/+(o|0),g=S+A,g=g*.5,L=n+76|0,L=r[L>>2]|0,L=L+32|0,w[L>>3]=g,A=S-A,A=A*.5,+A):(A=(l+u)*.5,g=S+A,g=g*.5,L=n+76|0,L=r[L>>2]|0,L=L+32|0,w[L>>3]=g,A=S-A,A=A*.5,+A)}function In(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0;if(Y=n+4|0,R=r[Y>>2]|0,(R|0)>0)for(y=r[n+16>>2]|0,k=n+8|0,A=n+12|0,l=-W,m=-W,S=-W,c=-W,g=0;;){o=T[y+g>>0]|0,o<<24>>24!=1?(u=-+w[(r[A>>2]|0)+(g<<3)>>3],(T[(r[k>>2]|0)+g>>0]|0)==1?c<u||(u=c):(l<u&&(l=u),u=c),o<<24>>24?$=10:c=S):(u=c,$=10);do if(($|0)==10)if($=0,c=+w[(r[A>>2]|0)+(g<<3)>>3],(T[(r[k>>2]|0)+g>>0]|0)==1){if(!(c>S)){c=S;break}break}else{if(!(c>m)){c=S;break}m=c,c=S;break}while(0);if(g=g+1|0,(g|0)>=(R|0))break;S=c,c=u}else l=-W,m=-W,c=-W,u=-W;if(o=n+72|0,((T[o>>0]|0)==0?(J=u+c,S=m+l,(J>S?J:S)<=+w[n+32>>3]*10):0)?(T[o>>0]=1,Fr(n),o=r[n+68>>2]|0,r[Y>>2]=o):o=R,!((o|0)<=0)){M=n+16|0,P=n+8|0,x=n+12|0,D=n+24|0,I=n+20|0,L=n+56|0,Q=n+60|0,R=n+64|0,A=0;do{k=r[M>>2]|0;e:do switch(T[k+A>>0]|0){case 1:if(g=r[P>>2]|0,y=r[x>>2]|0,S=-+w[y+(A<<3)>>3],(T[g+A>>0]|0)==1)if(u<S){$=28;break e}else break e;else if(l<S){$=28;break e}else break e;case 0:if(g=r[P>>2]|0,y=r[x>>2]|0,S=+w[y+(A<<3)>>3],(T[g+A>>0]|0)==1)if(S>c){$=28;break e}else break e;else if(S>m){$=28;break e}else break e}while(0);e:do if(($|0)==28&&($=0,o=o+-1|0,r[Y>>2]=o,(o|0)>(A|0))){t:for(;;){r:do switch(T[k+o>>0]|0){case 1:if(S=-+w[y+(o<<3)>>3],(T[g+o>>0]|0)==1){if(u<S)break r;break t}else{if(l<S)break r;break t}case 0:if(S=+w[y+(o<<3)>>3],(T[g+o>>0]|0)==1){if(S>c)break r;break t}else{if(S>m)break r;break t}default:break t}while(0);if(o=o+-1|0,r[Y>>2]=o,(o|0)<=(A|0))break e}k=r[D>>2]|0,mi[r[(r[k>>2]|0)+8>>2]&7](k,A,o),k=r[P>>2]|0,y=k+A|0,k=k+o|0,n=T[y>>0]|0,T[y>>0]=T[k>>0]|0,T[k>>0]=n,k=r[x>>2]|0,n=k+(A<<3)|0,k=k+(o<<3)|0,J=+w[n>>3],w[n>>3]=+w[k>>3],w[k>>3]=J,k=r[M>>2]|0,n=k+A|0,k=k+o|0,y=T[n>>0]|0,T[n>>0]=T[k>>0]|0,T[k>>0]=y,k=r[I>>2]|0,y=k+(A<<3)|0,k=k+(o<<3)|0,J=+w[y>>3],w[y>>3]=+w[k>>3],w[k>>3]=J,k=r[L>>2]|0,y=k+(A<<3)|0,k=k+(o<<3)|0,J=+w[y>>3],w[y>>3]=+w[k>>3],w[k>>3]=J,k=r[Q>>2]|0,y=k+(A<<2)|0,k=k+(o<<2)|0,n=r[y>>2]|0,r[y>>2]=r[k>>2],r[k>>2]=n,k=r[R>>2]|0,n=k+(A<<3)|0,o=k+(o<<3)|0,J=+w[n>>3],w[n>>3]=+w[o>>3],w[o>>3]=J,o=r[Y>>2]|0}while(0);A=A+1|0}while((A|0)<(o|0))}}function Qr(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0;if(S=r[n+8>>2]|0,y=S+(o<<4)|0,k=S+(o<<4)+12|0,c=r[k>>2]|0,c|0&&(g=S+(o<<4)+4|0,m=r[y>>2]|0,r[m+4>>2]=r[g>>2],r[r[g>>2]>>2]=m),c=u-c|0,(c|0)<=0)return k=u,u=r[S+(o<<4)+8>>2]|0,n=n+12|0,S=S+(o<<4)+4|0,r[S>>2]=n,o=r[n>>2]|0,r[y>>2]=o,o=o+4|0,r[o>>2]=y,S=r[S>>2]|0,r[S>>2]=y,r[l>>2]=u,k|0;if(m=n+4|0,(r[m>>2]|0)<(c|0)){g=n+16|0;do R=r[g>>2]|0,M=R+4|0,A=r[R>>2]|0,r[A+4>>2]=r[M>>2],r[r[M>>2]>>2]=A,M=R+8|0,de(r[M>>2]|0),R=R+12|0,A=(r[m>>2]|0)+(r[R>>2]|0)|0,r[m>>2]=A,r[M>>2]=0,r[R>>2]=0;while((A|0)<(c|0))}return M=S+(o<<4)+8|0,R=zt(r[M>>2]|0,u<<2)|0,r[M>>2]=R,r[m>>2]=(r[m>>2]|0)-c,M=r[k>>2]|0,r[k>>2]=u,k=n+12|0,A=S+(o<<4)+4|0,r[A>>2]=k,k=r[k>>2]|0,r[y>>2]=k,k=k+4|0,r[k>>2]=y,A=r[A>>2]|0,r[A>>2]=y,r[l>>2]=R,M|0}function wi(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0;if((o|0)!=(l|0)&&(u=n+8|0,c=r[u>>2]|0,r[c+(o<<4)+12>>2]|0&&(S=c+(o<<4)+4|0,g=r[c+(o<<4)>>2]|0,r[g+4>>2]=r[S>>2],r[r[S>>2]>>2]=g),r[c+(l<<4)+12>>2]|0&&(S=c+(l<<4)+4|0,g=r[c+(l<<4)>>2]|0,r[g+4>>2]=r[S>>2],r[r[S>>2]>>2]=g),m=c+(o<<4)+8|0,S=c+(l<<4)+8|0,g=r[m>>2]|0,r[m>>2]=r[S>>2],r[S>>2]=g,u=r[u>>2]|0,S=u+(o<<4)+12|0,g=u+(l<<4)+12|0,c=r[S>>2]|0,r[S>>2]=r[g>>2],r[g>>2]=c,r[S>>2]|0&&(g=u+(o<<4)|0,m=n+12|0,S=u+(o<<4)+4|0,r[S>>2]=m,m=r[m>>2]|0,r[g>>2]=m,r[m+4>>2]=g,r[r[S>>2]>>2]=g),c?(m=u+(l<<4)|0,S=n+12|0,g=u+(l<<4)+4|0,r[g>>2]=S,c=r[S>>2]|0,r[m>>2]=c,r[c+4>>2]=m,r[r[g>>2]>>2]=m):S=n+12|0,m=(o|0)>(l|0),g=m?l:o,m=m?o:l,u=r[n+16>>2]|0,(u|0)!=(S|0))){l=n+4|0;do{c=u+12|0,o=r[c>>2]|0;do if((o|0)>(g|0))if((o|0)>(m|0)){n=r[u+8>>2]|0,c=n+(g<<2)|0,n=n+(m<<2)|0,o=r[c>>2]|0,r[c>>2]=r[n>>2],r[n>>2]=o;break}else{n=u+4|0,o=r[u>>2]|0,r[o+4>>2]=r[n>>2],r[r[n>>2]>>2]=o,n=u+8|0,de(r[n>>2]|0),r[l>>2]=(r[l>>2]|0)+(r[c>>2]|0),r[n>>2]=0,r[c>>2]=0;break}while(0);u=r[u+4>>2]|0}while((u|0)!=(S|0))}}function Zr(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0;switch(r[n>>2]=208,S=r[u+4>>2]|0,r[n+20>>2]=S,r[n+24>>2]=r[u+8>>2],w[n+32>>3]=+w[u+16>>3],w[n+40>>3]=+w[u+24>>3],S|0){case 0:{u=2,m=0,g=6;break}case 1:{u=1,m=0,g=6;break}case 2:{u=3,m=0,g=6;break}case 3:{u=4,m=0,g=6;break}case 4:{u=5,m=0,g=6;break}}if((g|0)==6&&(r[n+4>>2]=u,r[n+8>>2]=m),k=ze(o>>>0>1073741823?-1:o<<2)|0,r[n+12>>2]=k,st(k|0,l|0,o<<2|0)|0,(S|0)!=2){r[n+16>>2]=0;return}if(y=ze(o>>>0>536870911?-1:o<<3)|0,r[n+16>>2]=y,(o|0)>0)S=0;else return;do{u=r[k+(S<<2)>>2]|0,m=r[u>>2]|0;e:do if((m|0)==-1)c=0;else for(c=0,l=u,g=u;;){u=l;t:for(;;){if(l=r[u>>2]|0,(l|0)==-1)break e;for(;;){if((m|0)==(l|0))break t;if((m|0)<=(l|0))break;if(u=u+16|0,l=r[u>>2]|0,(l|0)==-1)break e}if(g=g+16|0,m=r[g>>2]|0,(m|0)==-1)break e}if(c=c+ +w[g+8>>3]*+w[u+8>>3],g=g+16|0,m=r[g>>2]|0,(m|0)==-1)break;l=u+16|0}while(0);w[y+(S<<3)>>3]=c,S=S+1|0}while((S|0)!=(o|0))}function Dn(n,o,l){return n=n|0,o=o|0,l=l|0,n=r[n+12>>2]|0,+ +w[(r[n+(o<<2)>>2]|0)+(~~+w[(r[n+(l<<2)>>2]|0)+8>>3]<<4)+8>>3]}function Ln(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0;S=+w[n+32>>3],m=r[n+12>>2]|0,c=r[m+(o<<2)>>2]|0,g=r[c>>2]|0;e:do if((g|0)==-1)u=0;else for(u=0,o=r[m+(l<<2)>>2]|0;;){t:for(;;){if(l=r[o>>2]|0,(l|0)==-1)break e;for(;;){if((g|0)==(l|0))break t;if((g|0)<=(l|0))break;if(o=o+16|0,l=r[o>>2]|0,(l|0)==-1)break e}if(c=c+16|0,g=r[c>>2]|0,(g|0)==-1)break e}if(u=u+ +w[c+8>>3]*+w[o+8>>3],c=c+16|0,g=r[c>>2]|0,(g|0)==-1)break;o=o+16|0}while(0);return+ +xi(S*u+ +w[n+40>>3])}function Hn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;g=+w[n+32>>3],c=r[n+16>>2]|0,m=+w[c+(o<<3)>>3]+ +w[c+(l<<3)>>3],n=r[n+12>>2]|0,o=r[n+(o<<2)>>2]|0,c=r[o>>2]|0;e:do if((c|0)==-1)u=0;else for(u=0,n=r[n+(l<<2)>>2]|0;;){l=c;t:for(;;){if(c=r[n>>2]|0,(c|0)==-1)break e;for(;;){if((l|0)==(c|0))break t;if((l|0)<=(c|0))break;if(n=n+16|0,c=r[n>>2]|0,(c|0)==-1)break e}if(o=o+16|0,l=r[o>>2]|0,(l|0)==-1)break e}if(u=u+ +w[o+8>>3]*+w[n+8>>3],o=o+16|0,c=r[o>>2]|0,(c|0)==-1)break;n=n+16|0}while(0);return+ +re(+-(g*(m-u*2)))}function Bn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;if(n=r[n+12>>2]|0,o=r[n+(o<<2)>>2]|0,c=r[o>>2]|0,(c|0)==-1)return u=0,+u;u=0,n=r[n+(l<<2)>>2]|0;e:for(;;){t:for(;;){if(l=r[n>>2]|0,(l|0)==-1){n=10;break e}for(;;){if((c|0)==(l|0))break t;if((c|0)<=(l|0))break;if(n=n+16|0,l=r[n>>2]|0,(l|0)==-1){n=10;break e}}if(o=o+16|0,c=r[o>>2]|0,(c|0)==-1){n=10;break e}}if(u=u+ +w[o+8>>3]*+w[n+8>>3],o=o+16|0,c=r[o>>2]|0,(c|0)==-1){n=10;break}else n=n+16|0}return(n|0)==10?+u:0}function Un(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0;y=+w[n+32>>3],g=r[n+12>>2]|0,m=r[g+(o<<2)>>2]|0,S=r[m>>2]|0;e:do if((S|0)==-1)c=0;else for(c=0,o=r[g+(l<<2)>>2]|0;;){t:for(;;){if(l=r[o>>2]|0,(l|0)==-1)break e;for(;;){if((S|0)==(l|0))break t;if((S|0)<=(l|0))break;if(o=o+16|0,l=r[o>>2]|0,(l|0)==-1)break e}if(m=m+16|0,S=r[m>>2]|0,(S|0)==-1)break e}if(c=c+ +w[m+8>>3]*+w[o+8>>3],m=m+16|0,S=r[m>>2]|0,(S|0)==-1)break;o=o+16|0}while(0);if(o=r[n+24>>2]|0,(o|0)<=0)return y=1,+y;for(u=1,c=y*c+ +w[n+40>>3];u=o&1|0?u*c:u,o=o>>>1,o;)c=c*c;return+u}function Ti(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0;switch(r[l+4>>2]|0){case 0:{if(m=r[n>>2]|0,(m|0)==-1)return S=0,+S;u=0;e:for(;;){g=m;t:for(;;){if(m=r[o>>2]|0,(m|0)==-1){m=43;break e}for(;;){if((g|0)==(m|0))break t;if((g|0)<=(m|0))break;if(o=o+16|0,m=r[o>>2]|0,(m|0)==-1){m=43;break e}}if(n=n+16|0,g=r[n>>2]|0,(g|0)==-1){m=43;break e}}if(u=u+ +w[n+8>>3]*+w[o+8>>3],n=n+16|0,m=r[n>>2]|0,(m|0)==-1){m=43;break}else o=o+16|0}if((m|0)==43)return+u;break}case 1:{S=+w[l+16>>3],m=r[n>>2]|0;e:do if((m|0)==-1)c=0;else for(c=0;;){t:for(;;){if(g=r[o>>2]|0,(g|0)==-1)break e;for(;;){if((m|0)==(g|0))break t;if((m|0)<=(g|0))break;if(o=o+16|0,g=r[o>>2]|0,(g|0)==-1)break e}if(n=n+16|0,m=r[n>>2]|0,(m|0)==-1)break e}if(c=c+ +w[n+8>>3]*+w[o+8>>3],n=n+16|0,m=r[n>>2]|0,(m|0)==-1)break;o=o+16|0}while(0);if(n=r[l+8>>2]|0,(n|0)<=0)return S=1,+S;for(u=1,c=S*c+ +w[l+24>>3];u=n&1|0?u*c:u,n=n>>>1,n;)c=c*c;return+u}case 2:{m=r[n>>2]|0;e:do if((m|0)==-1)n=o,u=0;else{for(u=0;g=r[o>>2]|0,(g|0)!=-1;){for(;;){if((m|0)==(g|0)){m=23;break}if((m|0)>(g|0)){m=27;break}if(S=+w[n+8>>3],u=u+S*S,n=n+16|0,m=r[n>>2]|0,(m|0)==-1){n=o;break e}}if((m|0)==23?(c=+w[n+8>>3]-+w[o+8>>3],n=n+16|0,c=c*c):(m|0)==27&&(c=+w[o+8>>3],c=c*c),u=u+c,o=o+16|0,m=r[n>>2]|0,(m|0)==-1){n=o;break e}}do S=+w[n+8>>3],u=u+S*S,n=n+16|0;while((r[n>>2]|0)!=-1);n=o}while(0);if((r[n>>2]|0)!=-1)do S=+w[n+8>>3],u=u+S*S,n=n+16|0;while((r[n>>2]|0)!=-1);return S=+re(+-(u*+w[l+16>>3])),+S}case 3:{c=+w[l+16>>3],m=r[n>>2]|0;e:do if((m|0)==-1)u=0;else for(u=0;;){t:for(;;){if(g=r[o>>2]|0,(g|0)==-1)break e;for(;;){if((m|0)==(g|0))break t;if((m|0)<=(g|0))break;if(o=o+16|0,g=r[o>>2]|0,(g|0)==-1)break e}if(n=n+16|0,m=r[n>>2]|0,(m|0)==-1)break e}if(u=u+ +w[n+8>>3]*+w[o+8>>3],n=n+16|0,m=r[n>>2]|0,(m|0)==-1)break;o=o+16|0}while(0);return S=+xi(c*u+ +w[l+24>>3]),+S}case 4:return S=+w[n+(~~+w[o+8>>3]<<4)+8>>3],+S;default:return S=0,+S}return 0}function vr(n,o,l,u,c,m,g,S,y,k,A){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,m=m|0,g=+g,S=+S,y=+y,k=k|0,A=A|0;var R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0,Ie=0,Te=0,Re=0,G=0,Ge=0,Ve=0,De=0,vt=0,Ft=0,Yt=0,ht=0,tt=0,St=0,dt=0,gr=0,Nt=0,rt=0;if(Nt=F,F=F+48|0,gr=Nt+24|0,Ve=Nt+16|0,Ge=Nt+8|0,G=Nt,Ie=Nt+32|0,Te=Nt+28|0,r[n+68>>2]=o,r[n+24>>2]=l,ht=Yr[r[(r[l>>2]|0)+4>>2]&7](l)|0,Re=n+28|0,r[Re>>2]=ht,ht=n+56|0,P=o>>>0>536870911?-1:o<<3,tt=ze(P)|0,r[ht>>2]=tt,me=o<<3,st(tt|0,u|0,me|0)|0,tt=n+8|0,u=(o|0)>-1?o:-1,R=ze(u)|0,r[tt>>2]=R,st(R|0,c|0,o|0)|0,St=n+20|0,c=ze(P)|0,r[St>>2]=c,st(c|0,m|0,me|0)|0,me=n+40|0,w[me>>3]=g,Ne=n+48|0,w[Ne>>3]=S,w[n+32>>3]=y,T[n+72>>0]=0,u=ze(u)|0,dt=n+16|0,r[dt>>2]=u,De=(o|0)>0,De?(ne=+w[c>>3],T[u>>0]=ne>=+w[((T[R>>0]|0)>0?me:Ne)>>3]?1:ne<=0?0:2,(o|0)!=1):0){u=1;do ne=+w[(r[St>>2]|0)+(u<<3)>>3],T[(r[dt>>2]|0)+u>>0]=ne>=+w[((T[(r[tt>>2]|0)+u>>0]|0)>0?me:Ne)>>3]?1:ne<=0?0:2,u=u+1|0;while((u|0)!=(o|0))}if(c=ze(o>>>0>1073741823?-1:o<<2)|0,Yt=n+60|0,r[Yt>>2]=c,De){u=0;do r[c+(u<<2)>>2]=u,u=u+1|0;while((u|0)!=(o|0))}if(ue=n+4|0,r[ue>>2]=o,M=ze(P)|0,vt=n+12|0,r[vt>>2]=M,c=ze(P)|0,Ft=n+64|0,r[Ft>>2]=c,De){R=r[ht>>2]|0,u=0;do w[M+(u<<3)>>3]=+w[R+(u<<3)>>3],w[c+(u<<3)>>3]=0,u=u+1|0;while((u|0)!=(o|0));if(De){x=0,u=r[dt>>2]|0;do{if(T[u+x>>0]|0){P=je[r[r[l>>2]>>2]&15](l,x,o)|0,y=+w[(r[St>>2]|0)+(x<<3)>>3],c=r[vt>>2]|0,u=0;do fe=c+(u<<3)|0,w[fe>>3]=+w[fe>>3]+y*+B[P+(u<<2)>>2],u=u+1|0;while((u|0)!=(o|0));if(u=r[dt>>2]|0,(T[u+x>>0]|0)==1){R=r[Ft>>2]|0,M=(r[tt>>2]|0)+x|0,c=0;do fe=R+(c<<3)|0,w[fe>>3]=+w[fe>>3]+ +w[((T[M>>0]|0)>0?me:Ne)>>3]*+B[P+(c<<2)>>2],c=c+1|0;while((c|0)!=(o|0))}}x=x+1|0}while((x|0)!=(o|0))}}fe=(o|0)>21474836?2147483647:o*100|0,fe=(fe|0)>1e7?fe:1e7,ve=(o|0)<1e3?o:1e3;e:do if((fe|0)>0)for(oe=(A|0)==0,P=0,u=ve+1|0;;){if(u=u+-1|0,u||(oe||pi[r[(r[n>>2]|0)+16>>2]&31](n),ot(3198,G),u=ve),je[r[(r[n>>2]|0)+8>>2]&15](n,Ie,Te)|0)if(Fr(n),r[ue>>2]=o,ot(1483,Ge),!(je[r[(r[n>>2]|0)+8>>2]&15](n,Ie,Te)|0))u=1;else break;P=P+1|0,x=je[r[r[l>>2]>>2]&15](l,r[Ie>>2]|0,r[ue>>2]|0)|0,A=je[r[r[l>>2]>>2]&15](l,r[Te>>2]|0,r[ue>>2]|0)|0,Y=r[Ie>>2]|0,M=r[tt>>2]|0,J=M+Y|0,c=T[J>>0]|0,j=+w[(c<<24>>24>0?me:Ne)>>3],$=r[Te>>2]|0,M=T[M+$>>0]|0,ne=+w[(M<<24>>24>0?me:Ne)>>3],R=r[St>>2]|0,Q=R+(Y<<3)|0,I=+w[Q>>3],R=R+($<<3)|0,L=+w[R>>3],rt=r[Re>>2]|0,y=+w[rt+(Y<<3)>>3]+ +w[rt+($<<3)>>3],D=+B[x+($<<2)>>2]*2;do if(c<<24>>24==M<<24>>24)if(D=y-D,c=r[vt>>2]|0,D=(+w[c+(Y<<3)>>3]-+w[c+($<<3)>>3])/(D<=0?1e-12:D),y=I+L,w[Q>>3]=I-D,D=+w[R>>3]+D,w[R>>3]=D,y>j?+w[Q>>3]>j&&(w[Q>>3]=j,w[R>>3]=y-j):D<0&&(w[R>>3]=0,w[Q>>3]=y),y>ne){if(!(+w[R>>3]>ne)){M=c;break}w[R>>3]=ne,w[Q>>3]=y-ne,M=c;break}else{if(!(+w[Q>>3]<0)){M=c;break}w[Q>>3]=0,w[R>>3]=y,M=c;break}else if(D=D+y,c=r[vt>>2]|0,D=(-+w[c+(Y<<3)>>3]-+w[c+($<<3)>>3])/(D<=0?1e-12:D),y=I-L,w[Q>>3]=I+D,D=+w[R>>3]+D,w[R>>3]=D,y>0?D<0&&(w[R>>3]=0,w[Q>>3]=y):+w[Q>>3]<0&&(w[Q>>3]=0,w[R>>3]=-y),y>j-ne){if(!(+w[Q>>3]>j)){M=c;break}w[Q>>3]=j,w[R>>3]=j-y,M=c;break}else{if(!(+w[R>>3]>ne)){M=c;break}w[R>>3]=ne,w[Q>>3]=ne+y,M=c;break}while(0);if(y=+w[Q>>3],I=y-I,D=+w[R>>3]-L,R=r[ue>>2]|0,(R|0)>0){c=0;do rt=M+(c<<3)|0,w[rt>>3]=+w[rt>>3]+(I*+B[x+(c<<2)>>2]+D*+B[A+(c<<2)>>2]),c=c+1|0;while((c|0)<(R|0));y=+w[Q>>3]}x=r[dt>>2]|0,c=x+Y|0,R=(T[c>>0]|0)==1,x=(T[x+$>>0]|0)==1,T[c>>0]=y>=+w[((T[J>>0]|0)>0?me:Ne)>>3]?1:y<=0?0:2,c=r[Te>>2]|0,L=+w[(r[St>>2]|0)+(c<<3)>>3],T[(r[dt>>2]|0)+c>>0]=L>=+w[((T[(r[tt>>2]|0)+c>>0]|0)>0?me:Ne)>>3]?1:L<=0?0:2,c=r[Ie>>2]|0;do if(R^(T[(r[dt>>2]|0)+c>>0]|0)==1)if(M=je[r[r[l>>2]>>2]&15](l,c,o)|0,R){if(!De)break;R=r[Ft>>2]|0,c=0;do rt=R+(c<<3)|0,w[rt>>3]=+w[rt>>3]-j*+B[M+(c<<2)>>2],c=c+1|0;while((c|0)!=(o|0))}else{if(!De)break;R=r[Ft>>2]|0,c=0;do rt=R+(c<<3)|0,w[rt>>3]=+w[rt>>3]+j*+B[M+(c<<2)>>2],c=c+1|0;while((c|0)!=(o|0))}while(0);c=r[Te>>2]|0;do if(x^(T[(r[dt>>2]|0)+c>>0]|0)==1)if(M=je[r[r[l>>2]>>2]&15](l,c,o)|0,x){if(!De)break;R=r[Ft>>2]|0,c=0;do rt=R+(c<<3)|0,w[rt>>3]=+w[rt>>3]-ne*+B[M+(c<<2)>>2],c=c+1|0;while((c|0)!=(o|0))}else{if(!De)break;R=r[Ft>>2]|0,c=0;do rt=R+(c<<3)|0,w[rt>>3]=+w[rt>>3]+ne*+B[M+(c<<2)>>2],c=c+1|0;while((c|0)!=(o|0))}while(0);if((P|0)>=(fe|0))break e}else P=0;while(0);if((P|0)>=(fe|0)&&((r[ue>>2]|0)<(o|0)&&(Fr(n),r[ue>>2]=o,ot(1483,Ve)),Ot(1540,44,1,r[105]|0)|0),ne=+pn[r[(r[n>>2]|0)+12>>2]&3](n),w[k+8>>3]=ne,De){c=r[St>>2]|0,R=r[vt>>2]|0,M=r[ht>>2]|0,u=0,y=0;do y=y+ +w[c+(u<<3)>>3]*(+w[R+(u<<3)>>3]+ +w[M+(u<<3)>>3]),u=u+1|0;while((u|0)!=(o|0));if(w[k>>3]=y*.5,De){c=r[St>>2]|0,R=r[Yt>>2]|0,u=0;do w[m+(r[R+(u<<2)>>2]<<3)>>3]=+w[c+(u<<3)>>3],u=u+1|0;while((u|0)!=(o|0))}}else w[k>>3]=0;if(w[k+16>>3]=g,w[k+24>>3]=S,r[gr>>2]=P,ot(1585,gr),u=r[ht>>2]|0,u|0&&Be(u),u=r[tt>>2]|0,u|0&&Be(u),u=r[St>>2]|0,u|0&&Be(u),u=r[dt>>2]|0,u|0&&Be(u),u=r[Yt>>2]|0,u|0&&Be(u),u=r[vt>>2]|0,u|0&&Be(u),u=r[Ft>>2]|0,!u){F=Nt;return}Be(u),F=Nt}function Xt(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0,Ie=0,Te=0,Re=0,G=0,Ge=0,Ve=0,De=0,vt=0,Ft=0,Yt=0,ht=0,tt=0,St=0,dt=0,gr=0,Nt=0,rt=0,Si=0,Ei=0,yi=0,Wr=0,$r=0,jr=0,Ze=0,Wt=0,ir=0,_n=0,vn=0,ut=0,qr=0,Dt=0,Pt=0,nr=0,Xr=0,sr=0,Lt=0,Ht=0,or=0,ar=0,kr=0,$t=0,pr=0,Et=0,qe=0,pt=0,it=0;pt=F,F=F+272|0,Dt=pt+232|0,vn=pt+224|0,_n=pt+216|0,x=pt+208|0,m=pt+200|0,A=pt+192|0,ut=pt+96|0,Wt=pt,$t=pt+260|0,pr=pt+256|0,Et=pt+252|0,nr=pt+248|0,ir=pt+236|0,qe=pe(144)|0,g=qe,R=o,P=g+96|0;do r[g>>2]=r[R>>2],g=g+4|0,R=R+4|0;while((g|0)<(P|0));if(r[qe+136>>2]=0,l=r[o>>2]|0,(l+-2|0)>>>0<3){if(r[qe+96>>2]=2,r[qe+128>>2]=0,r[qe+132>>2]=0,y=qe+116|0,r[y>>2]=0,r[qe+120>>2]=0,Et=pe(4)|0,M=qe+108|0,r[M>>2]=Et,(r[o+92>>2]|0)!=0&(l+-3|0)>>>0<2){S=pe(8)|0,r[y>>2]=S,S=pe(r[n>>2]<<3)|0,g=ut,R=o,P=g+96|0;do r[g>>2]=r[R>>2],g=g+4|0,R=R+4|0;while((g|0)<(P|0));if(r[ut+92>>2]=0,Ci(n,ut,5,S),g=r[n>>2]|0,m=(g|0)>0,m){u=r[n+4>>2]|0,l=0,c=0;do Et=S+(l<<3)|0,G=+w[u+(l<<3)>>3]-+w[Et>>3],w[Et>>3]=G,c=c+ +ae(+G),l=l+1|0;while((l|0)<(g|0));if(c=c/+(g|0),m){k=+se(+(c*(c*2)))*5,l=0,u=0,c=0;do G=+ae(+ +w[S+(u<<3)>>3]),Et=G>k,c=Et?c:c+G,l=(Et&1)+l|0,u=u+1|0;while((u|0)<(g|0))}else l=0,c=0}else l=0,c=0;G=c/+(g-l|0),w[A>>3]=G,ot(1621,A),de(S),w[r[y>>2]>>3]=G}if(ki(ut,n,o,0,0),m=pe(8)|0,r[qe+112>>2]=m,w[m>>3]=+w[ut+8>>3],m=r[n>>2]|0,R=r[ut>>2]|0,(m|0)>0){l=0,u=0;do G=+w[R+(u<<3)>>3],l=(G==G&!0&G!=0&1)+l|0,u=u+1|0;while((u|0)<(m|0))}else l=0;r[qe+100>>2]=l,y=l<<2,S=pe(y)|0,A=qe+104|0,r[A>>2]=S,S=pe(l<<3)|0,r[r[M>>2]>>2]=S,y=pe(y)|0,S=qe+124|0,r[S>>2]=y,y=n+8|0,g=0,l=0;e:for(;;){for(;;){if((l|0)>=(m|0))break e;if(c=+w[R+(l<<3)>>3],u=l+1|0,c!=c|!1|c==0)l=u;else break}r[(r[A>>2]|0)+(g<<2)>>2]=r[(r[y>>2]|0)+(l<<2)>>2],w[(r[r[M>>2]>>2]|0)+(g<<3)>>3]=c,r[(r[S>>2]|0)+(g<<2)>>2]=u,g=g+1|0,l=u,m=r[n>>2]|0}return de(R),F=pt,qe|0}if(Pt=r[n>>2]|0,r[pr>>2]=0,r[Et>>2]=0,r[nr>>2]=0,u=Pt<<2,kr=pe(u)|0,Ai(n,$t,pr,Et,nr,kr),l=r[$t>>2]|0,(l|0)==1&&ot(1743,m),ar=pe(u)|0,qr=(Pt|0)>0,qr){m=r[n+8>>2]|0,u=0;do r[ar+(u<<2)>>2]=r[m+(r[kr+(u<<2)>>2]<<2)>>2],u=u+1|0;while((u|0)!=(Pt|0))}if(or=pe(l<<3)|0,P=(l|0)>0,P){c=+w[o+48>>3],u=0;do w[or+(u<<3)>>3]=c,u=u+1|0;while((u|0)<(l|0))}if(y=o+56|0,u=r[y>>2]|0,(u|0)>0){A=o+60|0,R=r[105]|0,M=o+64|0,n=r[pr>>2]|0,S=0;do{e:do if(P){g=r[(r[A>>2]|0)+(S<<2)>>2]|0,m=0;do{if((g|0)==(r[n+(m<<2)>>2]|0))break e;m=m+1|0}while((m|0)<(l|0))}else m=0;while(0);(m|0)==(l|0)?(r[x>>2]=r[(r[A>>2]|0)+(S<<2)>>2],nt(R,1810,x)|0,u=r[y>>2]|0):(Ht=or+(m<<3)|0,w[Ht>>3]=+w[(r[M>>2]|0)+(S<<3)>>3]*+w[Ht>>3]),S=S+1|0}while((S|0)<(u|0))}if(Lt=pe(Pt)|0,qr&&Tt(Lt|0,0,Pt|0)|0,u=(te(l+-1|0,l)|0)/2|0,Ht=pe(u<<4)|0,Wr=o+92|0,r[Wr>>2]|0?(sr=u<<3,Xr=pe(sr)|0,sr=pe(sr)|0,$r=Xr,jr=sr):($r=0,jr=0,Xr=0,sr=0),P){Ft=r[Et>>2]|0,Yt=r[nr>>2]|0,ht=ir+8|0,tt=ir+4|0,St=ut+8|0,dt=ut+4|0,gr=Wt+92|0,Nt=Wt+48|0,rt=Wt+56|0,Si=Wt+60|0,Ei=Wt+64|0,yi=r[$t>>2]|0,u=0,vt=0;do if(m=vt,vt=vt+1|0,(vt|0)<(l|0))for(Ve=Ft+(m<<2)|0,De=Yt+(m<<2)|0,Ge=or+(m<<3)|0,Re=vt;;){if($=r[Ve>>2]|0,J=r[Ft+(Re<<2)>>2]|0,j=r[De>>2]|0,ne=r[Yt+(Re<<2)>>2]|0,S=ne+j|0,r[ir>>2]=S,m=S<<2,l=pe(m)|0,r[ht>>2]=l,g=S<<3,Q=pe(g)|0,r[tt>>2]=Q,Q=(j|0)>0,Q?(r[l>>2]=r[ar+($<<2)>>2],w[r[tt>>2]>>3]=1,(j|0)!=1):0){l=1;do r[(r[ht>>2]|0)+(l<<2)>>2]=r[ar+(l+$<<2)>>2],w[(r[tt>>2]|0)+(l<<3)>>3]=1,l=l+1|0;while((l|0)!=(j|0))}if(Y=(ne|0)>0,Y){l=0;do L=l+j|0,r[(r[ht>>2]|0)+(L<<2)>>2]=r[ar+(l+J<<2)>>2],w[(r[tt>>2]|0)+(L<<3)>>3]=-1,l=l+1|0;while((l|0)!=(ne|0))}if(!(r[Wr>>2]|0))l=or+(Re<<3)|0;else{if(c=+w[Ge>>3],l=or+(Re<<3)|0,k=+w[l>>3],I=$r+(u<<3)|0,L=jr+(u<<3)|0,D=pe(m)|0,x=pe(g)|0,g=(S|0)>0,g){m=0;do r[D+(m<<2)>>2]=m,m=m+1|0;while((m|0)<(S|0));if(g){m=0;do P=ui()|0,g=r[ir>>2]|0,M=D+(m<<2)|0,P=D+(((P|0)%(g-m|0)|0)+m<<2)|0,n=r[M>>2]|0,r[M>>2]=r[P>>2],r[P>>2]=n,m=m+1|0;while((m|0)<(g|0));n=0}else n=0,g=S}else n=0,g=S;do{A=te(n,g)|0,m=(A|0)/5|0,n=n+1|0,M=(te(n,g)|0)/5|0,y=g+(m-M)|0,r[ut>>2]=y,S=pe(y<<2)|0,r[St>>2]=S,y=pe(y<<3)|0,r[dt>>2]=y;do if((A|0)>4){if(P=r[D>>2]|0,r[S>>2]=r[(r[ht>>2]|0)+(P<<2)>>2],y=r[dt>>2]|0,w[y>>3]=+w[(r[tt>>2]|0)+(P<<3)>>3],(A|0)>9)S=1;else{S=1;break}do P=r[D+(S<<2)>>2]|0,r[(r[St>>2]|0)+(S<<2)>>2]=r[(r[ht>>2]|0)+(P<<2)>>2],y=r[dt>>2]|0,w[y+(S<<3)>>3]=+w[(r[tt>>2]|0)+(P<<3)>>3],S=S+1|0;while((S|0)<(m|0))}else S=0;while(0);if((M|0)<(g|0)){y=M;do P=r[D+(y<<2)>>2]|0,r[(r[St>>2]|0)+(S<<2)>>2]=r[(r[ht>>2]|0)+(P<<2)>>2],A=r[dt>>2]|0,w[A+(S<<3)>>3]=+w[(r[tt>>2]|0)+(P<<3)>>3],S=S+1|0,y=y+1|0;while((y|0)<(g|0))}else A=y;if((S|0)>0){y=0,g=0,R=0;do P=+w[A+(R<<3)>>3]>0,g=(P&1)+g|0,y=((P^1)&1)+y|0,R=R+1|0;while((R|0)!=(S|0))}else y=0,g=0;S=(g|0)==0;e:do if(y|g){if((g|0)>0&(y|0)==0){if((m|0)>=(M|0))break;for(;;)if(w[x+(r[D+(m<<2)>>2]<<3)>>3]=1,m=m+1|0,(m|0)==(M|0))break e}if(S&(y|0)>0){if((m|0)>=(M|0))break;for(;;)if(w[x+(r[D+(m<<2)>>2]<<3)>>3]=-1,m=m+1|0,(m|0)==(M|0))break e}g=Wt,R=o,P=g+96|0;do r[g>>2]=r[R>>2],g=g+4|0,R=R+4|0;while((g|0)<(P|0));if(r[gr>>2]=0,w[Nt>>3]=1,r[rt>>2]=2,P=pe(8)|0,r[Si>>2]=P,S=pe(16)|0,r[Ei>>2]=S,r[P>>2]=1,r[P+4>>2]=-1,w[S>>3]=c,w[S+8>>3]=k,S=Xt(ut,Wt)|0,(m|0)>=(M|0))S|0&&(Ze=76);else{g=S+128|0;do P=r[D+(m<<2)>>2]|0,Ze=x+(P<<3)|0,+Sr(S,r[(r[ht>>2]|0)+(P<<2)>>2]|0,Ze),w[Ze>>3]=+(r[r[g>>2]>>2]|0)*+w[Ze>>3],m=m+1|0;while((m|0)!=(M|0));Ze=76}(Ze|0)==76&&(Ze=0,ei(S),de(S)),de(r[Si>>2]|0),de(r[Ei>>2]|0)}else{if((m|0)>=(M|0))break;do w[x+(r[D+(m<<2)>>2]<<3)>>3]=0,m=m+1|0;while((m|0)!=(M|0))}while(0);de(r[St>>2]|0),de(r[dt>>2]|0),g=r[ir>>2]|0}while((n|0)!=5);if(S=r[tt>>2]|0,A=(g|0)>0,A){c=0,k=0,m=0;do P=+w[S+(m<<3)>>3]>0,k=P?k:k+1,c=P?c+1:c,m=m+1|0;while((m|0)!=(g|0))}else c=0,k=0;if(fe=c+1,oe=fe/(c+2),ve=1/(k+2),y=pe(g<<3)|0,w[I>>3]=0,fe=+Z(+((k+1)/fe)),w[L>>3]=fe,A){k=+w[I>>3],c=0,m=0;do G=+w[S+(m<<3)>>3]>0?oe:ve,w[y+(m<<3)>>3]=G,Te=fe+k*+w[x+(m<<3)>>3],P=!(Te>=0),c=c+(+Z(+(+re(+(P?Te:-Te))+1))+Te*(P?G+-1:G)),m=m+1|0;while((m|0)!=(g|0));m=0,G=c}else m=0,G=0;for(;;){if(A)for(Te=+w[I>>3],Ie=1e-12,k=1e-12,ve=0,oe=0,c=0,S=0;Ne=+w[x+(S<<3)>>3],ue=fe+Te*Ne,ue>=0?(me=+re(+-ue),ue=me+1,me=me/ue,ue=1/ue):(it=+re(+ue),ue=it+1,me=1/ue,ue=it/ue),it=ue*me,ue=Ie+Ne*Ne*it,k=k+it,c=c+Ne*it,it=+w[y+(S<<3)>>3]-me,oe=oe+Ne*it,ve=ve+it,S=S+1|0,(S|0)!=(g|0);)Ie=ue;else ue=1e-12,k=1e-12,ve=0,oe=0,c=0;if(+ae(+oe)<1e-5?+ae(+ve)<1e-5:0){Ze=104;break}Ne=k*ue-c*c,Ie=-(oe*k-c*ve)/Ne,Ne=-(ve*ue-c*oe)/Ne,ue=oe*Ie+ve*Ne,me=+w[I>>3];e:do if(A)for(oe=1;;){c=me+Ie*oe,ve=fe+Ne*oe,k=0,S=0;do Te=ve+c*+w[x+(S<<3)>>3],P=!(Te>=0),it=+w[y+(S<<3)>>3],k=k+(+Z(+(+re(+(P?Te:-Te))+1))+Te*(P?it+-1:it)),S=S+1|0;while((S|0)!=(g|0));if(k<G+ue*(oe*1e-4)){Ze=99;break e}if(oe=oe*.5,!(oe>=1e-10)){k=G,c=fe;break}}else{for(c=1;!(G+ue*(c*1e-4)>0);)if(oe=c*.5,oe>=1e-10)c=oe;else{k=G,c=fe;break e}k=0,oe=c,ve=fe+Ne*c,c=me+Ie*c,Ze=99}while(0);if((Ze|0)==99&&(Ze=0,w[I>>3]=c,w[L>>3]=ve,c=ve),oe<1e-10){Ze=102;break}if(m=m+1|0,(m|0)<100)G=k,fe=c;else{Ze=105;break}}(Ze|0)==102&&(ot(1868,_n),Ze=104),((Ze|0)==104?(Ze=0,(m|0)>99):0)&&(Ze=105),(Ze|0)==105&&(Ze=0,ot(1922,vn)),de(y),de(x),de(D)}if(ki(ut,ir,o,+w[Ge>>3],+w[l>>3]),g=Ht+(u<<4)|0,r[g>>2]=r[ut>>2],r[g+4>>2]=r[ut+4>>2],r[g+8>>2]=r[ut+8>>2],r[g+12>>2]=r[ut+12>>2],Q){l=0;do{m=Lt+(l+$)|0;do if(!(T[m>>0]|0)){if(it=+w[(r[g>>2]|0)+(l<<3)>>3],it!=it|!1|it==0)break;T[m>>0]=1}while(0);l=l+1|0}while((l|0)!=(j|0))}if(Y){l=0;do{m=Lt+(l+J)|0;do if(!(T[m>>0]|0)){if(it=+w[(r[g>>2]|0)+(l+j<<3)>>3],it!=it|!1|it==0)break;T[m>>0]=1}while(0);l=l+1|0}while((l|0)!=(ne|0))}if(de(r[ht>>2]|0),de(r[tt>>2]|0),u=u+1|0,Re=Re+1|0,(Re|0)>=(yi|0)){l=yi;break}}while((vt|0)<(l|0))}if(r[qe+96>>2]=l,g=pe(l<<2)|0,r[qe+128>>2]=g,(l|0)>0){m=r[pr>>2]|0,l=r[$t>>2]|0,u=0;do r[g+(u<<2)>>2]=r[m+(u<<2)>>2],u=u+1|0;while((u|0)<(l|0))}if(y=te(l+-1|0,l)|0,A=(y|0)/2|0,S=A<<3,m=pe(S)|0,r[qe+112>>2]=m,y=(y|0)>1,y){u=0;do w[m+(u<<3)>>3]=+w[Ht+(u<<4)+8>>3],u=u+1|0;while((u|0)<(A|0))}if(r[Wr>>2]|0){if(g=pe(S)|0,r[qe+116>>2]=g,m=pe(S)|0,r[qe+120>>2]=m,y){u=0;do w[g+(u<<3)>>3]=+w[$r+(u<<3)>>3],w[m+(u<<3)>>3]=+w[jr+(u<<3)>>3],u=u+1|0;while((u|0)<(A|0))}}else r[qe+116>>2]=0,r[qe+120>>2]=0;if(M=l<<2,Re=pe(M)|0,M=pe(M)|0,r[qe+132>>2]=M,(l|0)>0){A=r[nr>>2]|0,R=r[Et>>2]|0,n=r[$t>>2]|0,l=0,y=0;do{if(g=r[A+(y<<2)>>2]|0,(g|0)>0){S=r[R+(y<<2)>>2]|0,m=0,u=0;do ut=b[Lt+(S+m)>>0]|0,l=ut+l|0,u=ut+u|0,m=m+1|0;while((m|0)<(g|0))}else u=0;r[M+(y<<2)>>2]=u,r[Re+(y<<2)>>2]=u,y=y+1|0}while((y|0)<(n|0));y=l,S=n}else y=0,S=l;if(r[Dt>>2]=y,ot(1986,Dt),r[qe+100>>2]=y,Dt=y<<2,g=pe(Dt)|0,m=qe+104|0,r[m>>2]=g,Dt=pe(Dt)|0,g=qe+124|0,r[g>>2]=Dt,qr){l=0,u=0;do T[Lt+u>>0]|0&&(r[(r[m>>2]|0)+(l<<2)>>2]=r[ar+(u<<2)>>2],r[(r[g>>2]|0)+(l<<2)>>2]=(r[kr+(u<<2)>>2]|0)+1,l=l+1|0),u=u+1|0;while((u|0)!=(Pt|0))}if(u=S<<2,ne=pe(u)|0,r[ne>>2]=0,g=(S|0)>1,g){l=1,m=0;do m=(r[Re+(l+-1<<2)>>2]|0)+m|0,r[ne+(l<<2)>>2]=m,l=l+1|0;while((l|0)<(S|0))}if(l=pe(u+-4|0)|0,j=qe+108|0,r[j>>2]=l,g){if(m=y<<3,u=S+-1|0,Pt=pe(m)|0,r[l>>2]=Pt,(u|0)>1){l=1;do Pt=r[j>>2]|0,Dt=pe(m)|0,r[Pt+(l<<2)>>2]=Dt,l=l+1|0;while((l|0)<(u|0))}$=r[$t>>2]|0}else $=S;e:do if(($|0)>0)for(J=r[Et>>2]|0,l=r[nr>>2]|0,Q=0,Y=0,u=$;;){if(u=u+-1|0,D=Q,Q=Q+1|0,I=(Q|0)<($|0),!I)break e;if(R=r[J+(D<<2)>>2]|0,L=r[l+(D<<2)>>2]|0,M=r[ne+(D<<2)>>2]|0,(L|0)>0)for(y=Q,A=Y;;){n=r[J+(y<<2)>>2]|0,P=r[l+(y<<2)>>2]|0,x=Ht+(A<<4)|0,S=y+-1|0,m=M,g=0;do T[Lt+(g+R)>>0]|0&&(w[(r[(r[j>>2]|0)+(S<<2)>>2]|0)+(m<<3)>>3]=+w[(r[x>>2]|0)+(g<<3)>>3],m=m+1|0),g=g+1|0;while((g|0)!=(L|0));if((P|0)>0){g=0,m=r[ne+(y<<2)>>2]|0;do T[Lt+(g+n)>>0]|0&&(w[(r[(r[j>>2]|0)+(D<<2)>>2]|0)+(m<<3)>>3]=+w[(r[x>>2]|0)+(g+L<<3)>>3],m=m+1|0),g=g+1|0;while((g|0)!=(P|0))}if(y=y+1|0,(y|0)==($|0))break;A=A+1|0}else for(g=Q,y=Y;;){if(A=r[J+(g<<2)>>2]|0,R=r[l+(g<<2)>>2]|0,(R|0)>0){M=Ht+(y<<4)|0,S=0,m=r[ne+(g<<2)>>2]|0;do T[Lt+(S+A)>>0]|0&&(w[(r[(r[j>>2]|0)+(D<<2)>>2]|0)+(m<<3)>>3]=+w[(r[M>>2]|0)+(S+L<<3)>>3],m=m+1|0),S=S+1|0;while((S|0)!=(R|0))}if(g=g+1|0,(g|0)==($|0))break;y=y+1|0}if(I)Y=Y+u|0;else break}else l=r[nr>>2]|0;while(0);if(de(r[pr>>2]|0),de(Xr),de(sr),de(l),de(kr),de(r[Et>>2]|0),de(ar),de(or),de(Lt),l=r[$t>>2]|0,l=te(l+-1|0,l)|0,(l|0)>1){u=(l|0)/2|0,l=0;do de(r[Ht+(l<<4)>>2]|0),l=l+1|0;while((l|0)<(u|0))}return de(Ht),de(Re),de(ne),F=pt,qe|0}function Ci(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0;if(fe=F,F=F+32|0,m=fe+20|0,ne=fe+8|0,Q=fe+4|0,Y=fe,oe=r[n>>2]|0,g=oe<<2,J=pe(g)|0,(oe|0)<(l|0)?(Ot(2102,100,1,r[105]|0)|0,$=oe):$=l,c=$<<2,j=pe(c+4|0)|0,($|0)<(oe|0)&(r[o>>2]|0)>>>0<2){if(r[ne>>2]=0,r[Q>>2]=0,r[Y>>2]=0,Ai(n,m,Q,ne,Y,J),I=pe(c)|0,L=pe(g)|0,(oe|0)>0&&st(L|0,J|0,g|0)|0,P=r[m>>2]|0,M=(P|0)>0,M){g=r[Y>>2]|0,S=r[ne>>2]|0,c=0;do{if(y=g+(c<<2)|0,(r[y>>2]|0)>0){k=S+(c<<2)|0,m=0;do me=ui()|0,R=r[y>>2]|0,A=r[k>>2]|0,me=L+(((me|0)%(R-m|0)|0)+m+A<<2)|0,A=L+(A+m<<2)|0,ue=r[me>>2]|0,r[me>>2]=r[A>>2],r[A>>2]=ue,m=m+1|0;while((m|0)<(R|0))}c=c+1|0}while((c|0)<(P|0))}A=($|0)>0;do if(A){if(k=r[Y>>2]|0,M){m=0;do{S=I+(m<<2)|0,r[S>>2]=0,g=m,m=m+1|0,c=0,y=0;do me=r[k+(c<<2)>>2]|0,y=((te(me,m)|0)/($|0)|0)-((te(me,g)|0)/($|0)|0)+y|0,c=c+1|0;while((c|0)!=(P|0));r[S>>2]=y}while((m|0)<($|0));if(r[j>>2]=0,($|0)<1){R=1;break}else c=1,m=0}else Tt(I|0,0,-4-(((oe|0)<(l|0)?oe:l)<<2^-4)|0)|0,r[j>>2]=0,c=1,m=0;for(;;)if(m=(r[I+(c+-1<<2)>>2]|0)+m|0,r[j+(c<<2)>>2]=m,(c|0)>=($|0)){R=0;break}else c=c+1|0}else r[j>>2]=0,R=1;while(0);if(M?(x=r[ne>>2]|0,D=r[Y>>2]|0,A):0){c=0;do{S=r[x+(c<<2)>>2]|0,y=r[D+(c<<2)>>2]|0,m=0;do k=(te(y,m)|0)/($|0)|0,A=k+S|0,g=m,m=m+1|0,l=(te(y,m)|0)/($|0)|0,(A|0)<(l+S|0)&&(me=j+(g<<2)|0,ue=r[me>>2]|0,st(J+(ue<<2)|0,L+(A<<2)|0,l-k<<2|0)|0,r[me>>2]=ue+l-k);while((m|0)<($|0));c=c+1|0}while((c|0)<(P|0))}if(r[j>>2]=0,!R)for(c=1,m=0;m=(r[I+(c+-1<<2)>>2]|0)+m|0,r[j+(c<<2)>>2]=m,!((c|0)>=($|0));)c=c+1|0;de(r[ne>>2]|0),de(r[Q>>2]|0),de(r[Y>>2]|0),de(L),de(I)}else{if(m=(oe|0)>0,m){c=0;do r[J+(c<<2)>>2]=c,c=c+1|0;while((c|0)!=(oe|0));if(m){c=0;do L=J+(c<<2)|0,Y=J+(((ui()|0)%(oe-c|0)|0)+c<<2)|0,Q=r[L>>2]|0,r[L>>2]=r[Y>>2],r[Y>>2]=Q,c=c+1|0;while((c|0)!=(oe|0))}}if(($|0)<0){de(j),de(J),F=fe;return}else for(c=0;Y=(te(c,oe)|0)/($|0)|0,r[j+(c<<2)>>2]=Y,(c|0)<($|0);)c=c+1|0}if(($|0)<=0){de(j),de(J),F=fe;return}M=ne+8|0,P=ne+4|0,x=o+92|0,D=n+8|0,l=n+4|0,A=0,R=r[j>>2]|0;do{if(A=A+1|0,g=R,R=r[j+(A<<2)>>2]|0,me=g-R+oe|0,r[ne>>2]=me,c=pe(me<<2)|0,r[M>>2]=c,me=pe(me<<3)|0,r[P>>2]=me,(g|0)>0)if(me=r[J>>2]|0,r[c>>2]=r[(r[D>>2]|0)+(me<<2)>>2],w[r[P>>2]>>3]=+w[(r[l>>2]|0)+(me<<3)>>3],(g|0)==1)c=g;else{c=1;do me=r[J+(c<<2)>>2]|0,r[(r[M>>2]|0)+(c<<2)>>2]=r[(r[D>>2]|0)+(me<<2)>>2],w[(r[P>>2]|0)+(c<<3)>>3]=+w[(r[l>>2]|0)+(me<<3)>>3],c=c+1|0;while((c|0)!=(g|0));c=g}else c=0;if((R|0)<(oe|0))for(m=R;me=r[J+(m<<2)>>2]|0,r[(r[M>>2]|0)+(c<<2)>>2]=r[(r[D>>2]|0)+(me<<2)>>2],w[(r[P>>2]|0)+(c<<3)>>3]=+w[(r[l>>2]|0)+(me<<3)>>3],m=m+1|0,(m|0)!=(oe|0);)c=c+1|0;if(k=Xt(ne,o)|0,(r[x>>2]|0)!=0?(r[o>>2]|0)>>>0<2:0){if(m=pe(r[k+96>>2]<<3)|0,(g|0)<(R|0)){c=g;do me=r[J+(c<<2)>>2]|0,Ne=+Fi(k,r[(r[D>>2]|0)+(me<<2)>>2]|0,m),w[u+(me<<3)>>3]=Ne,c=c+1|0;while((c|0)!=(R|0))}de(m)}else ve=46;if((ve|0)==46?(ve=0,(g|0)<(R|0)):0){y=k+96|0,m=g;do g=r[J+(m<<2)>>2]|0,S=r[(r[D>>2]|0)+(g<<2)>>2]|0,c=r[y>>2]|0,((r[k>>2]|0)+-2|0)>>>0<3?c=8:c=((te(c+-1|0,c)|0)/2|0)<<3,me=pe(c)|0,Ne=+Sr(k,S,me),de(me),w[u+(g<<3)>>3]=Ne,m=m+1|0;while((m|0)!=(R|0))}k|0&&(ei(k),de(k)),de(r[M>>2]|0),de(r[P>>2]|0)}while((A|0)<($|0));de(j),de(J),F=fe}function ki(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=+u,c=+c;var m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0;switch(j=F,F=F+256|0,J=j+248|0,Q=j+232|0,P=j+224|0,x=j+216|0,A=j+208|0,R=j+200|0,D=j+120|0,I=j+40|0,Y=j,L=r[o>>2]|0,M=L<<3,$=pe(M)|0,r[l>>2]|0){case 0:{if(k=ze(L>>>0>536870911?-1:L<<3)|0,A=ze((L|0)>-1?L:-1)|0,y=(L|0)>0,y){g=r[o+4>>2]|0,m=0;do w[$+(m<<3)>>3]=0,w[k+(m<<3)>>3]=-1,T[A+m>>0]=+w[g+(m<<3)>>3]>0?1:-1,m=m+1|0;while((m|0)!=(L|0))}if(r[D>>2]=236,Ri(I,o,l,A),vr(D,L,I,k,A,$,u,c,+w[l+40>>3],Y,r[l+88>>2]|0),Nr(I),y){S=0,m=0;do S=S+ +w[$+(m<<3)>>3],m=m+1|0;while((m|0)!=(L|0))}else S=0;if(u==c&&(w[R>>3]=S/(+(r[o>>2]|0)*u),ot(2002,R)),y){m=0;do I=$+(m<<3)|0,w[I>>3]=+w[I>>3]*+(T[A+m>>0]|0),m=m+1|0;while((m|0)!=(L|0))}Be(k),Be(A);break}case 1:{if(S=+w[l+72>>3],k=ze((L|0)>-1?L:-1)|0,y=(L|0)>0,y){g=r[o+4>>2]|0,m=0;do T[k+m>>0]=+w[g+(m<<3)>>3]>0?1:-1,m=m+1|0;while((m|0)!=(L|0));u=S*+(L|0)*.5,S=u,m=0;do(T[k+m>>0]|0)==1?(c=S>1?1:S,S=S-c):(c=u>1?1:u,u=u-c),w[$+(m<<3)>>3]=c,m=m+1|0;while((m|0)!=(L|0))}if(g=ze(L>>>0>536870911?-1:L<<3)|0,y&&Tt(g|0,0,M|0)|0,r[D>>2]=268,Ri(I,o,l,k),S=+w[l+40>>3],l=r[l+88>>2]|0,r[D+76>>2]=Y,vr(D,L,I,g,k,$,1,1,S,Y,l),Nr(I),S=+w[Y+32>>3],u=1/S,w[A>>3]=u,ot(2011,A),y){m=0;do I=$+(m<<3)|0,w[I>>3]=+w[I>>3]*(+(T[k+m>>0]|0)/S),m=m+1|0;while((m|0)!=(L|0))}L=Y+8|0,w[L>>3]=+w[L>>3]/S,w[Y>>3]=+w[Y>>3]/(S*S),w[Y+16>>3]=u,w[Y+24>>3]=u,Be(k),Be(g);break}case 2:{if(y=ze(L>>>0>536870911?-1:L<<3)|0,k=ze((L|0)>-1?L:-1)|0,S=+(L|0)*+w[l+72>>3],m=~~S,(m|0)>0){g=0;do w[$+(g<<3)>>3]=1,g=g+1|0;while((g|0)!=(m|0))}for((m|0)<(L|0)?(S=S-+(m|0),g=29):g=30;;)if((g|0)==29){w[$+(m<<3)>>3]=S,g=30;continue}else if((g|0)==30)if(m=m+1|0,(m|0)<(L|0)){S=0,g=29;continue}else break;(L|0)>0&&(Tt(y|0,0,M|0)|0,Tt(k|0,1,L|0)|0),r[D>>2]=236,Vn(I,o,l),vr(D,L,I,y,k,$,1,1,+w[l+40>>3],Y,r[l+88>>2]|0),ti(I),Be(y),Be(k);break}case 3:{if(y=L<<1,R=y>>>0>536870911?-1:y<<3,A=ze(R)|0,R=ze(R)|0,M=ze((L|0)<0?-1:y)|0,k=(L|0)>0,k){g=r[o+4>>2]|0,S=+w[l+80>>3],m=0;do w[A+(m<<3)>>3]=0,ne=g+(m<<3)|0,w[R+(m<<3)>>3]=S-+w[ne>>3],T[M+m>>0]=1,P=m+L|0,w[A+(P<<3)>>3]=0,w[R+(P<<3)>>3]=S+ +w[ne>>3],T[M+P>>0]=-1,m=m+1|0;while((m|0)!=(L|0))}if(r[D>>2]=236,Oi(I,o,l),g=l+48|0,c=+w[g>>3],vr(D,y,I,R,M,A,c,c,+w[l+40>>3],Y,r[l+88>>2]|0),Mr(I),k){S=0,m=0;do c=+w[A+(m<<3)>>3]-+w[A+(m+L<<3)>>3],w[$+(m<<3)>>3]=c,S=S+ +ae(+c),m=m+1|0;while((m|0)!=(L|0))}else S=0;w[x>>3]=S/(+(L|0)*+w[g>>3]),ot(2002,x),Be(A),Be(R),Be(M);break}case 4:{if(u=+w[l+48>>3],g=L<<1,R=g>>>0>536870911?-1:g<<3,A=ze(R)|0,R=ze(R)|0,M=ze((L|0)<0?-1:g)|0,y=(L|0)>0,y)for(k=r[o+4>>2]|0,S=+(L|0)*(u*+w[l+72>>3])*.5,m=0;c=S<u?S:u,ne=m+L|0,w[A+(ne<<3)>>3]=c,w[A+(m<<3)>>3]=c,x=k+(m<<3)|0,w[R+(m<<3)>>3]=-+w[x>>3],T[M+m>>0]=1,w[R+(ne<<3)>>3]=+w[x>>3],T[M+ne>>0]=-1,m=m+1|0,(m|0)!=(L|0);)S=S-c;if(r[D>>2]=268,Oi(I,o,l),c=+w[l+40>>3],ne=r[l+88>>2]|0,r[D+76>>2]=Y,vr(D,g,I,R,M,A,u,u,c,Y,ne),Mr(I),w[P>>3]=-+w[Y+32>>3],ot(2019,P),y){m=0;do w[$+(m<<3)>>3]=+w[A+(m<<3)>>3]-+w[A+(m+L<<3)>>3],m=m+1|0;while((m|0)!=(L|0))}Be(A),Be(R),Be(M);break}}if(R=Y+8|0,c=+w[R>>3],w[Q>>3]=+w[Y>>3],w[Q+8>>3]=c,ot(2033,Q),A=r[o>>2]|0,(A|0)<=0){Y=0,ne=0,r[J>>2]=ne,ne=J+4|0,r[ne>>2]=Y,ot(2053,J),r[n>>2]=$,c=+w[R>>3],ne=n+8|0,w[ne>>3]=c,F=j;return}k=o+4|0,c=+w[Y+16>>3],u=+w[Y+24>>3],g=0,m=0,y=0;do{oe=+w[$+(y<<3)>>3],S=+ae(+oe);do if(!(oe!=oe|!1|oe==0))if(m=m+1|0,+w[(r[k>>2]|0)+(y<<3)>>3]>0){if(!(S>=c))break;g=g+1|0;break}else{if(!(S>=u))break;g=g+1|0;break}while(0);y=y+1|0}while((y|0)<(A|0));r[J>>2]=m,ne=J+4|0,r[ne>>2]=g,ot(2053,J),r[n>>2]=$,oe=+w[R>>3],ne=n+8|0,w[ne>>3]=oe,F=j}function Ai(n,o,l,u,c,m){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,m=m|0;var g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0;if(Q=r[n>>2]|0,y=pe(64)|0,g=pe(64)|0,Y=pe(Q<<2)|0,L=(Q|0)>0,L){for(D=n+4|0,M=0,x=0,P=y,R=g,S=16,A=g;;){k=~~+w[(r[D>>2]|0)+(x<<3)>>3];e:do if((M|0)>0){for(n=0;(k|0)!=(r[P+(n<<2)>>2]|0);)if(n=n+1|0,(n|0)>=(M|0))break e;g=R+(n<<2)|0,r[g>>2]=(r[g>>2]|0)+1}else n=0;while(0);if(r[Y+(x<<2)>>2]=n,(n|0)==(M|0)?(n=S<<3,(M|0)==(S|0)?(y=zt(y,n)|0,A=zt(A,n)|0,n=S<<1,g=y,R=A):(n=S,g=P),r[g+(M<<2)>>2]=k,r[R+(M<<2)>>2]=1,M=M+1|0):(n=S,g=P),x=x+1|0,(x|0)==(Q|0))break;P=g,S=n}if((M|0)==2)if(((r[g>>2]|0)==-1?(I=g+4|0,(r[I>>2]|0)==1):0)?(r[g>>2]=1,r[I>>2]=-1,I=R+4|0,D=r[R>>2]|0,r[R>>2]=r[I>>2],r[I>>2]=D,L):0){n=0;do I=Y+(n<<2)|0,r[I>>2]=(r[I>>2]|0)==0&1,n=n+1|0;while((n|0)!=(Q|0))}else M=2}else M=0,R=g,A=g;if(k=pe(M<<2)|0,r[k>>2]=0,S=(M|0)>1,S){n=1,g=0;do g=(r[R+(n+-1<<2)>>2]|0)+g|0,r[k+(n<<2)>>2]=g,n=n+1|0;while((n|0)!=(M|0))}if(L){n=0;do L=k+(r[Y+(n<<2)>>2]<<2)|0,I=r[L>>2]|0,r[m+(I<<2)>>2]=n,r[L>>2]=I+1,n=n+1|0;while((n|0)!=(Q|0))}if(r[k>>2]=0,S)n=1,g=0;else{r[o>>2]=M,r[l>>2]=y,r[u>>2]=k,r[c>>2]=A,de(Y);return}do g=(r[R+(n+-1<<2)>>2]|0)+g|0,r[k+(n<<2)>>2]=g,n=n+1|0;while((n|0)!=(M|0));r[o>>2]=M,r[l>>2]=y,r[u>>2]=k,r[c>>2]=A,de(Y)}function Sr(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0;if(y=r[n>>2]|0,(y+-2|0)>>>0<3){if(g=r[r[n+108>>2]>>2]|0,S=r[n+100>>2]|0,(S|0)>0){m=r[n+104>>2]|0,c=0,u=0;do ue=+w[g+(c<<3)>>3],u=u+ue*+Ti(o,r[m+(c<<2)>>2]|0,n),c=c+1|0;while((c|0)<(S|0))}else u=0;return ue=u-+w[r[n+112>>2]>>3],w[l>>3]=ue,ue=(y|0)==2?ue>0?1:-1:ue,+ue}if(ve=r[n+96>>2]|0,m=r[n+100>>2]|0,fe=pe(m<<3)|0,(m|0)>0){g=r[n+104>>2]|0,c=0;do ue=+Ti(o,r[g+(c<<2)>>2]|0,n),w[fe+(c<<3)>>3]=ue,c=c+1|0;while((c|0)!=(m|0))}if(S=ve<<2,oe=pe(S)|0,r[oe>>2]=0,j=(ve|0)>1,j){m=r[n+132>>2]|0,c=1,g=0;do g=(r[m+(c+-1<<2)>>2]|0)+g|0,r[oe+(c<<2)>>2]=g,c=c+1|0;while((c|0)!=(ve|0))}if(ne=pe(S)|0,(ve|0)>0){Tt(ne|0,0,S|0)|0,Q=n+132|0,Y=n+108|0,$=n+112|0,c=0,L=0,J=ve;do{J=J+-1|0,m=L,L=L+1|0;do if((L|0)<(ve|0)){if(A=r[oe+(m<<2)>>2]|0,x=r[Q>>2]|0,R=r[x+(m<<2)>>2]|0,M=r[Y>>2]|0,D=r[M+(m<<2)>>2]|0,I=r[$>>2]|0,P=ne+(m<<2)|0,(R|0)>0)o=L,k=c,g=D;else{for(y=L,o=c;;){if(g=r[oe+(y<<2)>>2]|0,S=r[x+(y<<2)>>2]|0,(S|0)>0){m=0,u=0;do M=m+g|0,u=u+ +w[D+(M<<3)>>3]*+w[fe+(M<<3)>>3],m=m+1|0;while((m|0)!=(S|0))}else u=0;if(ue=u-+w[I+(o<<3)>>3],w[l+(o<<3)>>3]=ue,M=ue>0?P:ne+(y<<2)|0,r[M>>2]=(r[M>>2]|0)+1,y=y+1|0,(y|0)==(ve|0))break;o=o+1|0}c=c+J|0;break}for(;;){S=r[oe+(o<<2)>>2]|0,y=r[x+(o<<2)>>2]|0,m=0,u=0;do me=m+A|0,u=u+ +w[g+(me<<3)>>3]*+w[fe+(me<<3)>>3],m=m+1|0;while((m|0)!=(R|0));if((y|0)>0){m=0;do me=m+S|0,u=u+ +w[D+(me<<3)>>3]*+w[fe+(me<<3)>>3],m=m+1|0;while((m|0)!=(y|0))}if(ue=u-+w[I+(k<<3)>>3],w[l+(k<<3)>>3]=ue,m=ue>0?P:ne+(o<<2)|0,r[m>>2]=(r[m>>2]|0)+1,m=o+1|0,(m|0)==(ve|0))break;g=r[M+(o<<2)>>2]|0,o=m,k=k+1|0}c=c+J|0}while(0)}while((L|0)!=(ve|0))}if(j){c=0,m=1;do c=(r[ne+(m<<2)>>2]|0)>(r[ne+(c<<2)>>2]|0)?m:c,m=m+1|0;while((m|0)!=(ve|0))}else c=0;return de(fe),de(oe),de(ne),ue=+(r[(r[n+128>>2]|0)+(c<<2)>>2]|0),+ue}function ei(n){n=n|0;var o=0,l=0,u=0;if(((r[n+136>>2]|0?(r[n+100>>2]|0)>0:0)?(o=r[n+104>>2]|0,o|0):0)&&de(r[o>>2]|0),l=n+108|0,o=r[l>>2]|0,(o|0?(u=n+96|0,(r[u>>2]|0)>1):0)?(de(r[o>>2]|0),((r[u>>2]|0)+-1|0)>1):0){o=1;do de(r[(r[l>>2]|0)+(o<<2)>>2]|0),o=o+1|0;while((o|0)<((r[u>>2]|0)+-1|0))}u=n+104|0,de(r[u>>2]|0),r[u>>2]=0,de(r[l>>2]|0),r[l>>2]=0,u=n+112|0,de(r[u>>2]|0),r[u>>2]=0,u=n+128|0,de(r[u>>2]|0),r[u>>2]=0,u=n+116|0,de(r[u>>2]|0),r[u>>2]=0,u=n+120|0,de(r[u>>2]|0),r[u>>2]=0,u=n+124|0,de(r[u>>2]|0),r[u>>2]=0,u=n+132|0,de(r[u>>2]|0),r[u>>2]=0}function Ri(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0;if(Zr(n,r[o>>2]|0,r[o+8>>2]|0,l),r[n>>2]=352,S=r[o>>2]|0,m=ze((S|0)>-1?S:-1)|0,r[n+48>>2]=m,st(m|0,u|0,S|0)|0,m=Ur(28)|0,c=~~(+w[l+32>>3]*1048576),r[m>>2]=S,g=ci(S,16)|0,r[m+8>>2]=g,c=(c>>>2)-(S<<2&1073741820)|0,g=S<<1,r[m+4>>2]=(c|0)>(g|0)?c:g,g=m+12|0,r[g>>2]=g,r[m+16>>2]=g,r[n+52>>2]=m,m=ze(S>>>0>536870911?-1:S<<3)|0,g=n+56|0,r[g>>2]=m,!((S|0)<=0)){c=n+4|0,m=n+8|0,u=0;do l=r[c>>2]|0,y=r[m>>2]|0,S=n+(y>>1)|0,y&1&&(l=r[(r[S>>2]|0)+l>>2]|0),k=+rr[l&7](S,u,u),w[(r[g>>2]|0)+(u<<3)>>3]=k,u=u+1|0;while((u|0)<(r[o>>2]|0))}}function Nr(n){n=n|0;var o=0,l=0,u=0;if(r[n>>2]=352,o=r[n+48>>2]|0,o|0&&Be(o),l=r[n+52>>2]|0,l|0){if(u=l+12|0,o=r[l+16>>2]|0,(o|0)!=(u|0))do de(r[o+8>>2]|0),o=r[o+4>>2]|0;while((o|0)!=(u|0));de(r[l+8>>2]|0),kt(l)}o=r[n+56>>2]|0,o|0&&Be(o),r[n>>2]=208,o=r[n+12>>2]|0,o|0&&Be(o),o=r[n+16>>2]|0,!!o&&Be(o)}function Vn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0;if(Zr(n,r[o>>2]|0,r[o+8>>2]|0,l),r[n>>2]=324,m=Ur(28)|0,S=r[o>>2]|0,c=~~(+w[l+32>>3]*1048576),r[m>>2]=S,g=ci(S,16)|0,r[m+8>>2]=g,c=(c>>>2)-(S<<2&1073741820)|0,g=S<<1,r[m+4>>2]=(c|0)>(g|0)?c:g,g=m+12|0,r[g>>2]=g,r[m+16>>2]=g,r[n+48>>2]=m,m=ze(S>>>0>536870911?-1:S<<3)|0,g=n+52|0,r[g>>2]=m,!((S|0)<=0)){c=n+4|0,m=n+8|0,u=0;do l=r[c>>2]|0,y=r[m>>2]|0,S=n+(y>>1)|0,y&1&&(l=r[(r[S>>2]|0)+l>>2]|0),k=+rr[l&7](S,u,u),w[(r[g>>2]|0)+(u<<3)>>3]=k,u=u+1|0;while((u|0)<(r[o>>2]|0))}}function ti(n){n=n|0;var o=0,l=0,u=0;if(r[n>>2]=324,l=r[n+48>>2]|0,l|0){if(u=l+12|0,o=r[l+16>>2]|0,(o|0)!=(u|0))do de(r[o+8>>2]|0),o=r[o+4>>2]|0;while((o|0)!=(u|0));de(r[l+8>>2]|0),kt(l)}o=r[n+52>>2]|0,o|0&&Be(o),r[n>>2]=208,o=r[n+12>>2]|0,o|0&&Be(o),o=r[n+16>>2]|0,!!o&&Be(o)}function Oi(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0;if(Zr(n,r[o>>2]|0,r[o+8>>2]|0,l),r[n>>2]=296,o=r[o>>2]|0,k=n+48|0,r[k>>2]=o,u=Ur(28)|0,g=~~(+w[l+32>>3]*1048576),r[u>>2]=o,m=ci(o,16)|0,r[u+8>>2]=m,g=(g>>>2)-(o<<2&1073741820)|0,m=o<<1,r[u+4>>2]=(g|0)>(m|0)?g:m,g=u+12|0,r[g>>2]=g,r[u+16>>2]=g,r[n+52>>2]=u,u=ze(m>>>0>536870911?-1:m<<3)|0,g=n+76|0,r[g>>2]=u,u=ze((o|0)<0?-1:m)|0,S=n+56|0,r[S>>2]=u,m=ze(m>>>0>1073741823?-1:m<<2)|0,y=n+60|0,r[y>>2]=m,(o|0)<=0){S=o,S=S<<1,y=S<<2,S=S>>>0>1073741823,y=S?-1:y,S=ze(y)|0,k=n+68|0,r[k>>2]=S,y=ze(y)|0,k=n+72|0,r[k>>2]=y,n=n+64|0,r[n>>2]=0;return}for(c=n+4|0,m=n+8|0,l=0,o=u;T[o+l>>0]=1,T[(r[S>>2]|0)+((r[k>>2]|0)+l)>>0]=-1,o=r[y>>2]|0,r[o+(l<<2)>>2]=l,r[o+((r[k>>2]|0)+l<<2)>>2]=l,o=r[c>>2]|0,A=r[m>>2]|0,u=n+(A>>1)|0,A&1&&(o=r[(r[u>>2]|0)+o>>2]|0),R=+rr[o&7](u,l,l),A=r[g>>2]|0,w[A+(l<<3)>>3]=R,o=r[k>>2]|0,w[A+(o+l<<3)>>3]=R,l=l+1|0,!((l|0)>=(o|0));)o=r[S>>2]|0;y=o<<1,k=y<<2,y=y>>>0>1073741823,k=y?-1:k,y=ze(k)|0,A=n+68|0,r[A>>2]=y,k=ze(k)|0,A=n+72|0,r[A>>2]=k,A=n+64|0,r[A>>2]=0}function Mr(n){n=n|0;var o=0,l=0,u=0;if(r[n>>2]=296,l=r[n+52>>2]|0,l|0){if(u=l+12|0,o=r[l+16>>2]|0,(o|0)!=(u|0))do de(r[o+8>>2]|0),o=r[o+4>>2]|0;while((o|0)!=(u|0));de(r[l+8>>2]|0),kt(l)}o=r[n+56>>2]|0,o|0&&Be(o),o=r[n+60>>2]|0,o|0&&Be(o),o=r[n+68>>2]|0,o|0&&Be(o),o=r[n+72>>2]|0,o|0&&Be(o),o=r[n+76>>2]|0,o|0&&Be(o),r[n>>2]=208,o=r[n+12>>2]|0,o|0&&Be(o),o=r[n+16>>2]|0,!!o&&Be(o)}function Gn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0;if(x=F,F=F+16|0,M=x,P=n+60|0,R=r[(r[P>>2]|0)+(o<<2)>>2]|0,y=n+48|0,k=Qr(r[n+52>>2]|0,R,M,r[y>>2]|0)|0,A=r[y>>2]|0,(k|0)<(A|0)&(A|0)>0){m=n+4|0,S=n+8|0,k=r[M>>2]|0,c=0;do u=r[m>>2]|0,D=r[S>>2]|0,A=n+(D>>1)|0,D&1&&(u=r[(r[A>>2]|0)+u>>2]|0),g=+rr[u&7](A,R,c),B[k+(c<<2)>>2]=g,c=c+1|0;while((c|0)<(r[y>>2]|0))}if(S=n+64|0,D=r[S>>2]|0,y=r[n+68+(D<<2)>>2]|0,r[S>>2]=1-D,S=r[n+56>>2]|0,(l|0)<=0)return F=x,y|0;g=+(T[S+o>>0]|0),m=r[M>>2]|0,c=r[P>>2]|0,u=0;do B[y+(u<<2)>>2]=g*+(T[S+u>>0]|0)*+B[m+(r[c+(u<<2)>>2]<<2)>>2],u=u+1|0;while((u|0)!=(l|0));return F=x,y|0}function zn(n){return n=n|0,r[n+76>>2]|0}function Kn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;c=r[n+56>>2]|0,m=c+o|0,c=c+l|0,g=T[m>>0]|0,T[m>>0]=T[c>>0]|0,T[c>>0]=g,c=r[n+60>>2]|0,g=c+(o<<2)|0,c=c+(l<<2)|0,m=r[g>>2]|0,r[g>>2]=r[c>>2],r[c>>2]=m,n=r[n+76>>2]|0,o=n+(o<<3)|0,l=n+(l<<3)|0,u=+w[o>>3],w[o>>3]=+w[l>>3],w[l>>3]=u}function Yn(n){n=n|0,Mr(n),kt(n)}function Wn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0;if(k=F,F=F+16|0,u=k,c=Qr(r[n+48>>2]|0,o,u,l)|0,(c|0)>=(l|0))return l=r[u>>2]|0,F=k,l|0;S=n+4|0,y=n+8|0,u=r[u>>2]|0;do m=r[S>>2]|0,A=r[y>>2]|0,g=n+(A>>1)|0,A&1&&(m=r[(r[g>>2]|0)+m>>2]|0),R=+rr[m&7](g,o,c),B[u+(c<<2)>>2]=R,c=c+1|0;while((c|0)!=(l|0));return F=k,u|0}function $n(n){return n=n|0,r[n+52>>2]|0}function jn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;wi(r[n+48>>2]|0,o,l),m=r[n+12>>2]|0,c=m+(o<<2)|0,m=m+(l<<2)|0,u=r[c>>2]|0,r[c>>2]=r[m>>2],r[m>>2]=u,m=r[n+16>>2]|0,u=m+(o<<3)|0,c=m+(l<<3)|0,m|0&&(g=+w[u>>3],w[u>>3]=+w[c>>3],w[c>>3]=g),m=r[n+52>>2]|0,c=m+(o<<3)|0,m=m+(l<<3)|0,g=+w[c>>3],w[c>>3]=+w[m>>3],w[m>>3]=g}function qn(n){n=n|0,ti(n),kt(n)}function Xn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0;if(R=F,F=F+16|0,u=R,c=Qr(r[n+52>>2]|0,o,u,l)|0,(c|0)>=(l|0))return A=r[u>>2]|0,F=R,A|0;A=n+48|0,y=n+4|0,k=n+8|0,u=r[u>>2]|0;do m=r[A>>2]|0,g=+(te(T[m+c>>0]|0,T[m+o>>0]|0)|0),m=r[y>>2]|0,M=r[k>>2]|0,S=n+(M>>1)|0,M&1&&(m=r[(r[S>>2]|0)+m>>2]|0),g=g*+rr[m&7](S,o,c),B[u+(c<<2)>>2]=g,c=c+1|0;while((c|0)!=(l|0));return F=R,u|0}function Jn(n){return n=n|0,r[n+56>>2]|0}function Qn(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;wi(r[n+52>>2]|0,o,l),m=r[n+12>>2]|0,c=m+(o<<2)|0,m=m+(l<<2)|0,u=r[c>>2]|0,r[c>>2]=r[m>>2],r[m>>2]=u,m=r[n+16>>2]|0,u=m+(o<<3)|0,c=m+(l<<3)|0,m|0&&(g=+w[u>>3],w[u>>3]=+w[c>>3],w[c>>3]=g),m=r[n+48>>2]|0,u=m+o|0,m=m+l|0,c=T[u>>0]|0,T[u>>0]=T[m>>0]|0,T[m>>0]=c,m=r[n+56>>2]|0,c=m+(o<<3)|0,m=m+(l<<3)|0,g=+w[c>>3],w[c>>3]=+w[m>>3],w[m>>3]=g}function Zn(n){n=n|0,Nr(n),kt(n)}function Fi(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0;if(oe=F,F=F+16|0,Y=oe,c=r[n>>2]|0,(c>>>0<2?(I=n+116|0,r[I>>2]|0):0)?(L=n+120|0,r[L>>2]|0):0){if(j=r[n+96>>2]|0,g=j+-1|0,ne=pe(((te(g,j)|0)/2|0)<<3)|0,+Sr(n,o,ne),D=j<<2,J=pe(D)|0,$=(j|0)>0,$){c=j<<3,u=0;do x=pe(c)|0,r[J+(u<<2)>>2]=x,u=u+1|0;while((u|0)!=(j|0));if($){for(u=0,x=0;;){if(A=x,x=x+1|0,(x|0)<(j|0)){for(R=r[I>>2]|0,M=r[L>>2]|0,P=r[J+(A<<2)>>2]|0,c=x,o=u;m=+w[ne+(o<<3)>>3]*+w[R+(o<<3)>>3]+ +w[M+(o<<3)>>3],m>=0?(m=+re(+-m),S=m):(S=1,m=+re(+m)),Q=S/(m+1),Q=Q>1e-7?Q:1e-7,Q=Q<.9999999?Q:.9999999,w[P+(c<<3)>>3]=Q,w[(r[J+(c<<2)>>2]|0)+(A<<3)>>3]=1-Q,c=c+1|0,(c|0)!=(j|0);)o=o+1|0;u=u+g|0}if((x|0)==(j|0))break;g=g+-1|0}(j|0)==2?(w[l>>3]=+w[(r[J>>2]|0)+8>>3],w[l+8>>3]=+w[r[J+4>>2]>>3],c=0,u=1,I=46):I=18}else I=18}else I=18;if((I|0)==18){P=(j|0)>100?j:100,x=pe(D)|0,M=j<<3,D=pe(M)|0,m=+(j|0),Q=.005/m;e:do if($){m=1/m,R=0;do{if(w[l+(R<<3)>>3]=m,g=pe(M)|0,r[x+(R<<2)>>2]=g,A=g+(R<<3)|0,w[A>>3]=0,(R|0)>0?(k=+w[(r[J>>2]|0)+(R<<3)>>3],w[A>>3]=k*k+0,w[g>>3]=+w[(r[x>>2]|0)+(R<<3)>>3],(R|0)!=1):0){u=1;do k=+w[(r[J+(u<<2)>>2]|0)+(R<<3)>>3],w[A>>3]=k*k+ +w[A>>3],w[g+(u<<3)>>3]=+w[(r[x+(u<<2)>>2]|0)+(R<<3)>>3],u=u+1|0;while((u|0)!=(R|0))}if(o=R,R=R+1|0,(R|0)<(j|0)){c=r[J+(o<<2)>>2]|0,u=R;do L=(r[J+(u<<2)>>2]|0)+(o<<3)|0,k=+w[L>>3],w[A>>3]=k*k+ +w[A>>3],w[g+(u<<3)>>3]=-(+w[L>>3]*+w[c+(u<<3)>>3]),u=u+1|0;while((u|0)!=(j|0))}}while((R|0)!=(j|0));if((P|0)>0)for(A=0;;){S=0,u=0;do{o=D+(u<<3)|0,w[o>>3]=0,g=r[x+(u<<2)>>2]|0,c=0,m=0;do m=m+ +w[g+(c<<3)>>3]*+w[l+(c<<3)>>3],c=c+1|0;while((c|0)!=(j|0));w[o>>3]=m,S=S+m*+w[l+(u<<3)>>3],u=u+1|0}while((u|0)!=(j|0));m=0,u=0;do k=+ae(+(+w[D+(u<<3)>>3]-S)),m=k>m?k:m,u=u+1|0;while((u|0)!=(j|0));if(m<Q)break e;for(m=S,c=0;;){y=+w[D+(c<<3)>>3],o=r[x+(c<<2)>>2]|0,u=o+(c<<3)|0,S=(m-y)/+w[u>>3],L=l+(c<<3)|0,w[L>>3]=+w[L>>3]+S,y=S*(y*2+S*+w[u>>3]),k=S+1,u=0;do L=D+(u<<3)|0,w[L>>3]=(+w[L>>3]+S*+w[o+(u<<3)>>3])/k,L=l+(u<<3)|0,w[L>>3]=+w[L>>3]/k,u=u+1|0;while((u|0)!=(j|0));if(c=c+1|0,(c|0)==(j|0))break;m=(m+y)/k/k}if(A=A+1|0,(A|0)>=(P|0)){I=41;break}}else I=41}else for(c=Q>0,u=0;;){if(c)break e;if(u=u+1|0,(u|0)>=(P|0)){I=41;break}}while(0);if((I|0)==41&&ot(2203,Y),$){u=0;do de(r[x+(u<<2)>>2]|0),u=u+1|0;while((u|0)!=(j|0))}de(x),de(D),(j|0)>1?(c=0,u=1,I=46):c=0}if((I|0)==46)for(;c=+w[l+(u<<3)>>3]>+w[l+(c<<3)>>3]?u:c,u=u+1|0,(u|0)!=(j|0);)I=46;if($){u=0;do de(r[J+(u<<2)>>2]|0),u=u+1|0;while((u|0)!=(j|0))}return de(ne),de(J),Q=+(r[(r[n+128>>2]|0)+(c<<2)>>2]|0),F=oe,+Q}return u=r[n+96>>2]|0,(c+-2|0)>>>0<3?u=8:u=((te(u+-1|0,u)|0)/2|0)<<3,ne=pe(u)|0,Q=+Sr(n,o,ne),de(ne),F=oe,+Q}function e0(n){return n=n|0,r[n+96>>2]|0}function t0(n,o){n=n|0,o=o|0;var l=0,u=0;return l=r[n+96>>2]|0,((r[n>>2]|0)+-2|0)>>>0<3?l=8:l=((te(l+-1|0,l)|0)/2|0)<<3,l=pe(l)|0,u=+Sr(n,o,l),de(l),+u}function r0(n){n=n|0;var o=0;!n||(o=r[n>>2]|0,!!o&&(ei(o),de(r[n>>2]|0),r[n>>2]=0))}function i0(n){return n=n|0,r[n>>2]|0}function n0(n,o){n=n|0,o=o|0;var l=0,u=0;if(u=r[n+128>>2]|0,!!u){if(l=n+96|0,(r[l>>2]|0)>0)n=0;else return;do r[o+(n<<2)>>2]=r[u+(n<<2)>>2],n=n+1|0;while((n|0)<(r[l>>2]|0))}}function s0(n,o){n=n|0,o=o|0;var l=0,u=0;if(u=r[n+124>>2]|0,!!u){if(l=n+100|0,(r[l>>2]|0)>0)n=0;else return;do r[o+(n<<2)>>2]=r[u+(n<<2)>>2],n=n+1|0;while((n|0)<(r[l>>2]|0))}}function o0(n){return n=n|0,r[n+100>>2]|0}function a0(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0;if(ne=F,F=F+160|0,I=ne+136|0,D=ne+128|0,Y=ne+120|0,Q=ne+112|0,L=ne+96|0,P=ne+88|0,M=ne+80|0,R=ne+72|0,A=ne+64|0,k=ne+56|0,y=ne+48|0,S=ne+40|0,g=ne+32|0,m=ne+24|0,c=ne+16|0,u=ne+8|0,l=ne,j=Lr(n,2240)|0,!j)return F=ne,-1;switch(n=er(6,0)|0,n?J=tn(n)|0:J=0,er(6,5502)|0,r[l>>2]=r[372+(r[o>>2]<<2)>>2],nt(j,2242,l)|0,$=o+4|0,r[u>>2]=r[396+(r[$>>2]<<2)>>2],nt(j,2255,u)|0,n=r[$>>2]|0,(n|0)==1&&(r[c>>2]=r[o+8>>2],nt(j,2271,c)|0,n=r[$>>2]|0),(n+-1|0)>>>0<3&&(w[m>>3]=+w[o+16>>3],nt(j,2282,m)|0,n=r[$>>2]|0),n|0){case 3:case 1:{w[g>>3]=+w[o+24>>3],nt(j,2292,g)|0;break}}if(g=r[o+96>>2]|0,x=r[o+100>>2]|0,r[S>>2]=g,nt(j,2302,S)|0,r[y>>2]=x,nt(j,2315,y)|0,Ot(2328,3,1,j)|0,S=g+-1|0,u=te(S,g)|0,c=(u|0)/2|0,u=(u|0)>1,u){l=o+112|0,n=0;do w[k>>3]=+w[(r[l>>2]|0)+(n<<3)>>3],nt(j,2332,k)|0,n=n+1|0;while((n|0)<(c|0))}if(Gt(10,j)|0,l=o+128|0,r[l>>2]|0){if(Ot(2336,5,1,j)|0,(g|0)>0){n=0;do r[A>>2]=r[(r[l>>2]|0)+(n<<2)>>2],nt(j,2342,A)|0,n=n+1|0;while((n|0)!=(g|0))}Gt(10,j)|0}if(l=o+116|0,r[l>>2]|0){if(Ot(2346,5,1,j)|0,u){n=0;do w[R>>3]=+w[(r[l>>2]|0)+(n<<3)>>3],nt(j,2332,R)|0,n=n+1|0;while((n|0)<(c|0))}Gt(10,j)|0}if(l=o+120|0,r[l>>2]|0){if(Ot(2352,5,1,j)|0,u){n=0;do w[M>>3]=+w[(r[l>>2]|0)+(n<<3)>>3],nt(j,2332,M)|0,n=n+1|0;while((n|0)<(c|0))}Gt(10,j)|0}if(l=o+132|0,r[l>>2]|0){if(Ot(2358,5,1,j)|0,(g|0)>0){n=0;do r[P>>2]=r[(r[l>>2]|0)+(n<<2)>>2],nt(j,2342,P)|0,n=n+1|0;while((n|0)!=(g|0))}Gt(10,j)|0}Ot(2364,3,1,j)|0,c=r[o+108>>2]|0,m=r[o+104>>2]|0;e:do if((x|0)>0){if((g|0)>1)u=0;else for(u=0;;){if(l=r[m+(u<<2)>>2]|0,(r[$>>2]|0)!=4){if(n=r[l>>2]|0,(n|0)!=-1)do oe=+w[l+8>>3],r[I>>2]=n,w[I+8>>3]=oe,nt(j,2368,I)|0,l=l+16|0,n=r[l>>2]|0;while((n|0)!=-1)}else r[D>>2]=~~+w[l+8>>3],nt(j,2377,D)|0;if(Gt(10,j)|0,u=u+1|0,(u|0)==(x|0))break e}do{n=0;do w[Y>>3]=+w[(r[c+(n<<2)>>2]|0)+(u<<3)>>3],nt(j,2383,Y)|0,n=n+1|0;while((n|0)!=(S|0));if(l=r[m+(u<<2)>>2]|0,(r[$>>2]|0)!=4){if(n=r[l>>2]|0,(n|0)!=-1)do oe=+w[l+8>>3],r[L>>2]=n,w[L+8>>3]=oe,nt(j,2368,L)|0,l=l+16|0,n=r[l>>2]|0;while((n|0)!=-1)}else r[Q>>2]=~~+w[l+8>>3],nt(j,2377,Q)|0;Gt(10,j)|0,u=u+1|0}while((u|0)!=(x|0))}while(0);return er(6,J)|0,de(J),Qi(j)|0?(F=ne,-1):(j=((Hr(j)|0)!=0)<<31>>31,F=ne,j|0)}function l0(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0,Ie=0,Te=0,Re=0,G=0,Ge=0,Ve=0,De=0;if(Ve=F,F=F+240|0,Ge=Ve+152|0,Te=Ve+144|0,Ie=Ve+136|0,Ne=Ve+128|0,me=Ve+120|0,ue=Ve+112|0,ve=Ve+104|0,oe=Ve+96|0,ne=Ve+88|0,j=Ve+80|0,J=Ve+72|0,$=Ve+64|0,Y=Ve+56|0,Q=Ve+48|0,L=Ve+40|0,I=Ve+32|0,Re=Ve+24|0,fe=Ve+16|0,D=Ve+8|0,x=Ve,G=Ve+156|0,r[o+56>>2]=0,r[o+60>>2]=0,r[o+64>>2]=0,r[x>>2]=G,(lt(n,2474,x)|0)!=1)return Ge=0,F=Ve,Ge|0;P=o+4|0,x=o+8|0,c=o+16|0,m=o+24|0,g=o+96|0,S=o+100|0,y=o+112|0,k=o+128|0,A=o+116|0,R=o+120|0,M=o+132|0;e:for(;;){t:do if($e(G,2479)|0){if(!($e(G,2488)|0)){if(r[fe>>2]=G,(lt(n,2474,fe)|0)!=1){l=0,u=52;break e}if($e(2390,G)|0)if($e(2397,G)|0)if($e(2408,G)|0)if($e(2412,G)|0)if(!($e(2420,G)|0))l=4;else{u=56;break e}else l=3;else l=2;else l=1;else l=0;r[P>>2]=l;break}if(!($e(G,2500)|0)){if(r[Re>>2]=x,(lt(n,2507,Re)|0)==1)break;l=0,u=52;break e}if(!($e(G,2510)|0)){if(r[I>>2]=c,(lt(n,2516,I)|0)==1)break;l=0,u=52;break e}if(!($e(G,2520)|0)){if(r[L>>2]=m,(lt(n,2516,L)|0)==1)break;l=0,u=52;break e}if(!($e(G,2526)|0)){if(r[Q>>2]=g,(lt(n,2507,Q)|0)==1)break;l=0,u=52;break e}if(!($e(G,2535)|0)){if(r[Y>>2]=S,(lt(n,2507,Y)|0)==1)break;l=0,u=52;break e}if(!($e(G,2328)|0)){if(De=r[g>>2]|0,De=te(De+-1|0,De)|0,u=(De|0)/2|0,l=pe(u<<3)|0,r[y>>2]=l,(De|0)<=1)break;if(r[J>>2]=l,(lt(n,2516,J)|0)==1)l=1;else{l=0,u=52;break e}for(;;){if((l|0)>=(u|0))break t;if(r[j>>2]=(r[y>>2]|0)+(l<<3),(lt(n,2516,j)|0)==1)l=l+1|0;else{l=0,u=52;break e}}}if(!($e(G,2336)|0)){if(u=r[g>>2]|0,l=pe(u<<2)|0,r[k>>2]=l,(u|0)<=0)break;if(r[ne>>2]=l,(lt(n,2507,ne)|0)==1)l=1;else{l=0,u=52;break e}for(;;){if((l|0)>=(u|0))break t;if(r[oe>>2]=(r[k>>2]|0)+(l<<2),(lt(n,2507,oe)|0)==1)l=l+1|0;else{l=0,u=52;break e}}}if(!($e(G,2346)|0)){if(De=r[g>>2]|0,De=te(De+-1|0,De)|0,u=(De|0)/2|0,l=pe(u<<3)|0,r[A>>2]=l,(De|0)<=1)break;if(r[ve>>2]=l,(lt(n,2516,ve)|0)==1)l=1;else{l=0,u=52;break e}for(;;){if((l|0)>=(u|0))break t;if(r[ue>>2]=(r[A>>2]|0)+(l<<3),(lt(n,2516,ue)|0)==1)l=l+1|0;else{l=0,u=52;break e}}}if(!($e(G,2352)|0)){if(De=r[g>>2]|0,De=te(De+-1|0,De)|0,u=(De|0)/2|0,l=pe(u<<3)|0,r[R>>2]=l,(De|0)<=1)break;if(r[me>>2]=l,(lt(n,2516,me)|0)==1)l=1;else{l=0,u=52;break e}for(;;){if((l|0)>=(u|0))break t;if(r[Ne>>2]=(r[R>>2]|0)+(l<<3),(lt(n,2516,Ne)|0)==1)l=l+1|0;else{l=0,u=52;break e}}}if($e(G,2358)|0){u=49;break e}if(u=r[g>>2]|0,l=pe(u<<2)|0,r[M>>2]=l,(u|0)>0){if(r[Ie>>2]=l,(lt(n,2507,Ie)|0)==1)l=1;else{l=0,u=52;break e}for(;;){if((l|0)>=(u|0))break t;if(r[Te>>2]=(r[M>>2]|0)+(l<<2),(lt(n,2507,Te)|0)==1)l=l+1|0;else{l=0,u=52;break e}}}}else{if(r[D>>2]=G,(lt(n,2474,D)|0)!=1){l=0,u=52;break e}if($e(2432,G)|0)if($e(2438,G)|0)if($e(2445,G)|0)if($e(2455,G)|0)if(!($e(2467,G)|0))l=4;else{u=60;break e}else l=3;else l=2;else l=1;else l=0;r[o>>2]=l}while(0);if(r[$>>2]=G,(lt(n,2474,$)|0)!=1){l=0,u=52;break}}if((u|0)==49){if($e(G,2544)|0)return De=r[105]|0,r[Ge>>2]=G,nt(De,2547,Ge)|0,De=0,F=Ve,De|0;{e:for(;;)switch(ns(n)|0){case 10:case-1:{l=1;break e}}return F=Ve,l|0}}else{if((u|0)==52)return F=Ve,l|0;if((u|0)==56)return Ot(2581,25,1,r[105]|0)|0,De=0,F=Ve,De|0;if((u|0)==60)return Ot(2607,18,1,r[105]|0)|0,De=0,F=Ve,De|0}return 0}function f0(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0;if(P=F,F=F+16|0,M=P,R=Lr(n,2626)|0,!R)return M=0,F=P,M|0;if(n=er(6,0)|0,n?A=tn(n)|0:A=0,er(6,5502)|0,n=pe(144)|0,o=n+112|0,r[o>>2]=0,r[o+4>>2]=0,r[o+8>>2]=0,r[o+12>>2]=0,r[o+16>>2]=0,r[o+20>>2]=0,!(l0(R,n)|0))return Ot(2629,35,1,r[105]|0)|0,er(6,A)|0,de(A),de(r[o>>2]|0),de(r[n+128>>2]|0),de(r[n+132>>2]|0),de(n),M=0,F=P,M|0;if(l=Xi(R)|0,r[1514]=1024,k=pe(1024)|0,r[1515]=k,!(Pr(R)|0))o=0;else{o=0;do for(gt(r[1515]|0,2665)|0;gt(0,2665)|0;)o=o+1|0;while((Pr(R)|0)!=0)}if(y=n+100|0,u=(r[y>>2]|0)+o|0,fi(R,l,0)|0,S=r[n+96>>2]|0,m=S+-1|0,y=r[y>>2]|0,o=pe(m<<2)|0,k=n+108|0,r[k>>2]=o,(S|0)>1?(c=y<<3,S=pe(c)|0,r[o>>2]=S,(m|0)!=1):0){o=1;do S=r[k>>2]|0,g=pe(c)|0,r[S+(o<<2)>>2]=g,o=o+1|0;while((o|0)!=(m|0))}g=pe(y<<2)|0,S=n+104|0,r[S>>2]=g;e:do if((y|0)>0){if(g=pe(u<<4)|0,(m|0)>1)o=0,c=0;else for(o=0,c=0;;){if(Pr(R)|0,r[(r[S>>2]|0)+(c<<2)>>2]=g+(o<<4),x=+cr(gt(r[1515]|0,2667)|0,M),w[(r[r[k>>2]>>2]|0)+(c<<3)>>3]=x,l=gt(0,2665)|0,u=gt(0,2667)|0,u)do m=Wi(l,M,10)|0,r[g+(o<<4)>>2]=m,x=+cr(u,M),w[g+(o<<4)+8>>3]=x,o=o+1|0,l=gt(0,2665)|0,u=gt(0,2667)|0;while((u|0)!=0);if(r[g+(o<<4)>>2]=-1,c=c+1|0,(c|0)==(y|0))break e;o=o+1|0}for(;;){Pr(R)|0,r[(r[S>>2]|0)+(c<<2)>>2]=g+(o<<4),x=+cr(gt(r[1515]|0,2667)|0,M),w[(r[r[k>>2]>>2]|0)+(c<<3)>>3]=x,l=1;do x=+cr(gt(0,2667)|0,M),w[(r[(r[k>>2]|0)+(l<<2)>>2]|0)+(c<<3)>>3]=x,l=l+1|0;while((l|0)!=(m|0));if(u=gt(0,2665)|0,l=gt(0,2667)|0,l)do D=Wi(u,M,10)|0,r[g+(o<<4)>>2]=D,x=+cr(l,M),w[g+(o<<4)+8>>3]=x,o=o+1|0,u=gt(0,2665)|0,l=gt(0,2667)|0;while((l|0)!=0);if(r[g+(o<<4)>>2]=-1,c=c+1|0,(c|0)==(y|0))break;o=o+1|0}}while(0);return de(r[1515]|0),er(6,A)|0,de(A),((Qi(R)|0)==0?(Hr(R)|0)==0:0)?r[n+136>>2]=1:n=0,D=n,F=P,D|0}function Pr(n){n=n|0;var o=0,l=0,u=0;if(!(en(r[1515]|0,r[1514]|0,n)|0))return l=0,l|0;do{if(o=r[1515]|0,ss(o,10)|0){l=5;break}u=r[1514]<<1,r[1514]=u,u=zt(o,u)|0,r[1515]=u,o=dr(u)|0}while((en(u+o|0,(r[1514]|0)-o|0,n)|0)!=0);return(l|0)==5?o|0:(u=r[1515]|0,u|0)}function fr(n){n=n|0,de(r[n+60>>2]|0),de(r[n+64>>2]|0)}function u0(n){n=n|0,r[64]=(n|0)==0?6:n}function c0(n){n=n|0;var o=0,l=0;return o=F,F=F+16|0,l=o,n=g0(r[n+60>>2]|0)|0,r[l>>2]=n,n=Jt(z(6,l|0)|0)|0,F=o,n|0}function Ni(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0;R=F,F=F+48|0,k=R+16|0,m=R,c=R+32|0,S=n+28|0,u=r[S>>2]|0,r[c>>2]=u,y=n+20|0,u=(r[y>>2]|0)-u|0,r[c+4>>2]=u,r[c+8>>2]=o,r[c+12>>2]=l,u=u+l|0,g=n+60|0,r[m>>2]=r[g>>2],r[m+4>>2]=c,r[m+8>>2]=2,m=Jt(we(146,m|0)|0)|0;e:do if((u|0)!=(m|0)){for(o=2;!((m|0)<0);)if(u=u-m|0,P=r[c+4>>2]|0,M=m>>>0>P>>>0,c=M?c+8|0:c,o=(M<<31>>31)+o|0,P=m-(M?P:0)|0,r[c>>2]=(r[c>>2]|0)+P,M=c+4|0,r[M>>2]=(r[M>>2]|0)-P,r[k>>2]=r[g>>2],r[k+4>>2]=c,r[k+8>>2]=o,m=Jt(we(146,k|0)|0)|0,(u|0)==(m|0)){A=3;break e}r[n+16>>2]=0,r[S>>2]=0,r[y>>2]=0,r[n>>2]=r[n>>2]|32,(o|0)==2?l=0:l=l-(r[c+4>>2]|0)|0}else A=3;while(0);return(A|0)==3&&(P=r[n+44>>2]|0,r[n+16>>2]=P+(r[n+48>>2]|0),r[S>>2]=P,r[y>>2]=P),F=R,l|0}function h0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0;return c=F,F=F+32|0,m=c,u=c+20|0,r[m>>2]=r[n+60>>2],r[m+4>>2]=0,r[m+8>>2]=o,r[m+12>>2]=u,r[m+16>>2]=l,(Jt(he(140,m|0)|0)|0)<0?(r[u>>2]=-1,n=-1):n=r[u>>2]|0,F=c,n|0}function Jt(n){n=n|0;var o=0;return n>>>0>4294963200&&(o=Je()|0,r[o>>2]=0-n,n=-1),n|0}function Je(){return(d0()|0)+64|0}function d0(){return Er()|0}function Er(){return 548}function g0(n){return n=n|0,n|0}function p0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0;return y=F,F=F+32|0,u=y,g=y+16|0,r[g>>2]=o,c=g+4|0,S=n+48|0,k=r[S>>2]|0,r[c>>2]=l-((k|0)!=0&1),m=n+44|0,r[g+8>>2]=r[m>>2],r[g+12>>2]=k,r[u>>2]=r[n+60>>2],r[u+4>>2]=g,r[u+8>>2]=2,u=Jt(Se(145,u|0)|0)|0,(u|0)>=1?(g=r[c>>2]|0,u>>>0>g>>>0&&(c=r[m>>2]|0,m=n+4|0,r[m>>2]=c,r[n+8>>2]=c+(u-g),r[S>>2]|0&&(r[m>>2]=c+1,T[o+(l+-1)>>0]=T[c>>0]|0),u=l)):r[n>>2]=r[n>>2]|u&48^16,F=y,u|0}function m0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;return c=F,F=F+32|0,u=c,r[n+36>>2]=6,((r[n>>2]&64|0)==0?(r[u>>2]=r[n+60>>2],r[u+4>>2]=21523,r[u+8>>2]=c+16,mr(54,u|0)|0):0)&&(T[n+75>>0]=-1),u=Ni(n,o,l)|0,F=c,u|0}function _0(){return 6064}function ri(n){n=+n;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0;w[H>>3]=n,o=r[H+4>>2]|0,c=o&2147483647,o=It(r[H>>2]|0,o|0,63)|0;do if(c>>>0>1078159481)c=v0(n)|0,S=V&2147483647,S>>>0>2146435072|(S|0)==2146435072&c>>>0>0||(o?n=-1:n>709.782712893384?n=n*898846567431158e293:(l=.5,g=12));else{if(c>>>0<=1071001154){if(c>>>0<1016070144)break;m=0,o=0,g=15;break}if(o=(o|0)!=0,c>>>0>=1072734898){l=o?-.5:.5,g=12;break}if(o){o=-1,l=n+.6931471803691238,u=-19082149292705877e-26,g=13;break}else{o=1,l=n+-.6931471803691238,u=19082149292705877e-26,g=13;break}}while(0);(g|0)==12&&(o=~~(n*1.4426950408889634+l),u=+(o|0),l=n-u*.6931471803691238,u=u*19082149292705877e-26,g=13),(g|0)==13&&(m=l-u,n=m,m=l-m-u,g=15);e:do if((g|0)==15){if(u=n*.5,l=n*u,y=l*(l*(l*(l*(4008217827329362e-21-l*20109921818362437e-23)+-793650757867488e-19)+.0015873015872548146)+-.03333333333333313)+1,u=3-u*y,u=l*((y-u)/(6-n*u)),!o){n=n-(n*u-l);break}switch(l=n*(u-m)-m-l,o|0){case-1:{n=(n-l)*.5+-.5;break e}case 1:if(n<-.25){n=(l-(n+.5))*-2;break e}else{n=(n-l)*2+1;break e}default:if(g=ft(o+1023|0,0,52)|0,S=V,r[H>>2]=g,r[H+4>>2]=S,u=+w[H>>3],o>>>0>56){n=n-l+1,n=((o|0)==1024?n*2*898846567431158e293:u*n)+-1;break e}else{c=ft(1023-o|0,0,52)|0,g=V,S=(o|0)<20,r[H>>2]=c,r[H+4>>2]=g,y=+w[H>>3],n=u*((S?1-y:1)+(n-(S?l:y+l)));break e}}}while(0);return+n}function v0(n){n=+n;var o=0;return w[H>>3]=n,o=r[H>>2]|0,V=r[H+4>>2]|0,o|0}function br(n,o){n=+n,o=o|0;var l=0,u=0;return(o|0)<=1023?(o|0)<-1022&&(n=n*22250738585072014e-324,l=o+1022|0,u=(l|0)<-1022,o=o+2044|0,n=u?n*22250738585072014e-324:n,o=u?(o|0)>-1022?o:-1022:l):(n=n*898846567431158e293,u=o+-1023|0,l=(u|0)>1023,o=o+-2046|0,n=l?n*898846567431158e293:n,o=l?(o|0)<1023?o:1023:u),l=ft(o+1023|0,0,52)|0,u=V,r[H>>2]=l,r[H+4>>2]=u,+(n*+w[H>>3])}function S0(n,o){return n=+n,o=o|0,+ +Mi(n,o)}function Mi(n,o){n=+n,o=o|0;var l=0,u=0,c=0;switch(w[H>>3]=n,l=r[H>>2]|0,u=r[H+4>>2]|0,c=It(l|0,u|0,52)|0,c&2047){case 0:{n!=0?(n=+Mi(n*18446744073709552e3,o),l=(r[o>>2]|0)+-64|0):l=0,r[o>>2]=l;break}case 2047:break;default:r[o>>2]=(c&2047)+-1022,r[H>>2]=l,r[H+4>>2]=u&-2146435073|1071644672,n=+w[H>>3]}return+n}function Pi(n,o){return n=+n,o=+o,+ +E0(n,o)}function E0(n,o){n=+n,o=+o;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0;w[H>>3]=n,g=r[H>>2]|0,y=r[H+4>>2]|0,w[H>>3]=o,A=r[H>>2]|0,R=r[H+4>>2]|0,u=It(g|0,y|0,52)|0,u=u&2047,k=It(A|0,R|0,52)|0,k=k&2047,M=y&-2147483648,m=ft(A|0,R|0,1)|0,S=V;e:do if((m|0)==0&(S|0)==0?0:(c=y0(o)|0,l=V&2147483647,!((u|0)==2047|(l>>>0>2146435072|(l|0)==2146435072&c>>>0>0)))){if(l=ft(g|0,y|0,1)|0,c=V,!(c>>>0>S>>>0|(c|0)==(S|0)&l>>>0>m>>>0))return+((l|0)==(m|0)&(c|0)==(S|0)?n*0:n);if(u)m=y&1048575|1048576;else{if(l=ft(g|0,y|0,12)|0,c=V,(c|0)>-1|(c|0)==-1&l>>>0>4294967295){u=0;do u=u+-1|0,l=ft(l|0,c|0,1)|0,c=V;while((c|0)>-1|(c|0)==-1&l>>>0>4294967295)}else u=0;g=ft(g|0,y|0,1-u|0)|0,m=V}if(k)y=R&1048575|1048576;else{if(c=ft(A|0,R|0,12)|0,S=V,(S|0)>-1|(S|0)==-1&c>>>0>4294967295){l=0;do l=l+-1|0,c=ft(c|0,S|0,1)|0,S=V;while((S|0)>-1|(S|0)==-1&c>>>0>4294967295)}else l=0;A=ft(A|0,R|0,1-l|0)|0,k=l,y=V}c=Bt(g|0,m|0,A|0,y|0)|0,l=V,S=(l|0)>-1|(l|0)==-1&c>>>0>4294967295;t:do if((u|0)>(k|0)){for(;;){if(S){if((c|0)==0&(l|0)==0)break}else c=g,l=m;if(g=ft(c|0,l|0,1)|0,m=V,u=u+-1|0,c=Bt(g|0,m|0,A|0,y|0)|0,l=V,S=(l|0)>-1|(l|0)==-1&c>>>0>4294967295,(u|0)<=(k|0))break t}o=n*0;break e}while(0);if(S){if((c|0)==0&(l|0)==0){o=n*0;break}}else l=m,c=g;if(l>>>0<1048576|(l|0)==1048576&c>>>0<0)do c=ft(c|0,l|0,1)|0,l=V,u=u+-1|0;while(l>>>0<1048576|(l|0)==1048576&c>>>0<0);(u|0)>0?(R=et(c|0,l|0,0,-1048576)|0,l=V,u=ft(u|0,0,52)|0,l=l|V,u=R|u):(u=It(c|0,l|0,1-u|0)|0,l=V),r[H>>2]=u,r[H+4>>2]=l|M,o=+w[H>>3]}else P=3;while(0);return(P|0)==3&&(o=n*o,o=o/o),+o}function y0(n){n=+n;var o=0;return w[H>>3]=n,o=r[H>>2]|0,V=r[H+4>>2]|0,o|0}function w0(n,o){n=+n,o=+o;var l=0,u=0;return w[H>>3]=n,u=r[H>>2]|0,l=r[H+4>>2]|0,w[H>>3]=o,l=r[H+4>>2]&-2147483648|l&2147483647,r[H>>2]=u,r[H+4>>2]=l,+ +w[H>>3]}function bi(n,o){return n=+n,o=o|0,+ +br(n,o)}function xi(n){n=+n;var o=0,l=0;w[H>>3]=n,l=r[H+4>>2]|0,o=l&2147483647,r[H>>2]=r[H>>2],r[H+4>>2]=o,n=+w[H>>3];do if(o>>>0>1071748074)if(o>>>0>1077149696){n=1-0/n;break}else{n=1-2/(+ri(n*2)+2);break}else{if(o>>>0>1070618798){n=+ri(n*2),n=n/(n+2);break}o>>>0>1048575&&(n=+ri(n*-2),n=-n/(n+2))}while(0);return+((l|0)<0?-n:n)}function Ii(n,o){return n=+n,o=+o,+ +w0(n,o)}function $e(n,o){n=n|0,o=o|0;var l=0,u=0;if(l=T[n>>0]|0,u=T[o>>0]|0,l<<24>>24==0?1:l<<24>>24!=u<<24>>24)n=u;else{do n=n+1|0,o=o+1|0,l=T[n>>0]|0,u=T[o>>0]|0;while(!(l<<24>>24==0?1:l<<24>>24!=u<<24>>24));n=u}return(l&255)-(n&255)|0}function T0(n,o,l){return n=n|0,o=o|0,l=l|0,C0(n,2147483647,o,l)|0}function C0(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0,A=0;A=F,F=F+128|0,c=A+124|0,k=A,m=k,g=1176,S=m+124|0;do r[m>>2]=r[g>>2],m=m+4|0,g=g+4|0;while((m|0)<(S|0));return(o+-1|0)>>>0>2147483646?o?(o=Je()|0,r[o>>2]=75,o=-1):(n=c,o=1,y=4):y=4,(y|0)==4&&(y=-2-n|0,y=o>>>0>y>>>0?y:o,r[k+48>>2]=y,c=k+20|0,r[c>>2]=n,r[k+44>>2]=n,o=n+y|0,n=k+16|0,r[n>>2]=o,r[k+28>>2]=o,o=ii(k,l,u)|0,y&&(k=r[c>>2]|0,T[k+(((k|0)==(r[n>>2]|0))<<31>>31)>>0]=0)),F=A,o|0}function ii(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0;x=F,F=F+224|0,A=x+120|0,R=x+80|0,M=x,P=x+136|0,u=R,c=u+40|0;do r[u>>2]=0,u=u+4|0;while((u|0)<(c|0));return r[A>>2]=r[l>>2],(ni(0,o,A,M,R)|0)<0?l=-1:((r[n+76>>2]|0)>-1,l=r[n>>2]|0,k=l&32,(T[n+74>>0]|0)<1&&(r[n>>2]=l&-33),u=n+48|0,r[u>>2]|0?l=ni(n,o,A,M,R)|0:(c=n+44|0,m=r[c>>2]|0,r[c>>2]=P,g=n+28|0,r[g>>2]=P,S=n+20|0,r[S>>2]=P,r[u>>2]=80,y=n+16|0,r[y>>2]=P+80,l=ni(n,o,A,M,R)|0,m&&(je[r[n+36>>2]&15](n,0,0)|0,l=(r[S>>2]|0)==0?-1:l,r[c>>2]=m,r[u>>2]=0,r[y>>2]=0,r[g>>2]=0,r[S>>2]=0)),u=r[n>>2]|0,r[n>>2]=u|k,l=(u&32|0)==0?l:-1),F=x,l|0}function ni(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0;ue=F,F=F+64|0,ne=ue+16|0,oe=ue,J=ue+24|0,ve=ue+8|0,fe=ue+20|0,r[ne>>2]=o,Q=(n|0)!=0,Y=J+40|0,$=Y,J=J+39|0,j=ve+4|0,g=0,m=0,A=0;e:for(;;){do if((m|0)>-1)if((g|0)>(2147483647-m|0)){m=Je()|0,r[m>>2]=75,m=-1;break}else{m=g+m|0;break}while(0);if(g=T[o>>0]|0,g<<24>>24)S=o;else{L=87;break}t:for(;;){switch(g<<24>>24){case 37:{g=S,L=9;break t}case 0:{g=S;break t}}I=S+1|0,r[ne>>2]=I,g=T[I>>0]|0,S=I}t:do if((L|0)==9)for(;;){if(L=0,(T[S+1>>0]|0)!=37)break t;if(g=g+1|0,S=S+2|0,r[ne>>2]=S,(T[S>>0]|0)==37)L=9;else break}while(0);if(g=g-o|0,Q&&at(n,o,g),g|0){o=S;continue}y=S+1|0,g=(T[y>>0]|0)+-48|0,g>>>0<10?(I=(T[S+2>>0]|0)==36,D=I?g:-1,A=I?1:A,y=I?S+3|0:y):D=-1,r[ne>>2]=y,g=T[y>>0]|0,S=(g<<24>>24)+-32|0;t:do if(S>>>0<32)for(k=0,R=g;;){if(g=1<<S,!(g&75913)){g=R;break t}if(k=g|k,y=y+1|0,r[ne>>2]=y,g=T[y>>0]|0,S=(g<<24>>24)+-32|0,S>>>0>=32)break;R=g}else k=0;while(0);if(g<<24>>24==42){if(S=y+1|0,g=(T[S>>0]|0)+-48|0,g>>>0<10?(T[y+2>>0]|0)==36:0)r[c+(g<<2)>>2]=10,g=r[u+((T[S>>0]|0)+-48<<3)>>2]|0,A=1,y=y+3|0;else{if(A|0){m=-1;break}Q?(A=(r[l>>2]|0)+(4-1)&~(4-1),g=r[A>>2]|0,r[l>>2]=A+4,A=0,y=S):(g=0,A=0,y=S)}r[ne>>2]=y,I=(g|0)<0,g=I?0-g|0:g,k=I?k|8192:k}else{if(g=Li(ne)|0,(g|0)<0){m=-1;break}y=r[ne>>2]|0}do if((T[y>>0]|0)==46){if((T[y+1>>0]|0)!=42){r[ne>>2]=y+1,S=Li(ne)|0,y=r[ne>>2]|0;break}if(R=y+2|0,S=(T[R>>0]|0)+-48|0,S>>>0<10?(T[y+3>>0]|0)==36:0){r[c+(S<<2)>>2]=10,S=r[u+((T[R>>0]|0)+-48<<3)>>2]|0,y=y+4|0,r[ne>>2]=y;break}if(A|0){m=-1;break e}Q?(I=(r[l>>2]|0)+(4-1)&~(4-1),S=r[I>>2]|0,r[l>>2]=I+4):S=0,r[ne>>2]=R,y=R}else S=-1;while(0);for(x=0;;){if(((T[y>>0]|0)+-65|0)>>>0>57){m=-1;break e}if(I=y+1|0,r[ne>>2]=I,R=T[(T[y>>0]|0)+-65+(2670+(x*58|0))>>0]|0,M=R&255,(M+-1|0)>>>0<8)x=M,y=I;else break}if(!(R<<24>>24)){m=-1;break}P=(D|0)>-1;do if(R<<24>>24==19)if(P){m=-1;break e}else L=49;else{if(P){r[c+(D<<2)>>2]=M,P=u+(D<<3)|0,D=r[P+4>>2]|0,L=oe,r[L>>2]=r[P>>2],r[L+4>>2]=D,L=49;break}if(!Q){m=0;break e}Hi(oe,M,l)}while(0);if((L|0)==49?(L=0,!Q):0){g=0,o=I;continue}y=T[y>>0]|0,y=(x|0)!=0&(y&15|0)==3?y&-33:y,P=k&-65537,D=(k&8192|0)==0?k:P;t:do switch(y|0){case 110:switch((x&255)<<24>>24){case 0:{r[r[oe>>2]>>2]=m,g=0,o=I;continue e}case 1:{r[r[oe>>2]>>2]=m,g=0,o=I;continue e}case 2:{g=r[oe>>2]|0,r[g>>2]=m,r[g+4>>2]=((m|0)<0)<<31>>31,g=0,o=I;continue e}case 3:{N[r[oe>>2]>>1]=m,g=0,o=I;continue e}case 4:{T[r[oe>>2]>>0]=m,g=0,o=I;continue e}case 6:{r[r[oe>>2]>>2]=m,g=0,o=I;continue e}case 7:{g=r[oe>>2]|0,r[g>>2]=m,r[g+4>>2]=((m|0)<0)<<31>>31,g=0,o=I;continue e}default:{g=0,o=I;continue e}}case 112:{y=120,S=S>>>0>8?S:8,o=D|8,L=61;break}case 88:case 120:{o=D,L=61;break}case 111:{y=oe,o=r[y>>2]|0,y=r[y+4>>2]|0,M=A0(o,y,Y)|0,P=$-M|0,k=0,R=3134,S=(D&8|0)==0|(S|0)>(P|0)?S:P+1|0,P=D,L=67;break}case 105:case 100:if(y=oe,o=r[y>>2]|0,y=r[y+4>>2]|0,(y|0)<0){o=Bt(0,0,o|0,y|0)|0,y=V,k=oe,r[k>>2]=o,r[k+4>>2]=y,k=1,R=3134,L=66;break t}else{k=(D&2049|0)!=0&1,R=(D&2048|0)==0?(D&1|0)==0?3134:3136:3135,L=66;break t}case 117:{y=oe,k=0,R=3134,o=r[y>>2]|0,y=r[y+4>>2]|0,L=66;break}case 99:{T[J>>0]=r[oe>>2],o=J,k=0,R=3134,M=Y,y=1,S=P;break}case 109:{y=Je()|0,y=R0(r[y>>2]|0)|0,L=71;break}case 115:{y=r[oe>>2]|0,y=y|0?y:3144,L=71;break}case 67:{r[ve>>2]=r[oe>>2],r[j>>2]=0,r[oe>>2]=ve,M=-1,y=ve,L=75;break}case 83:{o=r[oe>>2]|0,S?(M=S,y=o,L=75):(ct(n,32,g,0,D),o=0,L=84);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{g=O0(n,+w[oe>>3],g,S,D,y)|0,o=I;continue e}default:k=0,R=3134,M=Y,y=S,S=D}while(0);t:do if((L|0)==61)D=oe,x=r[D>>2]|0,D=r[D+4>>2]|0,M=k0(x,D,Y,y&32)|0,R=(o&8|0)==0|(x|0)==0&(D|0)==0,k=R?0:2,R=R?3134:3134+(y>>4)|0,P=o,o=x,y=D,L=67;else if((L|0)==66)M=ur(o,y,Y)|0,P=D,L=67;else if((L|0)==71)L=0,D=xr(y,0,S)|0,x=(D|0)==0,o=y,k=0,R=3134,M=x?y+S|0:D,y=x?S:D-y|0,S=P;else if((L|0)==75){for(L=0,R=y,o=0,S=0;k=r[R>>2]|0,!(!k||(S=Bi(fe,k)|0,(S|0)<0|S>>>0>(M-o|0)>>>0));)if(o=S+o|0,M>>>0>o>>>0)R=R+4|0;else break;if((S|0)<0){m=-1;break e}if(ct(n,32,g,o,D),!o)o=0,L=84;else for(k=0;;){if(S=r[y>>2]|0,!S){L=84;break t}if(S=Bi(fe,S)|0,k=S+k|0,(k|0)>(o|0)){L=84;break t}if(at(n,fe,S),k>>>0>=o>>>0){L=84;break}else y=y+4|0}}while(0);if((L|0)==67)L=0,y=(o|0)!=0|(y|0)!=0,D=(S|0)!=0|y,y=((y^1)&1)+($-M)|0,o=D?M:Y,M=Y,y=D?(S|0)>(y|0)?S:y:S,S=(S|0)>-1?P&-65537:P;else if((L|0)==84){L=0,ct(n,32,g,o,D^8192),g=(g|0)>(o|0)?g:o,o=I;continue}x=M-o|0,P=(y|0)<(x|0)?x:y,D=P+k|0,g=(g|0)<(D|0)?D:g,ct(n,32,g,D,S),at(n,R,k),ct(n,48,g,D,S^65536),ct(n,48,P,x,0),at(n,o,x),ct(n,32,g,D,S^8192),o=I}e:do if((L|0)==87&&!n)if(!A)m=0;else{for(m=1;o=r[c+(m<<2)>>2]|0,!!o;)if(Hi(u+(m<<3)|0,o,l),m=m+1|0,(m|0)>=10){m=1;break e}for(;;){if(r[c+(m<<2)>>2]|0){m=-1;break e}if(m=m+1|0,(m|0)>=10){m=1;break}}}while(0);return F=ue,m|0}function Di(n){return 0}function at(n,o,l){n=n|0,o=o|0,l=l|0,r[n>>2]&32||si(o,l,n)|0}function Li(n){n=n|0;var o=0,l=0,u=0;if(l=r[n>>2]|0,u=(T[l>>0]|0)+-48|0,u>>>0<10){o=0;do o=u+(o*10|0)|0,l=l+1|0,r[n>>2]=l,u=(T[l>>0]|0)+-48|0;while(u>>>0<10)}else o=0;return o|0}function Hi(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0;e:do if(o>>>0<=20)do switch(o|0){case 9:{u=(r[l>>2]|0)+(4-1)&~(4-1),o=r[u>>2]|0,r[l>>2]=u+4,r[n>>2]=o;break e}case 10:{u=(r[l>>2]|0)+(4-1)&~(4-1),o=r[u>>2]|0,r[l>>2]=u+4,u=n,r[u>>2]=o,r[u+4>>2]=((o|0)<0)<<31>>31;break e}case 11:{u=(r[l>>2]|0)+(4-1)&~(4-1),o=r[u>>2]|0,r[l>>2]=u+4,u=n,r[u>>2]=o,r[u+4>>2]=0;break e}case 12:{u=(r[l>>2]|0)+(8-1)&~(8-1),o=u,c=r[o>>2]|0,o=r[o+4>>2]|0,r[l>>2]=u+8,u=n,r[u>>2]=c,r[u+4>>2]=o;break e}case 13:{c=(r[l>>2]|0)+(4-1)&~(4-1),u=r[c>>2]|0,r[l>>2]=c+4,u=(u&65535)<<16>>16,c=n,r[c>>2]=u,r[c+4>>2]=((u|0)<0)<<31>>31;break e}case 14:{c=(r[l>>2]|0)+(4-1)&~(4-1),u=r[c>>2]|0,r[l>>2]=c+4,c=n,r[c>>2]=u&65535,r[c+4>>2]=0;break e}case 15:{c=(r[l>>2]|0)+(4-1)&~(4-1),u=r[c>>2]|0,r[l>>2]=c+4,u=(u&255)<<24>>24,c=n,r[c>>2]=u,r[c+4>>2]=((u|0)<0)<<31>>31;break e}case 16:{c=(r[l>>2]|0)+(4-1)&~(4-1),u=r[c>>2]|0,r[l>>2]=c+4,c=n,r[c>>2]=u&255,r[c+4>>2]=0;break e}case 17:{c=(r[l>>2]|0)+(8-1)&~(8-1),m=+w[c>>3],r[l>>2]=c+8,w[n>>3]=m;break e}case 18:{c=(r[l>>2]|0)+(8-1)&~(8-1),m=+w[c>>3],r[l>>2]=c+8,w[n>>3]=m;break e}default:break e}while(0);while(0)}function k0(n,o,l,u){if(n=n|0,o=o|0,l=l|0,u=u|0,!((n|0)==0&(o|0)==0))do l=l+-1|0,T[l>>0]=b[3182+(n&15)>>0]|0|u,n=It(n|0,o|0,4)|0,o=V;while(!((n|0)==0&(o|0)==0));return l|0}function A0(n,o,l){if(n=n|0,o=o|0,l=l|0,!((n|0)==0&(o|0)==0))do l=l+-1|0,T[l>>0]=n&7|48,n=It(n|0,o|0,3)|0,o=V;while(!((n|0)==0&(o|0)==0));return l|0}function ur(n,o,l){n=n|0,o=o|0,l=l|0;var u=0;if(o>>>0>0|(o|0)==0&n>>>0>4294967295){for(;u=Vr(n|0,o|0,10,0)|0,l=l+-1|0,T[l>>0]=u&255|48,u=n,n=wr(n|0,o|0,10,0)|0,o>>>0>9|(o|0)==9&u>>>0>4294967295;)o=V;o=n}else o=n;if(o)for(;l=l+-1|0,T[l>>0]=(o>>>0)%10|0|48,!(o>>>0<10);)o=(o>>>0)/10|0;return l|0}function R0(n){n=n|0;var o=0;return o=(M0()|0)+188|0,P0(n,r[o>>2]|0)|0}function xr(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;m=o&255,u=(l|0)!=0;e:do if(u&(n&3|0)!=0)for(c=o&255;;){if((T[n>>0]|0)==c<<24>>24){g=6;break e}if(n=n+1|0,l=l+-1|0,u=(l|0)!=0,!(u&(n&3|0)!=0)){g=5;break}}else g=5;while(0);(g|0)==5&&(u?g=6:l=0);e:do if((g|0)==6&&(c=o&255,(T[n>>0]|0)!=c<<24>>24)){u=te(m,16843009)|0;t:do if(l>>>0>3){for(;m=r[n>>2]^u,!((m&-2139062144^-2139062144)&m+-16843009|0);)if(n=n+4|0,l=l+-4|0,l>>>0<=3){g=11;break t}}else g=11;while(0);if((g|0)==11&&!l){l=0;break}for(;;){if((T[n>>0]|0)==c<<24>>24)break e;if(n=n+1|0,l=l+-1|0,!l){l=0;break}}}while(0);return(l|0?n:0)|0}function ct(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0;if(g=F,F=F+256|0,m=g,(l|0)>(u|0)&(c&73728|0)==0){if(c=l-u|0,Tt(m|0,o|0,(c>>>0<256?c:256)|0)|0,c>>>0>255){o=l-u|0;do at(n,m,256),c=c+-256|0;while(c>>>0>255);c=o&255}at(n,m,c)}F=g}function Bi(n,o){return n=n|0,o=o|0,n?n=F0(n,o,0)|0:n=0,n|0}function O0(n,o,l,u,c,m){n=n|0,o=+o,l=l|0,u=u|0,c=c|0,m=m|0;var g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0;me=F,F=F+560|0,y=me+8|0,I=me,ue=me+524|0,fe=ue,k=me+512|0,r[I>>2]=0,ve=k+12|0,Ui(o)|0,(V|0)<0?(o=-o,ne=1,j=3151):(ne=(c&2049|0)!=0&1,j=(c&2048|0)==0?(c&1|0)==0?3152:3157:3154),Ui(o)|0,oe=V&2146435072;do if(oe>>>0<2146435072|(oe|0)==2146435072&0<0){if(P=+S0(o,I)*2,g=P!=0,g&&(r[I>>2]=(r[I>>2]|0)+-1),Q=m|32,(Q|0)==97){x=m&32,M=(x|0)==0?j:j+9|0,R=ne|2,g=12-u|0;do if(u>>>0>11|(g|0)==0)o=P;else{o=8;do g=g+-1|0,o=o*16;while((g|0)!=0);if((T[M>>0]|0)==45){o=-(o+(-P-o));break}else{o=P+o-o;break}}while(0);S=r[I>>2]|0,g=(S|0)<0?0-S|0:S,g=ur(g,((g|0)<0)<<31>>31,ve)|0,(g|0)==(ve|0)&&(g=k+11|0,T[g>>0]=48),T[g+-1>>0]=(S>>31&2)+43,A=g+-2|0,T[A>>0]=m+15,k=(u|0)<1,y=(c&8|0)==0,g=ue;do oe=~~o,S=g+1|0,T[g>>0]=b[3182+oe>>0]|x,o=(o-+(oe|0))*16,((S-fe|0)==1?!(y&(k&o==0)):0)?(T[S>>0]=46,g=g+2|0):g=S;while(o!=0);oe=g-fe|0,fe=ve-A|0,ve=(u|0)!=0&(oe+-2|0)<(u|0)?u+2|0:oe,g=fe+R+ve|0,ct(n,32,l,g,c),at(n,M,R),ct(n,48,l,g,c^65536),at(n,ue,oe),ct(n,48,ve-oe|0,0,0),at(n,A,fe),ct(n,32,l,g,c^8192);break}S=(u|0)<0?6:u,g?(g=(r[I>>2]|0)+-28|0,r[I>>2]=g,o=P*268435456):(o=P,g=r[I>>2]|0),oe=(g|0)<0?y:y+288|0,y=oe;do $=~~o>>>0,r[y>>2]=$,y=y+4|0,o=(o-+($>>>0))*1e9;while(o!=0);if((g|0)>0)for(k=oe,R=y;;){if(A=(g|0)<29?g:29,g=R+-4|0,g>>>0>=k>>>0){y=0;do Y=ft(r[g>>2]|0,0,A|0)|0,Y=et(Y|0,V|0,y|0,0)|0,$=V,L=Vr(Y|0,$|0,1e9,0)|0,r[g>>2]=L,y=wr(Y|0,$|0,1e9,0)|0,g=g+-4|0;while(g>>>0>=k>>>0);y&&(k=k+-4|0,r[k>>2]=y)}for(y=R;!(y>>>0<=k>>>0);)if(g=y+-4|0,!(r[g>>2]|0))y=g;else break;if(g=(r[I>>2]|0)-A|0,r[I>>2]=g,(g|0)>0)R=y;else break}else k=oe;if((g|0)<0){u=((S+25|0)/9|0)+1|0,D=(Q|0)==102;do{if(x=0-g|0,x=(x|0)<9?x:9,k>>>0<y>>>0){A=(1<<x)+-1|0,R=1e9>>>x,M=0,g=k;do $=r[g>>2]|0,r[g>>2]=($>>>x)+M,M=te($&A,R)|0,g=g+4|0;while(g>>>0<y>>>0);g=(r[k>>2]|0)==0?k+4|0:k,M?(r[y>>2]=M,k=g,g=y+4|0):(k=g,g=y)}else k=(r[k>>2]|0)==0?k+4|0:k,g=y;y=D?oe:k,y=(g-y>>2|0)>(u|0)?y+(u<<2)|0:g,g=(r[I>>2]|0)+x|0,r[I>>2]=g}while((g|0)<0);g=k,u=y}else g=k,u=y;if($=oe,g>>>0<u>>>0){if(y=($-g>>2)*9|0,A=r[g>>2]|0,A>>>0>=10){k=10;do k=k*10|0,y=y+1|0;while(A>>>0>=k>>>0)}}else y=0;if(D=(Q|0)==103,L=(S|0)!=0,k=S-((Q|0)!=102?y:0)+((L&D)<<31>>31)|0,(k|0)<(((u-$>>2)*9|0)+-9|0)){if(k=k+9216|0,x=oe+4+(((k|0)/9|0)+-1024<<2)|0,k=((k|0)%9|0)+1|0,(k|0)<9){A=10;do A=A*10|0,k=k+1|0;while((k|0)!=9)}else A=10;if(R=r[x>>2]|0,M=(R>>>0)%(A>>>0)|0,k=(x+4|0)==(u|0),k&(M|0)==0)k=x;else if(P=(((R>>>0)/(A>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,Y=(A|0)/2|0,o=M>>>0<Y>>>0?.5:k&(M|0)==(Y|0)?1:1.5,ne&&(Y=(T[j>>0]|0)==45,o=Y?-o:o,P=Y?-P:P),k=R-M|0,r[x>>2]=k,P+o!=P){if(Y=k+A|0,r[x>>2]=Y,Y>>>0>999999999)for(y=x;k=y+-4|0,r[y>>2]=0,k>>>0<g>>>0&&(g=g+-4|0,r[g>>2]=0),Y=(r[k>>2]|0)+1|0,r[k>>2]=Y,Y>>>0>999999999;)y=k;else k=x;if(y=($-g>>2)*9|0,R=r[g>>2]|0,R>>>0>=10){A=10;do A=A*10|0,y=y+1|0;while(R>>>0>=A>>>0)}}else k=x;k=k+4|0,k=u>>>0>k>>>0?k:u,Y=g}else k=u,Y=g;for(Q=k;;){if(Q>>>0<=Y>>>0){I=0;break}if(g=Q+-4|0,!(r[g>>2]|0))Q=g;else{I=1;break}}u=0-y|0;do if(D)if(g=((L^1)&1)+S|0,(g|0)>(y|0)&(y|0)>-5?(A=m+-1|0,S=g+-1-y|0):(A=m+-2|0,S=g+-1|0),g=c&8,g)x=g;else{if(I?(J=r[Q+-4>>2]|0,(J|0)!=0):0)if((J>>>0)%10|0)k=0;else{k=0,g=10;do g=g*10|0,k=k+1|0;while(!((J>>>0)%(g>>>0)|0|0))}else k=9;if(g=((Q-$>>2)*9|0)+-9|0,(A|32|0)==102){x=g-k|0,x=(x|0)>0?x:0,S=(S|0)<(x|0)?S:x,x=0;break}else{x=g+y-k|0,x=(x|0)>0?x:0,S=(S|0)<(x|0)?S:x,x=0;break}}else A=m,x=c&8;while(0);if(D=S|x,R=(D|0)!=0&1,M=(A|32|0)==102,M)L=0,g=(y|0)>0?y:0;else{if(g=(y|0)<0?u:y,g=ur(g,((g|0)<0)<<31>>31,ve)|0,k=ve,(k-g|0)<2)do g=g+-1|0,T[g>>0]=48;while((k-g|0)<2);T[g+-1>>0]=(y>>31&2)+43,g=g+-2|0,T[g>>0]=A,L=g,g=k-g|0}if(g=ne+1+S+R+g|0,ct(n,32,l,g,c),at(n,j,ne),ct(n,48,l,g,c^65536),M){A=Y>>>0>oe>>>0?oe:Y,x=ue+9|0,R=x,M=ue+8|0,k=A;do{if(y=ur(r[k>>2]|0,0,x)|0,(k|0)==(A|0))(y|0)==(x|0)&&(T[M>>0]=48,y=M);else if(y>>>0>ue>>>0){Tt(ue|0,48,y-fe|0)|0;do y=y+-1|0;while(y>>>0>ue>>>0)}at(n,y,R-y|0),k=k+4|0}while(k>>>0<=oe>>>0);if(D|0&&at(n,3198,1),k>>>0<Q>>>0&(S|0)>0)for(;;){if(y=ur(r[k>>2]|0,0,x)|0,y>>>0>ue>>>0){Tt(ue|0,48,y-fe|0)|0;do y=y+-1|0;while(y>>>0>ue>>>0)}if(at(n,y,(S|0)<9?S:9),k=k+4|0,y=S+-9|0,k>>>0<Q>>>0&(S|0)>9)S=y;else{S=y;break}}ct(n,48,S+9|0,9,0)}else{if(D=I?Q:Y+4|0,(S|0)>-1){I=ue+9|0,x=(x|0)==0,u=I,R=0-fe|0,M=ue+8|0,A=Y;do{y=ur(r[A>>2]|0,0,I)|0,(y|0)==(I|0)&&(T[M>>0]=48,y=M);do if((A|0)==(Y|0)){if(k=y+1|0,at(n,y,1),x&(S|0)<1){y=k;break}at(n,3198,1),y=k}else{if(y>>>0<=ue>>>0)break;Tt(ue|0,48,y+R|0)|0;do y=y+-1|0;while(y>>>0>ue>>>0)}while(0);fe=u-y|0,at(n,y,(S|0)>(fe|0)?fe:S),S=S-fe|0,A=A+4|0}while(A>>>0<D>>>0&(S|0)>-1)}ct(n,48,S+18|0,18,0),at(n,L,ve-L|0)}ct(n,32,l,g,c^8192)}else ue=(m&32|0)!=0,g=ne+3|0,ct(n,32,l,g,c&-65537),at(n,j,ne),at(n,o!=o|!1?ue?5367:3178:ue?3170:3174,3),ct(n,32,l,g,c^8192);while(0);return F=me,((g|0)<(l|0)?l:g)|0}function Ui(n){n=+n;var o=0;return w[H>>3]=n,o=r[H>>2]|0,V=r[H+4>>2]|0,o|0}function F0(n,o,l){n=n|0,o=o|0,l=l|0;do if(n){if(o>>>0<128){T[n>>0]=o,n=1;break}if(l=(N0()|0)+188|0,!(r[r[l>>2]>>2]|0))if((o&-128|0)==57216){T[n>>0]=o,n=1;break}else{n=Je()|0,r[n>>2]=84,n=-1;break}if(o>>>0<2048){T[n>>0]=o>>>6|192,T[n+1>>0]=o&63|128,n=2;break}if(o>>>0<55296|(o&-8192|0)==57344){T[n>>0]=o>>>12|224,T[n+1>>0]=o>>>6&63|128,T[n+2>>0]=o&63|128,n=3;break}if((o+-65536|0)>>>0<1048576){T[n>>0]=o>>>18|240,T[n+1>>0]=o>>>12&63|128,T[n+2>>0]=o>>>6&63|128,T[n+3>>0]=o&63|128,n=4;break}else{n=Je()|0,r[n>>2]=84,n=-1;break}}else n=1;while(0);return n|0}function N0(){return Er()|0}function M0(){return Er()|0}function P0(n,o){n=n|0,o=o|0;var l=0,u=0;for(u=0;;){if((b[3200+u>>0]|0)==(n|0)){n=2;break}if(l=u+1|0,(l|0)==87){l=3288,u=87,n=5;break}else u=l}if((n|0)==2&&(u?(l=3288,n=5):l=3288),(n|0)==5)for(;;){do n=l,l=l+1|0;while((T[n>>0]|0)!=0);if(u=u+-1|0,u)n=5;else break}return b0(l,r[o+20>>2]|0)|0}function b0(n,o){return n=n|0,o=o|0,x0(n,o)|0}function x0(n,o){return n=n|0,o=o|0,o?o=I0(r[o>>2]|0,r[o+4>>2]|0,n)|0:o=0,(o|0?o:n)|0}function I0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0;M=(r[n>>2]|0)+1794895138|0,m=Qt(r[n+8>>2]|0,M)|0,u=Qt(r[n+12>>2]|0,M)|0,c=Qt(r[n+16>>2]|0,M)|0;e:do if((m>>>0<o>>>2>>>0?(R=o-(m<<2)|0,u>>>0<R>>>0&c>>>0<R>>>0):0)?((c|u)&3|0)==0:0){for(R=u>>>2,A=c>>>2,k=0;;){if(S=m>>>1,y=k+S|0,g=y<<1,c=g+R|0,u=Qt(r[n+(c<<2)>>2]|0,M)|0,c=Qt(r[n+(c+1<<2)>>2]|0,M)|0,!(c>>>0<o>>>0&u>>>0<(o-c|0)>>>0)){u=0;break e}if(T[n+(c+u)>>0]|0){u=0;break e}if(u=$e(l,n+c|0)|0,!u)break;if(u=(u|0)<0,(m|0)==1){u=0;break e}else k=u?k:y,m=u?S:m-S|0}u=g+A|0,c=Qt(r[n+(u<<2)>>2]|0,M)|0,u=Qt(r[n+(u+1<<2)>>2]|0,M)|0,u>>>0<o>>>0&c>>>0<(o-u|0)>>>0?u=(T[n+(u+c)>>0]|0)==0?n+u|0:0:u=0}else u=0;while(0);return u|0}function Qt(n,o){n=n|0,o=o|0;var l=0;return l=un(n|0)|0,((o|0)==0?n:l)|0}function si(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0;u=l+16|0,c=r[u>>2]|0,c?m=5:Vi(l)|0?u=0:(c=r[u>>2]|0,m=5);e:do if((m|0)==5){if(S=l+20|0,g=r[S>>2]|0,u=g,(c-g|0)>>>0<o>>>0){u=je[r[l+36>>2]&15](l,n,o)|0;break}t:do if((T[l+75>>0]|0)>-1){for(g=o;;){if(!g){m=0,c=n;break t}if(c=g+-1|0,(T[n+c>>0]|0)==10)break;g=c}if(u=je[r[l+36>>2]&15](l,n,g)|0,u>>>0<g>>>0)break e;m=g,c=n+g|0,o=o-g|0,u=r[S>>2]|0}else m=0,c=n;while(0);st(u|0,c|0,o|0)|0,r[S>>2]=(r[S>>2]|0)+o,u=m+o|0}while(0);return u|0}function Vi(n){n=n|0;var o=0,l=0;return o=n+74|0,l=T[o>>0]|0,T[o>>0]=l+255|l,o=r[n>>2]|0,o&8?(r[n>>2]=o|32,n=-1):(r[n+8>>2]=0,r[n+4>>2]=0,l=r[n+44>>2]|0,r[n+28>>2]=l,r[n+20>>2]=l,r[n+16>>2]=l+(r[n+48>>2]|0),n=0),n|0}function D0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;return u=n+20|0,c=r[u>>2]|0,n=(r[n+16>>2]|0)-c|0,n=n>>>0>l>>>0?l:n,st(c|0,o|0,n|0)|0,r[u>>2]=(r[u>>2]|0)+n,l|0}function L0(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0;return y=F,F=F+128|0,g=y,r[g>>2]=0,S=g+4|0,r[S>>2]=n,r[g+44>>2]=n,m=g+8|0,r[m>>2]=(n|0)<0?-1:n+2147483647|0,r[g+76>>2]=-1,wt(g,0),l=Gi(g,l,1,u,c)|0,o|0&&(r[o>>2]=n+((r[S>>2]|0)+(r[g+108>>2]|0)-(r[m>>2]|0))),F=y,l|0}function wt(n,o){n=n|0,o=o|0;var l=0,u=0,c=0;r[n+104>>2]=o,l=r[n+8>>2]|0,u=r[n+4>>2]|0,c=l-u|0,r[n+108>>2]=c,r[n+100>>2]=(o|0)!=0&(c|0)>(o|0)?u+o|0:l}function Gi(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0;e:do if(o>>>0>36)c=Je()|0,r[c>>2]=22,c=0,u=0;else{x=n+4|0,P=n+100|0;do m=r[x>>2]|0,m>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=m+1,m=b[m>>0]|0):m=Le(n)|0;while((Zt(m)|0)!=0);t:do switch(m|0){case 43:case 45:if(m=((m|0)==45)<<31>>31,g=r[x>>2]|0,g>>>0<(r[P>>2]|0)>>>0){r[x>>2]=g+1,M=m,m=b[g>>0]|0;break t}else{M=m,m=Le(n)|0;break t}default:M=0}while(0);g=(o|0)==0;do if((o|16|0)==16&(m|0)==48){if(m=r[x>>2]|0,m>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=m+1,m=b[m>>0]|0):m=Le(n)|0,(m|32|0)!=120)if(g){o=8,A=46;break}else{A=32;break}if(m=r[x>>2]|0,m>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=m+1,m=b[m>>0]|0):m=Le(n)|0,(b[5093+m>>0]|0)>15){if(u=(r[P>>2]|0)!=0,u&&(r[x>>2]=(r[x>>2]|0)+-1),!l){wt(n,0),c=0,u=0;break e}if(!u){c=0,u=0;break e}r[x>>2]=(r[x>>2]|0)+-1,c=0,u=0;break e}else o=16,A=46}else if(o=g?10:o,(b[5093+m>>0]|0)>>>0<o>>>0)A=32;else{r[P>>2]|0&&(r[x>>2]=(r[x>>2]|0)+-1),wt(n,0),c=Je()|0,r[c>>2]=22,c=0,u=0;break e}while(0);t:do if((A|0)==32)if((o|0)==10){if(o=m+-48|0,o>>>0<10){m=0,g=o;do m=(m*10|0)+g|0,o=r[x>>2]|0,o>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0,g=o+-48|0;while(g>>>0<10&m>>>0<429496729);l=0}else o=m,m=0,l=0;if(S=o+-48|0,S>>>0<10){g=o;do{if(o=Tr(m|0,l|0,10,0)|0,y=V,k=((S|0)<0)<<31>>31,R=~k,y>>>0>R>>>0|(y|0)==(R|0)&o>>>0>~S>>>0){o=10,A=72;break t}m=et(o|0,y|0,S|0,k|0)|0,l=V,o=r[x>>2]|0,o>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=o+1,g=b[o>>0]|0):g=Le(n)|0,S=g+-48|0}while(S>>>0<10&(l>>>0<429496729|(l|0)==429496729&m>>>0<2576980378));S>>>0>9?(g=M,o=l):(o=10,A=72)}else g=M,o=l}else A=46;while(0);t:do if((A|0)==46){if(!(o+-1&o)){if(A=T[5349+((o*23|0)>>>5&7)>>0]|0,l=T[5093+m>>0]|0,g=l&255,g>>>0<o>>>0){m=0,S=g;do m=S|m<<A,g=r[x>>2]|0,g>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=g+1,g=b[g>>0]|0):g=Le(n)|0,l=T[5093+g>>0]|0,S=l&255;while(m>>>0<134217728&S>>>0<o>>>0);S=0}else g=m,S=0,m=0;if(y=It(-1,-1,A|0)|0,k=V,(l&255)>>>0>=o>>>0|(S>>>0>k>>>0|(S|0)==(k|0)&m>>>0>y>>>0)){l=S,A=72;break}else g=S;for(;;)if(m=ft(m|0,g|0,A|0)|0,S=V,m=l&255|m,g=r[x>>2]|0,g>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=g+1,g=b[g>>0]|0):g=Le(n)|0,l=T[5093+g>>0]|0,(l&255)>>>0>=o>>>0|(S>>>0>k>>>0|(S|0)==(k|0)&m>>>0>y>>>0)){l=S,A=72;break t}else g=S}if(l=T[5093+m>>0]|0,g=l&255,g>>>0<o>>>0){m=0,S=g;do m=S+(te(m,o)|0)|0,g=r[x>>2]|0,g>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=g+1,g=b[g>>0]|0):g=Le(n)|0,l=T[5093+g>>0]|0,S=l&255;while(m>>>0<119304647&S>>>0<o>>>0);S=0}else g=m,m=0,S=0;if((l&255)>>>0<o>>>0)for(A=wr(-1,-1,o|0,0)|0,R=V,k=S;;){if(k>>>0>R>>>0|(k|0)==(R|0)&m>>>0>A>>>0){l=k,A=72;break t}if(S=Tr(m|0,k|0,o|0,0)|0,y=V,l=l&255,y>>>0>4294967295|(y|0)==-1&S>>>0>~l>>>0){l=k,A=72;break t}if(m=et(l|0,0,S|0,y|0)|0,S=V,g=r[x>>2]|0,g>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=g+1,g=b[g>>0]|0):g=Le(n)|0,l=T[5093+g>>0]|0,(l&255)>>>0>=o>>>0){l=S,A=72;break}else k=S}else l=S,A=72}while(0);if((A|0)==72)if((b[5093+g>>0]|0)>>>0<o>>>0){do m=r[x>>2]|0,m>>>0<(r[P>>2]|0)>>>0?(r[x>>2]=m+1,m=b[m>>0]|0):m=Le(n)|0;while((b[5093+m>>0]|0)>>>0<o>>>0);g=Je()|0,r[g>>2]=34,g=(u&1|0)==0&!0?M:0,o=c,m=u}else g=M,o=l;if(r[P>>2]|0&&(r[x>>2]=(r[x>>2]|0)+-1),!(o>>>0<c>>>0|(o|0)==(c|0)&m>>>0<u>>>0)){if(!((u&1|0)!=0|!1|(g|0)!=0)){x=Je()|0,r[x>>2]=34,u=et(u|0,c|0,-1,-1)|0,c=V;break}if(o>>>0>c>>>0|(o|0)==(c|0)&m>>>0>u>>>0){x=Je()|0,r[x>>2]=34;break}}u=((g|0)<0)<<31>>31,u=Bt(m^g|0,o^u|0,g|0,u|0)|0,c=V}while(0);return V=c,u|0}function Le(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0;return l=n+104|0,g=r[l>>2]|0,((g|0)!=0?(r[n+108>>2]|0)>=(g|0):0)?S=4:(o=Ir(n)|0,(o|0)>=0?(u=r[l>>2]|0,l=n+8|0,u?(m=r[l>>2]|0,l=r[n+4>>2]|0,c=n+108|0,u=u-(r[c>>2]|0)|0,g=m,(m-l|0)<(u|0)?(m=g,u=g):(m=l+(u+-1)|0,u=g)):(u=r[l>>2]|0,c=n+108|0,m=u,l=r[n+4>>2]|0),r[n+100>>2]=m,u|0&&(r[c>>2]=u+1-l+(r[c>>2]|0)),l=l+-1|0,(b[l>>0]|0|0)!=(o|0)&&(T[l>>0]=o)):S=4),(S|0)==4&&(r[n+100>>2]=0,o=-1),o|0}function Zt(n){return n=n|0,((n|0)==32|(n+-9|0)>>>0<5)&1|0}function Ir(n){n=n|0;var o=0,l=0;return l=F,F=F+16|0,o=l,((zi(n)|0)==0?(je[r[n+32>>2]&15](n,o,1)|0)==1:0)?n=b[o>>0]|0:n=-1,F=l,n|0}function zi(n){n=n|0;var o=0,l=0;return o=n+74|0,l=T[o>>0]|0,T[o>>0]=l+255|l,o=n+20|0,l=n+28|0,(r[o>>2]|0)>>>0>(r[l>>2]|0)>>>0&&je[r[n+36>>2]&15](n,0,0)|0,r[n+16>>2]=0,r[l>>2]=0,r[o>>2]=0,o=r[n>>2]|0,o&4?(r[n>>2]=o|32,o=-1):(l=(r[n+44>>2]|0)+(r[n+48>>2]|0)|0,r[n+8>>2]=l,r[n+4>>2]=l,o=o<<27>>31),o|0}function Vt(n){return n=n|0,+ +cr(n,0)}function cr(n,o){return n=n|0,o=o|0,+ +H0(n,o,1)}function H0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0;S=F,F=F+128|0,g=S,c=g,m=c+124|0;do r[c>>2]=0,c=c+4|0;while((c|0)<(m|0));return c=g+4|0,r[c>>2]=n,m=g+8|0,r[m>>2]=-1,r[g+44>>2]=n,r[g+76>>2]=-1,wt(g,0),u=+Ki(g,l,1),l=(r[c>>2]|0)-(r[m>>2]|0)+(r[g+108>>2]|0)|0,o|0&&(r[o>>2]=l|0?n+l|0:n),F=S,+u}function Ki(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0;switch(o|0){case 0:{y=-149,k=24,g=4;break}case 1:{y=-1074,k=53,g=4;break}case 2:{y=-1074,k=53,g=4;break}default:u=0}e:do if((g|0)==4){R=n+4|0,A=n+100|0;do o=r[R>>2]|0,o>>>0<(r[A>>2]|0)>>>0?(r[R>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0;while((Zt(o)|0)!=0);t:do switch(o|0){case 43:case 45:if(m=1-(((o|0)==45&1)<<1)|0,o=r[R>>2]|0,o>>>0<(r[A>>2]|0)>>>0){r[R>>2]=o+1,c=b[o>>0]|0;break t}else{c=Le(n)|0;break t}default:c=o,m=1}while(0);o=0;do{if((c|32|0)!=(T[5358+o>>0]|0))break;do if(o>>>0<7)if(c=r[R>>2]|0,c>>>0<(r[A>>2]|0)>>>0){r[R>>2]=c+1,c=b[c>>0]|0;break}else{c=Le(n)|0;break}while(0);o=o+1|0}while(o>>>0<8);t:do switch(o|0){case 8:break;case 3:{g=23;break}default:{if(S=(l|0)!=0,S&o>>>0>3){if((o|0)==8)break t;g=23;break t}r:do if(!o){o=0;do{if((c|32|0)!=(T[5367+o>>0]|0))break r;do if(o>>>0<2)if(c=r[R>>2]|0,c>>>0<(r[A>>2]|0)>>>0){r[R>>2]=c+1,c=b[c>>0]|0;break}else{c=Le(n)|0;break}while(0);o=o+1|0}while(o>>>0<3)}while(0);switch(o|0){case 3:{if(o=r[R>>2]|0,o>>>0<(r[A>>2]|0)>>>0?(r[R>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0,(o|0)==40)o=1;else{if(!(r[A>>2]|0)){u=q;break e}r[R>>2]=(r[R>>2]|0)+-1,u=q;break e}for(;c=r[R>>2]|0,c>>>0<(r[A>>2]|0)>>>0?(r[R>>2]=c+1,c=b[c>>0]|0):c=Le(n)|0,!((c+-48|0)>>>0<10|(c+-65|0)>>>0<26?0:!((c|0)==95|(c+-97|0)>>>0<26));)o=o+1|0;if((c|0)==41){u=q;break e}if(c=(r[A>>2]|0)==0,c||(r[R>>2]=(r[R>>2]|0)+-1),!S){R=Je()|0,r[R>>2]=22,wt(n,0),u=0;break e}if(!o){u=q;break e}for(;;)if(o=o+-1|0,c||(r[R>>2]=(r[R>>2]|0)+-1),!o){u=q;break e}}case 0:{if((c|0)==48){if(o=r[R>>2]|0,o>>>0<(r[A>>2]|0)>>>0?(r[R>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0,(o|32|0)==120){u=+B0(n,k,y,m,l);break e}r[A>>2]|0&&(r[R>>2]=(r[R>>2]|0)+-1),o=48}else o=c;u=+U0(n,o,k,y,m,l);break e}default:{r[A>>2]|0&&(r[R>>2]=(r[R>>2]|0)+-1),R=Je()|0,r[R>>2]=22,wt(n,0),u=0;break e}}}}while(0);if((g|0)==23&&(c=(r[A>>2]|0)==0,c||(r[R>>2]=(r[R>>2]|0)+-1),(l|0)!=0&o>>>0>3))do c||(r[R>>2]=(r[R>>2]|0)+-1),o=o+-1|0;while(o>>>0>3);u=+(m|0)*W}while(0);return+u}function B0(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0;$=n+4|0,g=r[$>>2]|0,Y=n+100|0,g>>>0<(r[Y>>2]|0)>>>0?(r[$>>2]=g+1,g=b[g>>0]|0,S=0):(g=Le(n)|0,S=0);e:for(;;){switch(g|0){case 46:{R=8;break e}case 48:break;default:{I=0,L=0,P=1,m=0,Q=0,D=S,S=0,x=0,A=0,k=0;break e}}if(g=r[$>>2]|0,g>>>0<(r[Y>>2]|0)>>>0){r[$>>2]=g+1,g=b[g>>0]|0,S=1;continue}else{g=Le(n)|0,S=1;continue}}if((R|0)==8)if(g=r[$>>2]|0,g>>>0<(r[Y>>2]|0)>>>0?(r[$>>2]=g+1,g=b[g>>0]|0):g=Le(n)|0,(g|0)==48){k=0,S=0;do g=r[$>>2]|0,g>>>0<(r[Y>>2]|0)>>>0?(r[$>>2]=g+1,g=b[g>>0]|0):g=Le(n)|0,k=et(k|0,S|0,-1,-1)|0,S=V;while((g|0)==48);I=1,L=0,P=1,m=0,Q=0,D=1,x=0,A=0}else I=1,L=0,P=1,m=0,Q=0,D=S,S=0,x=0,A=0,k=0;for(;R=g+-48|0,M=(g|0)==46,!(R>>>0>=10?!(M|((g|32)+-97|0)>>>0<6):0);){if(M)if(!I)I=1,R=L,y=P,g=Q,k=A,S=x;else{g=46;break}else{g=(g|0)>57?(g|32)+-87|0:R;do if((x|0)<0|(x|0)==0&A>>>0<8)R=L,y=P,g=g+(Q<<4)|0;else if((x|0)<0|(x|0)==0&A>>>0<14){P=P*.0625,R=L,y=P,m=m+P*+(g|0),g=Q;break}else{g=(L|0)!=0|(g|0)==0,R=g?L:1,y=P,m=g?m:m+P*.5,g=Q;break}while(0);A=et(A|0,x|0,1,0)|0,D=1,x=V}if(M=r[$>>2]|0,M>>>0<(r[Y>>2]|0)>>>0){r[$>>2]=M+1,L=R,P=y,Q=g,g=b[M>>0]|0;continue}else{L=R,P=y,Q=g,g=Le(n)|0;continue}}do if(!D)g=r[Y>>2]|0,S=(g|0)!=0,S&&(r[$>>2]=(r[$>>2]|0)+-1),c?(S&&(r[$>>2]=(r[$>>2]|0)+-1),(I|0)==0|(g|0)==0||(r[$>>2]=(r[$>>2]|0)+-1)):wt(n,0),m=+(u|0)*0;else{if(R=(I|0)==0,M=R?A:k,R=R?x:S,(x|0)<0|(x|0)==0&A>>>0<8){S=Q,k=x;do S=S<<4,A=et(A|0,k|0,1,0)|0,k=V;while((k|0)<0|(k|0)==0&A>>>0<8);A=S}else A=Q;if((g|32|0)==112){if(S=Yi(n,c)|0,g=V,(S|0)==0&(g|0)==-2147483648){if(!c){wt(n,0),m=0;break}r[Y>>2]|0?(r[$>>2]=(r[$>>2]|0)+-1,S=0,g=0):(S=0,g=0)}}else r[Y>>2]|0?(r[$>>2]=(r[$>>2]|0)+-1,S=0,g=0):(S=0,g=0);if(k=ft(M|0,R|0,2)|0,k=et(k|0,V|0,-32,-1)|0,k=et(k|0,V|0,S|0,g|0)|0,g=V,!A){m=+(u|0)*0;break}if($=0-l|0,c=(($|0)<0)<<31>>31,(g|0)>(c|0)|(g|0)==(c|0)&k>>>0>$>>>0){o=Je()|0,r[o>>2]=34,m=+(u|0)*17976931348623157e292*17976931348623157e292;break}if($=l+-106|0,c=(($|0)<0)<<31>>31,(g|0)<(c|0)|(g|0)==(c|0)&k>>>0<$>>>0){o=Je()|0,r[o>>2]=34,m=+(u|0)*22250738585072014e-324*22250738585072014e-324;break}if((A|0)>-1){S=A;do $=!(m>=.5),S=S<<1|($^1)&1,m=m+($?m:m+-1),k=et(k|0,g|0,-1,-1)|0,g=V;while((S|0)>-1);P=m,A=S}else P=m;$=((o|0)<0)<<31>>31,l=Bt(32,0,l|0,((l|0)<0)<<31>>31|0)|0,g=et(l|0,V|0,k|0,g|0)|0,l=V,($|0)>(l|0)|($|0)==(l|0)&o>>>0>g>>>0?(g|0)>0?R=59:(S=0,g=84,R=61):(g=o,R=59),(R|0)==59&&((g|0)<53?(S=g,g=84-g|0,R=61):(y=0,m=+(u|0))),(R|0)==61&&(m=+(u|0),y=+Ii(+br(1,g),m),g=S),u=(A&1|0)==0&(P!=0&(g|0)<32),m=m*(u?0:P)+(y+m*+(((u&1)+A|0)>>>0))-y,m==0&&(u=Je()|0,r[u>>2]=34),m=+bi(m,k)}while(0);return+m}function U0(n,o,l,u,c,m){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,m=m|0;var g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0,Ie=0,Te=0;Ie=F,F=F+512|0,ue=Ie,me=u+l|0,Ne=0-me|0,oe=n+4|0,ve=n+100|0,y=0;e:for(;;){switch(o|0){case 46:{j=6;break e}case 48:break;default:{Q=0,M=y,P=0,R=0;break e}}if(o=r[oe>>2]|0,o>>>0<(r[ve>>2]|0)>>>0){r[oe>>2]=o+1,o=b[o>>0]|0,y=1;continue}else{o=Le(n)|0,y=1;continue}}if((j|0)==6)if(o=r[oe>>2]|0,o>>>0<(r[ve>>2]|0)>>>0?(r[oe>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0,(o|0)==48)for(y=0,o=0;;)if(y=et(y|0,o|0,-1,-1)|0,R=V,o=r[oe>>2]|0,o>>>0<(r[ve>>2]|0)>>>0?(r[oe>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0,(o|0)==48)o=R;else{Q=1,M=1,P=y;break}else Q=1,M=y,P=0,R=0;r[ue>>2]=0,A=o+-48|0,k=(o|0)==46;e:do if(k|A>>>0<10){ne=ue+496|0,Y=0,y=0,L=0,$=Q,J=M,j=A,M=0,A=0;t:for(;;){do if(k)if(!$)$=1,P=M,R=A;else break t;else{if(M=et(M|0,A|0,1,0)|0,A=V,Q=(o|0)!=48,(y|0)>=125){if(!Q)break;r[ne>>2]=r[ne>>2]|1;break}k=ue+(y<<2)|0,Y?o=o+-48+((r[k>>2]|0)*10|0)|0:o=j,r[k>>2]=o,Y=Y+1|0,J=(Y|0)==9,Y=J?0:Y,y=(J&1)+y|0,L=Q?M:L,J=1}while(0);if(o=r[oe>>2]|0,o>>>0<(r[ve>>2]|0)>>>0?(r[oe>>2]=o+1,o=b[o>>0]|0):o=Le(n)|0,j=o+-48|0,k=(o|0)==46,!(k|j>>>0<10)){Q=$,k=J,j=29;break e}}o=Y,k=(J|0)!=0,j=37}else Y=0,y=0,L=0,k=M,M=0,A=0,j=29;while(0);do if((j|0)==29){if(ne=(Q|0)==0,P=ne?M:P,R=ne?A:R,k=(k|0)!=0,!(k&(o|32|0)==101))if((o|0)>-1){o=Y,j=37;break}else{o=Y,j=39;break}if(k=Yi(n,m)|0,o=V,(k|0)==0&(o|0)==-2147483648){if(!m){wt(n,0),g=0;break}r[ve>>2]|0?(r[oe>>2]=(r[oe>>2]|0)+-1,k=0,o=0):(k=0,o=0)}J=et(k|0,o|0,P|0,R|0)|0,o=Y,R=V,j=41}while(0);(j|0)==37&&(r[ve>>2]|0?(r[oe>>2]=(r[oe>>2]|0)+-1,k?(J=P,j=41):j=40):j=39),(j|0)==39&&(k?(J=P,j=41):j=40);do if((j|0)==40)Ne=Je()|0,r[Ne>>2]=22,wt(n,0),g=0;else if((j|0)==41){if(k=r[ue>>2]|0,!k){g=+(c|0)*0;break}if(((A|0)<0|(A|0)==0&M>>>0<10)&((J|0)==(M|0)&(R|0)==(A|0))?(l|0)>30|(k>>>l|0)==0:0){g=+(c|0)*+(k>>>0);break}if(n=(u|0)/-2|0,ve=((n|0)<0)<<31>>31,(R|0)>(ve|0)|(R|0)==(ve|0)&J>>>0>n>>>0){Ne=Je()|0,r[Ne>>2]=34,g=+(c|0)*17976931348623157e292*17976931348623157e292;break}if(n=u+-106|0,ve=((n|0)<0)<<31>>31,(R|0)<(ve|0)|(R|0)==(ve|0)&J>>>0<n>>>0){Ne=Je()|0,r[Ne>>2]=34,g=+(c|0)*22250738585072014e-324*22250738585072014e-324;break}if(o){if((o|0)<9){A=ue+(y<<2)|0,k=r[A>>2]|0;do k=k*10|0,o=o+1|0;while((o|0)!=9);r[A>>2]=k}y=y+1|0}if((L|0)<9?(L|0)<=(J|0)&(J|0)<18:0){if(o=r[ue>>2]|0,(J|0)==9){g=+(c|0)*+(o>>>0);break}if((J|0)<9){g=+(c|0)*+(o>>>0)/+(r[1300+(8-J<<2)>>2]|0);break}if(n=l+27+(te(J,-3)|0)|0,(n|0)>30|(o>>>n|0)==0){g=+(c|0)*+(o>>>0)*+(r[1300+(J+-10<<2)>>2]|0);break}}if(o=(J|0)%9|0,!o)o=0,A=0;else{if(L=(J|0)>-1?o:o+9|0,M=r[1300+(8-L<<2)>>2]|0,y){P=1e9/(M|0)|0,A=0,R=0,k=J,o=0;do oe=ue+(o<<2)|0,ve=r[oe>>2]|0,n=((ve>>>0)/(M>>>0)|0)+A|0,r[oe>>2]=n,A=te(P,(ve>>>0)%(M>>>0)|0)|0,n=(o|0)==(R|0)&(n|0)==0,k=n?k+-9|0:k,R=n?R+1&127:R,o=o+1|0;while((o|0)!=(y|0));A?(r[ue+(y<<2)>>2]=A,A=R,y=y+1|0):A=R}else A=0,y=0,k=J;o=0,J=9-L+k|0}e:for(;;){for(L=(J|0)<18,Q=(J|0)==18,Y=ue+(A<<2)|0;;){if(!L){if(!Q){k=J;break e}if((r[Y>>2]|0)>>>0>=9007199){k=18;break e}}for(k=0,$=y,y=y+127|0;R=y&127,M=ue+(R<<2)|0,y=ft(r[M>>2]|0,0,29)|0,y=et(y|0,V|0,k|0,0)|0,k=V,k>>>0>0|(k|0)==0&y>>>0>1e9?(P=wr(y|0,k|0,1e9,0)|0,y=Vr(y|0,k|0,1e9,0)|0):P=0,r[M>>2]=y,n=(R|0)==(A|0),$=(y|0)==0&(((R|0)!=($+127&127|0)|n)^1)?R:$,!n;)k=P,y=R+-1|0;if(o=o+-29|0,P|0)break;y=$}A=A+127&127,y=$+127&127,k=ue+(($+126&127)<<2)|0,(A|0)==($|0)?r[k>>2]=r[k>>2]|r[ue+(y<<2)>>2]:y=$,r[ue+(A<<2)>>2]=P,J=J+9|0}e:for(;;){for(Y=y+1&127,$=ue+((y+127&127)<<2)|0;;){for(P=(k|0)==18,Q=(k|0)>27?9:1,J=A;;){for(A=0;;){if(R=A+J&127,(R|0)==(y|0)){fe=2,j=88;break}if(R=r[ue+(R<<2)>>2]|0,M=r[1332+(A<<2)>>2]|0,R>>>0<M>>>0){fe=2,j=88;break}if(R>>>0>M>>>0)break;if(A=A+1|0,(A|0)>=2){fe=A,j=88;break}}if((j|0)==88?(j=0,P&(fe|0)==2):0){g=0,R=0;break e}if(o=Q+o|0,(J|0)==(y|0))J=y;else break}P=(1<<Q)+-1|0,L=1e9>>>Q,M=0,A=J,R=J;do oe=ue+(R<<2)|0,ve=r[oe>>2]|0,n=(ve>>>Q)+M|0,r[oe>>2]=n,M=te(ve&P,L)|0,n=(R|0)==(A|0)&(n|0)==0,k=n?k+-9|0:k,A=n?A+1&127:A,R=R+1&127;while((R|0)!=(y|0));if(!!M){if((Y|0)!=(A|0))break;r[$>>2]=r[$>>2]|1}}r[ue+(y<<2)>>2]=M,y=Y}do A=R+J&127,k=y+1&127,(A|0)==(y|0)&&(r[ue+(k+-1<<2)>>2]=0,y=k),g=g*1e9+ +((r[ue+(A<<2)>>2]|0)>>>0),R=R+1|0;while((R|0)!=2);if(I=+(c|0),S=I*g,R=o+53|0,M=R-u|0,P=(M|0)<(l|0),A=P?(M|0)>0?M:0:l,(A|0)<53?(Te=+Ii(+br(1,105-A|0),S),x=+Pi(S,+br(1,53-A|0)),D=Te,g=x,x=Te+(S-x)):(D=0,g=0,x=S),k=J+2&127,(k|0)!=(y|0)){k=r[ue+(k<<2)>>2]|0;do if(k>>>0>=5e8){if((k|0)!=5e8){g=I*.75+g;break}if((J+3&127|0)==(y|0)){g=I*.5+g;break}else{g=I*.75+g;break}}else{if((k|0)==0?(J+3&127|0)==(y|0):0)break;g=I*.25+g}while(0);((53-A|0)>1?+Pi(g,1)==0:0)?S=g+1:S=g}else S=g;g=x+S-D;do if((R&2147483647|0)>(-2-me|0)){if(me=!(+ae(+g)>=9007199254740992),o=((me^1)&1)+o|0,g=me?g:g*.5,(o+50|0)<=(Ne|0)?!(S!=0&(P&((A|0)!=(M|0)|me))):0)break;Ne=Je()|0,r[Ne>>2]=34}while(0);g=+bi(g,o)}while(0);return F=Ie,+g}function Yi(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0;switch(y=n+4|0,l=r[y>>2]|0,S=n+100|0,l>>>0<(r[S>>2]|0)>>>0?(r[y>>2]=l+1,l=b[l>>0]|0):l=Le(n)|0,l|0){case 43:case 45:{u=(l|0)==45&1,l=r[y>>2]|0,l>>>0<(r[S>>2]|0)>>>0?(r[y>>2]=l+1,l=b[l>>0]|0):l=Le(n)|0,((o|0)!=0&(l+-48|0)>>>0>9?(r[S>>2]|0)!=0:0)&&(r[y>>2]=(r[y>>2]|0)+-1);break}default:u=0}if((l+-48|0)>>>0>9)r[S>>2]|0?(r[y>>2]=(r[y>>2]|0)+-1,u=-2147483648,l=0):(u=-2147483648,l=0);else{c=0;do c=l+-48+(c*10|0)|0,l=r[y>>2]|0,l>>>0<(r[S>>2]|0)>>>0?(r[y>>2]=l+1,l=b[l>>0]|0):l=Le(n)|0;while((l+-48|0)>>>0<10&(c|0)<214748364);if(o=((c|0)<0)<<31>>31,(l+-48|0)>>>0<10){do o=Tr(c|0,o|0,10,0)|0,c=V,l=et(l|0,((l|0)<0)<<31>>31|0,-48,-1)|0,c=et(l|0,V|0,o|0,c|0)|0,o=V,l=r[y>>2]|0,l>>>0<(r[S>>2]|0)>>>0?(r[y>>2]=l+1,l=b[l>>0]|0):l=Le(n)|0;while((l+-48|0)>>>0<10&((o|0)<21474836|(o|0)==21474836&c>>>0<2061584302));m=l,g=c}else m=l,g=c;if(l=r[S>>2]|0,(m+-48|0)>>>0<10)do c=r[y>>2]|0,c>>>0<l>>>0?(r[y>>2]=c+1,c=b[c>>0]|0):(c=Le(n)|0,l=r[S>>2]|0);while((c+-48|0)>>>0<10);l|0&&(r[y>>2]=(r[y>>2]|0)+-1),y=(u|0)!=0,l=Bt(0,0,g|0,o|0)|0,u=y?V:o,l=y?l:g}return V=u,l|0}function hr(n){n=n|0;for(var o=0,l=0,u=0,c=0,m=0,g=0;u=T[n>>0]|0,o=u<<24>>24,c=n+1|0,Zt(o)|0;)n=c;switch(o|0){case 45:{n=1,m=5;break}case 43:{n=0,m=5;break}default:g=0,l=n,n=u}if((m|0)==5&&(g=n,l=c,n=T[c>>0]|0),o=(n<<24>>24)+-48|0,o>>>0<10){n=0;do l=l+1|0,n=(n*10|0)-o|0,o=(T[l>>0]|0)+-48|0;while(o>>>0<10)}else n=0;return(g|0?n:0-n|0)|0}function Wi(n,o,l){return n=n|0,o=o|0,l=l|0,l=L0(n,o,l,-2147483648,0)|0,l|0}function V0(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0;c=F,F=F+32|0,u=c,r[u>>2]=0,r[u+4>>2]=0,r[u+8>>2]=0,r[u+12>>2]=0,r[u+16>>2]=0,r[u+20>>2]=0,r[u+24>>2]=0,r[u+28>>2]=0,l=T[o>>0]|0;do if(!(l<<24>>24))o=0;else{if(!(T[o+1>>0]|0)){for(o=n;(T[o>>0]|0)==l<<24>>24;)o=o+1|0;o=o-n|0;break}do m=u+(((l&255)>>>5&255)<<2)|0,r[m>>2]=r[m>>2]|1<<(l&31),o=o+1|0,l=T[o>>0]|0;while(l<<24>>24!=0);l=T[n>>0]|0;e:do if(!(l<<24>>24))o=n;else{o=n;do{if(!(r[u+(((l&255)>>>5&255)<<2)>>2]&1<<(l&31)))break e;o=o+1|0,l=T[o>>0]|0}while(l<<24>>24!=0)}while(0);o=o-n|0}while(0);return F=c,o|0}function G0(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0;m=F,F=F+32|0,u=m,l=T[o>>0]|0;e:do if(l<<24>>24!=0?(T[o+1>>0]|0)!=0:0){r[u>>2]=0,r[u+4>>2]=0,r[u+8>>2]=0,r[u+12>>2]=0,r[u+16>>2]=0,r[u+20>>2]=0,r[u+24>>2]=0,r[u+28>>2]=0;do g=u+(((l&255)>>>5&255)<<2)|0,r[g>>2]=r[g>>2]|1<<(l&31),o=o+1|0,l=T[o>>0]|0;while(l<<24>>24!=0);if(l=T[n>>0]|0,!(l<<24>>24))o=n;else{o=n;do{if(r[u+(((l&255)>>>5&255)<<2)>>2]&1<<(l&31)|0)break e;o=o+1|0,l=T[o>>0]|0}while(l<<24>>24!=0)}}else c=3;while(0);return(c|0)==3&&(o=Dr(n,l<<24>>24)|0),F=m,o-n|0}function Dr(n,o){n=n|0,o=o|0;var l=0,u=0,c=0;u=o&255;e:do if(!u)n=n+(dr(n)|0)|0;else{if(n&3){l=o&255;do{if(c=T[n>>0]|0,c<<24>>24==0?1:c<<24>>24==l<<24>>24)break e;n=n+1|0}while((n&3|0)!=0)}u=te(u,16843009)|0,l=r[n>>2]|0;t:do if(!((l&-2139062144^-2139062144)&l+-16843009))do{if(c=l^u,(c&-2139062144^-2139062144)&c+-16843009|0)break t;n=n+4|0,l=r[n>>2]|0}while(!((l&-2139062144^-2139062144)&l+-16843009|0));while(0);for(l=o&255;c=T[n>>0]|0,!(c<<24>>24==0?1:c<<24>>24==l<<24>>24);)n=n+1|0}while(0);return n|0}function dr(n){n=n|0;var o=0,l=0,u=0;u=n;e:do if(!(u&3))l=4;else for(o=u;;){if(!(T[n>>0]|0)){n=o;break e}if(n=n+1|0,o=n,!(o&3)){l=4;break}}while(0);if((l|0)==4){for(;o=r[n>>2]|0,!((o&-2139062144^-2139062144)&o+-16843009);)n=n+4|0;if((o&255)<<24>>24)do n=n+1|0;while((T[n>>0]|0)!=0)}return n-u|0}function z0(n,o,l){return n=n|0,o=o|0,l=l|0,(r[n+76>>2]|0)>-1,o=$i(n,o,l)|0,o|0}function $i(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;return(l|0)==1&&(o=o-(r[n+8>>2]|0)+(r[n+4>>2]|0)|0),u=n+20|0,c=n+28|0,((r[u>>2]|0)>>>0>(r[c>>2]|0)>>>0?(je[r[n+36>>2]&15](n,0,0)|0,(r[u>>2]|0)==0):0)?o=-1:(r[n+16>>2]=0,r[c>>2]=0,r[u>>2]=0,(je[r[n+40>>2]&15](n,o,l)|0)<0?o=-1:(r[n+8>>2]=0,r[n+4>>2]=0,r[n>>2]=r[n>>2]&-17,o=0)),o|0}function Gt(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0;S=n&255,l=n&255,((r[o+76>>2]|0)>=0?(Di()|0)!=0:0)?((l|0)!=(T[o+75>>0]|0)?(m=o+20|0,g=r[m>>2]|0,g>>>0<(r[o+16>>2]|0)>>>0):0)?(r[m>>2]=g+1,T[g>>0]=S):l=ji(o,n)|0:y=3;do if((y|0)==3){if((l|0)!=(T[o+75>>0]|0)?(u=o+20|0,c=r[u>>2]|0,c>>>0<(r[o+16>>2]|0)>>>0):0){r[u>>2]=c+1,T[c>>0]=S;break}l=ji(o,n)|0}while(0);return l|0}function ji(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0;y=F,F=F+16|0,g=y,S=o&255,T[g>>0]=S,u=n+16|0,c=r[u>>2]|0,c?m=4:Vi(n)|0?l=-1:(c=r[u>>2]|0,m=4);do if((m|0)==4){if(m=n+20|0,u=r[m>>2]|0,u>>>0<c>>>0?(l=o&255,(l|0)!=(T[n+75>>0]|0)):0){r[m>>2]=u+1,T[u>>0]=S;break}(je[r[n+36>>2]&15](n,g,1)|0)==1?l=b[g>>0]|0:l=-1}while(0);return F=y,l|0}function K0(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0;S=te(l,o)|0,l=(o|0)==0?0:l,(r[u+76>>2]|0)>-1,c=u+74|0,m=T[c>>0]|0,T[c>>0]=m+255|m,c=u+4|0,m=r[c>>2]|0,y=(r[u+8>>2]|0)-m|0,g=y>>>0<S>>>0?y:S,(y|0)>0?(st(n|0,m|0,g|0)|0,r[c>>2]=m+g,c=S-g|0,n=n+g|0):c=S;e:do if(c){for(g=u+32|0;!(zi(u)|0||(m=je[r[g>>2]&15](u,n,c)|0,(m+1|0)>>>0<2));)if(c=c-m|0,c)n=n+m|0;else break e;l=((S-c|0)>>>0)/(o>>>0)|0}while(0);return l|0}function qi(n){n=n|0;var o=0;return r[n>>2]&128?o=(r[n+20>>2]|0)>>>0>(r[n+28>>2]|0)>>>0?2:1:o=1,o=je[r[n+40>>2]&15](n,0,o)|0,(o|0)>=0&&(o=o-(r[n+8>>2]|0)+(r[n+4>>2]|0)+(r[n+20>>2]|0)-(r[n+28>>2]|0)|0),o|0}function Y0(n){n=n|0;var o=0;return(r[n+76>>2]|0)>-1,o=qi(n)|0,o|0}function Xi(n){return n=n|0,Y0(n)|0}function Ji(n,o){n=n|0,o=o|0;var l=0;return l=dr(n)|0,((Ot(n,1,l,o)|0)!=(l|0))<<31>>31|0}function Ot(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0;return c=te(l,o)|0,l=(o|0)==0?0:l,(r[u+76>>2]|0)>-1,n=si(n,c,u)|0,(n|0)!=(c|0)&&(l=(n>>>0)/(o>>>0)|0),l|0}function Qi(n){n=n|0;var o=0;return(r[n+76>>2]|0)>-1,o=(r[n>>2]|0)>>>5&1,o|0}function lt(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;return u=F,F=F+16|0,c=u,r[c>>2]=l,l=W0(n,o,c)|0,F=u,l|0}function W0(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0,Ie=0,Te=0,Re=0,G=0,Ge=0;Ge=F,F=F+288|0,Ne=Ge+8|0,Ie=Ge+17|0,Te=Ge,Re=Ge+16|0,(r[n+76>>2]|0)>-1,u=T[o>>0]|0;e:do if(u<<24>>24){Y=n+4|0,$=n+100|0,J=n+108|0,j=n+8|0,ne=Ie+10|0,oe=Ie+33|0,Q=Ne+4|0,ve=Ie+46|0,fe=Ie+94|0,ue=Ie+1|0,me=Ie+1|0,g=o,x=0,o=0,m=0,c=0;t:for(;;){r:do if(Zt(u&255)|0){for(;u=g+1|0,Zt(b[u>>0]|0)|0;)g=u;wt(n,0);do u=r[Y>>2]|0,u>>>0<(r[$>>2]|0)>>>0?(r[Y>>2]=u+1,u=b[u>>0]|0):u=Le(n)|0;while((Zt(u)|0)!=0);r[$>>2]|0?(u=(r[Y>>2]|0)+-1|0,r[Y>>2]=u):u=r[Y>>2]|0,S=(r[J>>2]|0)+x+u-(r[j>>2]|0)|0}else{u=u<<24>>24==37;o:do if(u){k=g+1|0,S=T[k>>0]|0;i:do switch(S<<24>>24){case 37:break o;case 42:{L=0,g=g+2|0;break}default:{if(u=(S&255)+-48|0,u>>>0<10?(T[g+2>>0]|0)==36:0){L=$0(l,u)|0,g=g+3|0;break i}g=(r[l>>2]|0)+(4-1)&~(4-1),L=r[g>>2]|0,r[l>>2]=g+4,g=k}}while(0);if(u=T[g>>0]|0,S=u&255,(S+-48|0)>>>0<10){k=0;do k=(k*10|0)+-48+S|0,g=g+1|0,u=T[g>>0]|0,S=u&255;while((S+-48|0)>>>0<10)}else k=0;switch(u=u<<24>>24==109,I=(L|0)!=0,m=u?0:m,c=u?0:c,g=u?g+1|0:g,u=I&u,S=g+1|0,T[g>>0]|0){case 104:{D=(T[S>>0]|0)==104,A=D?-2:-1,g=D?g+2|0:S;break}case 108:{D=(T[S>>0]|0)==108,A=D?3:1,g=D?g+2|0:S;break}case 106:{A=3,g=S;break}case 116:case 122:{A=1,g=S;break}case 76:{A=2,g=S;break}case 110:case 112:case 67:case 83:case 91:case 99:case 115:case 88:case 71:case 70:case 69:case 65:case 103:case 102:case 101:case 97:case 120:case 117:case 111:case 105:case 100:{A=0;break}default:{G=137;break t}}switch(M=b[g>>0]|0,P=(M&47|0)==3,M=P?M|32:M,P=P?1:A,R=M&255,R<<24>>24){case 99:{k=(k|0)>1?k:1;break}case 91:break;case 110:{Zi(L,P,x,((x|0)<0)<<31>>31),S=x;break r}default:{wt(n,0);do S=r[Y>>2]|0,S>>>0<(r[$>>2]|0)>>>0?(r[Y>>2]=S+1,S=b[S>>0]|0):S=Le(n)|0;while((Zt(S)|0)!=0);r[$>>2]|0?(S=(r[Y>>2]|0)+-1|0,r[Y>>2]=S):S=r[Y>>2]|0,x=(r[J>>2]|0)+x+S-(r[j>>2]|0)|0}}if(wt(n,k),S=r[Y>>2]|0,A=r[$>>2]|0,S>>>0<A>>>0)r[Y>>2]=S+1;else{if((Le(n)|0)<0){G=137;break t}A=r[$>>2]|0}A|0&&(r[Y>>2]=(r[Y>>2]|0)+-1);i:do switch(R<<24>>24){case 91:case 99:case 115:{D=(M|0)==99;n:do if((M|16|0)==115)Tt(ue|0,-1,256)|0,T[Ie>>0]=0,(M|0)==115&&(T[oe>>0]=0,T[ne>>0]=0,T[ne+1>>0]=0,T[ne+2>>0]=0,T[ne+3>>0]=0,T[ne+4>>0]=0);else{switch(S=g+1|0,M=(T[S>>0]|0)==94,R=M&1,g=M?g+2|0:S,Tt(me|0,M&1|0,256)|0,T[Ie>>0]=0,T[g>>0]|0){case 45:{S=ve,G=64;break}case 93:{S=fe,G=64;break}default:M=(R^1)&255}for((G|0)==64&&(G=0,M=(R^1)&255,T[S>>0]=M,g=g+1|0);;){S=T[g>>0]|0;s:do switch(S<<24>>24){case 0:{G=137;break t}case 93:break n;case 45:{switch(R=g+1|0,S=T[R>>0]|0,S<<24>>24){case 93:case 0:{S=45;break s}}if(g=T[g+-1>>0]|0,(g&255)<(S&255)){g=g&255;do g=g+1|0,T[Ie+g>>0]=M,S=T[R>>0]|0;while((g|0)<(S&255|0));g=R}else g=R;break}}while(0);T[Ie+((S&255)+1)>>0]=M,g=g+1|0}}while(0);S=D?k+1|0:31,M=(P|0)==1;n:do if(M){if(u){if(c=pe(S<<2)|0,!c){m=0,c=0,u=1,G=137;break t}}else c=L;r[Ne>>2]=0,r[Q>>2]=0,R=S,m=0;s:for(;;){A=(c|0)==0;do{a:for(;;){if(S=r[Y>>2]|0,S>>>0<(r[$>>2]|0)>>>0?(r[Y>>2]=S+1,S=b[S>>0]|0):S=Le(n)|0,!(T[Ie+(S+1)>>0]|0))break s;switch(T[Re>>0]=S,j0(Te,Re,1,Ne)|0){case-1:{m=0,G=137;break t}case-2:break;default:break a}}A||(r[c+(m<<2)>>2]=r[Te>>2],m=m+1|0)}while(!(u&(m|0)==(R|0)));if(m=R<<1|1,S=zt(c,m<<2)|0,S)P=R,R=m,c=S,m=P;else{m=0,u=1,G=137;break t}}if(q0(Ne)|0)S=m,m=0,R=c;else{m=0,G=137;break t}}else{if(u){if(m=pe(S)|0,m)A=S,c=0;else{m=0,c=0,u=1,G=137;break t}for(;;){do{if(S=r[Y>>2]|0,S>>>0<(r[$>>2]|0)>>>0?(r[Y>>2]=S+1,S=b[S>>0]|0):S=Le(n)|0,!(T[Ie+(S+1)>>0]|0)){S=c,R=0,c=0;break n}T[m+c>>0]=S,c=c+1|0}while((c|0)!=(A|0));if(c=A<<1|1,S=zt(m,c)|0,S)P=A,A=c,m=S,c=P;else{c=0,u=1,G=137;break t}}}if(L)for(S=0,m=A;;){if(c=r[Y>>2]|0,c>>>0<m>>>0?(r[Y>>2]=c+1,c=b[c>>0]|0):c=Le(n)|0,!(T[Ie+(c+1)>>0]|0)){m=L,R=0,c=0;break n}T[L+S>>0]=c,S=S+1|0,m=r[$>>2]|0}else for(m=A;;){if(c=r[Y>>2]|0,c>>>0<m>>>0?(r[Y>>2]=c+1,c=b[c>>0]|0):c=Le(n)|0,!(T[Ie+(c+1)>>0]|0)){S=0,m=0,R=0,c=0;break n}m=r[$>>2]|0}}while(0);if(r[$>>2]|0?(A=(r[Y>>2]|0)+-1|0,r[Y>>2]=A):A=r[Y>>2]|0,A=A-(r[j>>2]|0)+(r[J>>2]|0)|0,!A){G=139;break t}if(!((A|0)==(k|0)|D^1)){G=139;break t}do if(u)if(M){r[L>>2]=R;break}else{r[L>>2]=m;break}while(0);if(!D){if(R|0&&(r[R+(S<<2)>>2]=0),!m){m=0;break i}T[m+S>>0]=0}break}case 120:case 88:case 112:{S=16,G=125;break}case 111:{S=8,G=125;break}case 117:case 100:{S=10,G=125;break}case 105:{S=0,G=125;break}case 71:case 103:case 70:case 102:case 69:case 101:case 65:case 97:{if(y=+Ki(n,P,0),(r[J>>2]|0)==((r[j>>2]|0)-(r[Y>>2]|0)|0)){G=139;break t}if(L)switch(P|0){case 0:{B[L>>2]=y;break i}case 1:{w[L>>3]=y;break i}case 2:{w[L>>3]=y;break i}default:break i}break}}while(0);do if((G|0)==125){if(G=0,S=Gi(n,S,0,-1,-1)|0,(r[J>>2]|0)==((r[j>>2]|0)-(r[Y>>2]|0)|0)){G=139;break t}if(I&(M|0)==112){r[L>>2]=S;break}else{Zi(L,P,S,V);break}}while(0);o=(I&1)+o|0,S=(r[J>>2]|0)+x+(r[Y>>2]|0)-(r[j>>2]|0)|0;break r}while(0);if(g=g+(u&1)|0,wt(n,0),u=r[Y>>2]|0,u>>>0<(r[$>>2]|0)>>>0?(r[Y>>2]=u+1,u=b[u>>0]|0):u=Le(n)|0,(u|0)!=(b[g>>0]|0)){G=22;break t}S=x+1|0}while(0);if(g=g+1|0,u=T[g>>0]|0,u<<24>>24)x=S;else break e}if((G|0)==22){if(r[$>>2]|0&&(r[Y>>2]=(r[Y>>2]|0)+-1),(o|0)!=0|(u|0)>-1)break;u=0,G=138}else(G|0)==137?(u=u&1,o||(G=138)):(G|0)==139&&(u=u&1);(G|0)==138&&(o=-1),u&&(de(m),de(c))}else o=0;while(0);return F=Ge,o|0}function $0(n,o){n=n|0,o=o|0;var l=0,u=0,c=0;for(u=F,F=F+16|0,l=u,r[l>>2]=r[n>>2];c=(r[l>>2]|0)+(4-1)&~(4-1),n=r[c>>2]|0,r[l>>2]=c+4,o>>>0>1;)o=o+-1|0;return F=u,n|0}function Zi(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;e:do if(n|0)switch(o|0){case-2:{T[n>>0]=l;break e}case-1:{N[n>>1]=l;break e}case 0:{r[n>>2]=l;break e}case 1:{r[n>>2]=l;break e}case 3:{o=n,r[o>>2]=l,r[o+4>>2]=u;break e}default:break e}while(0)}function j0(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0;y=F,F=F+16|0,c=y,g=(u|0)==0?6128:u,u=r[g>>2]|0;e:do if(!o)u?S=17:u=0;else if(m=(n|0)==0?c:n,!l)u=-2;else{if(u)c=l,S=11;else{if(u=T[o>>0]|0,u<<24>>24>-1){r[m>>2]=u&255,u=u<<24>>24!=0&1;break}if(c=(X0()|0)+188|0,u=T[o>>0]|0,!(r[r[c>>2]>>2]|0)){r[m>>2]=u<<24>>24&57343,u=1;break}if(u=(u&255)+-194|0,u>>>0>50){S=17;break}u=r[972+(u<<2)>>2]|0,c=l+-1|0,c&&(o=o+1|0,S=11)}t:do if((S|0)==11){if(n=T[o>>0]|0,k=(n&255)>>>3,(k+-16|k+(u>>26))>>>0>7){S=17;break e}for(;o=o+1|0,u=(n&255)+-128|u<<6,c=c+-1|0,!((u|0)>=0);){if(!c)break t;if(n=T[o>>0]|0,(n&-64)<<24>>24!=-128){S=17;break e}}r[g>>2]=0,r[m>>2]=u,u=l-c|0;break e}while(0);r[g>>2]=u,u=-2}while(0);return(S|0)==17&&(r[g>>2]=0,u=Je()|0,r[u>>2]=84,u=-1),F=y,u|0}function q0(n){return n=n|0,n?n=(r[n>>2]|0)==0:n=1,n&1|0}function X0(){return Er()|0}function Lr(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0;return g=F,F=F+48|0,m=g+32|0,c=g+16|0,l=g,xr(5371,T[o>>0]|0,4)|0?(u=J0(o)|0,r[l>>2]=n,r[l+4>>2]=u|32768,r[l+8>>2]=438,l=Jt(X(5,l|0)|0)|0,(l|0)>=0?(u&524288|0&&(r[c>>2]=l,r[c+4>>2]=2,r[c+8>>2]=1,Ke(221,c|0)|0),n=Q0(l,o)|0,n||(r[m>>2]=l,z(6,m|0)|0,n=0)):n=0):(n=Je()|0,r[n>>2]=22,n=0),F=g,n|0}function J0(n){n=n|0;var o=0,l=0,u=0;return l=(yr(n,43)|0)==0,o=T[n>>0]|0,l=l?o<<24>>24!=114&1:2,u=(yr(n,120)|0)==0,l=u?l:l|128,n=(yr(n,101)|0)==0,n=n?l:l|524288,n=o<<24>>24==114?n:n|64,n=o<<24>>24==119?n|512:n,(o<<24>>24==97?n|1024:n)|0}function Q0(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0;if(R=F,F=F+64|0,A=R+40|0,y=R+24|0,S=R+16|0,c=R,k=R+56|0,u=T[o>>0]|0,xr(5371,u<<24>>24,4)|0)if(l=pe(1156)|0,!l)l=0;else{m=l,g=m+124|0;do r[m>>2]=0,m=m+4|0;while((m|0)<(g|0));yr(o,43)|0||(r[l>>2]=u<<24>>24==114?8:4),yr(o,101)|0&&(r[c>>2]=n,r[c+4>>2]=2,r[c+8>>2]=1,Ke(221,c|0)|0,u=T[o>>0]|0),u<<24>>24==97?(r[S>>2]=n,r[S+4>>2]=3,u=Ke(221,S|0)|0,u&1024||(r[y>>2]=n,r[y+4>>2]=4,r[y+8>>2]=u|1024,Ke(221,y|0)|0),o=r[l>>2]|128,r[l>>2]=o):o=r[l>>2]|0,r[l+60>>2]=n,r[l+44>>2]=l+132,r[l+48>>2]=1024,u=l+75|0,T[u>>0]=-1,((o&8|0)==0?(r[A>>2]=n,r[A+4>>2]=21523,r[A+8>>2]=k,(mr(54,A|0)|0)==0):0)&&(T[u>>0]=10),r[l+32>>2]=11,r[l+36>>2]=6,r[l+40>>2]=7,r[l+12>>2]=4,r[1517]|0||(r[l+76>>2]=-1),Z0(l)|0}else l=Je()|0,r[l>>2]=22,l=0;return F=R,l|0}function yr(n,o){return n=n|0,o=o|0,n=Dr(n,o)|0,((T[n>>0]|0)==(o&255)<<24>>24?n:0)|0}function Z0(n){n=n|0;var o=0,l=0;return o=oi()|0,r[n+56>>2]=r[o>>2],l=r[o>>2]|0,l|0&&(r[l+52>>2]=n),r[o>>2]=n,ai(),n|0}function oi(){return jt(6132),6140}function ai(){At(6132)}function nt(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;return u=F,F=F+16|0,c=u,r[c>>2]=l,l=ii(n,o,c)|0,F=u,l|0}function es(n){n=n|0;var o=0;r[n+68>>2]|0&&(o=r[n+116>>2]|0,n=n+112|0,o|0&&(r[o+112>>2]=r[n>>2]),n=r[n>>2]|0,n?n=n+116|0:n=(ts()|0)+232|0,r[n>>2]=o)}function ts(){return Er()|0}function en(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0;if((r[l+76>>2]|0)>-1,c=o+-1|0,u=(c|0)!=0,(o|0)<2)y=l+74|0,S=T[y>>0]|0,T[y>>0]=S+255|S,u?n=0:T[n>>0]=0;else{e:do if(u){for(g=l+4|0,S=l+8|0,o=n;;){if(u=r[g>>2]|0,A=u,R=(r[S>>2]|0)-A|0,k=xr(u,10,R)|0,m=(k|0)==0,k=m?R:1-A+k|0,k=k>>>0<c>>>0?k:c,st(o|0,u|0,k|0)|0,u=(r[g>>2]|0)+k|0,r[g>>2]=u,o=o+k|0,c=c-k|0,!(m&(c|0)!=0)){y=17;break e}if(u>>>0>=(r[S>>2]|0)>>>0){if(u=Ir(l)|0,(u|0)<0)break}else r[g>>2]=u+1,u=b[u>>0]|0;if(c=c+-1|0,m=o+1|0,T[o>>0]=u,(c|0)!=0&(u&255|0)!=10)o=m;else{o=m,y=17;break e}}((o|0)!=(n|0)?(r[l>>2]&16|0)!=0:0)?y=17:n=0}else o=n,y=17;while(0);(y|0)==17&&(n?T[o>>0]=0:n=0)}return n|0}function Hr(n){n=n|0;var o=0,l=0,u=0,c=0;return(r[n+76>>2]|0)>-1,es(n),c=(r[n>>2]&1|0)!=0,c||(u=oi()|0,l=r[n+52>>2]|0,o=n+56|0,l|0&&(r[l+56>>2]=r[o>>2]),o=r[o>>2]|0,o|0&&(r[o+52>>2]=l),(r[u>>2]|0)==(n|0)&&(r[u>>2]=o),ai()),o=Br(n)|0,o=Yr[r[n+12>>2]&7](n)|0|o,l=r[n+92>>2]|0,l|0&&de(l),c||de(n),o|0}function Br(n){n=n|0;var o=0;do if(n){if((r[n+76>>2]|0)<=-1){o=li(n)|0;break}o=li(n)|0}else{if(r[230]|0?o=Br(r[230]|0)|0:o=0,n=oi()|0,n=r[n>>2]|0,n)do(r[n+76>>2]|0)>-1,(r[n+20>>2]|0)>>>0>(r[n+28>>2]|0)>>>0&&(o=li(n)|0|o),n=r[n+56>>2]|0;while((n|0)!=0);ai()}while(0);return o|0}function li(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0;return o=n+20|0,g=n+28|0,((r[o>>2]|0)>>>0>(r[g>>2]|0)>>>0?(je[r[n+36>>2]&15](n,0,0)|0,(r[o>>2]|0)==0):0)?n=-1:(l=n+4|0,u=r[l>>2]|0,c=n+8|0,m=r[c>>2]|0,u>>>0<m>>>0&&je[r[n+40>>2]&15](n,u-m|0,1)|0,r[n+16>>2]=0,r[g>>2]=0,r[o>>2]=0,r[c>>2]=0,r[l>>2]=0,n=0),n|0}function rs(n,o){return n=n|0,o=o|0,is(n,o)|0,n|0}function is(n,o){n=n|0,o=o|0;var l=0,u=0;l=o;e:do if((l^n)&3)u=8;else{if(l&3)do{if(l=T[o>>0]|0,T[n>>0]=l,!(l<<24>>24))break e;o=o+1|0,n=n+1|0}while((o&3|0)!=0);if(l=r[o>>2]|0,!((l&-2139062144^-2139062144)&l+-16843009))for(u=n;o=o+4|0,n=u+4|0,r[u>>2]=l,l=r[o>>2]|0,!((l&-2139062144^-2139062144)&l+-16843009|0);)u=n;u=8}while(0);if((u|0)==8&&(u=T[o>>0]|0,T[n>>0]=u,u<<24>>24))do o=o+1|0,n=n+1|0,u=T[o>>0]|0,T[n>>0]=u;while(u<<24>>24!=0);return n|0}function tn(n){n=n|0;var o=0,l=0;return l=(dr(n)|0)+1|0,o=pe(l)|0,o?st(o|0,n|0,l|0)|0:o=0,o|0}function fi(n,o,l){return n=n|0,o=o|0,l=l|0,z0(n,o,l)|0}function ns(n){n=n|0;var o=0,l=0,u=0;((r[n+76>>2]|0)>=0?(Di()|0)!=0:0)?(o=n+4|0,l=r[o>>2]|0,l>>>0<(r[n+8>>2]|0)>>>0?(r[o>>2]=l+1,o=b[l>>0]|0):o=Ir(n)|0):u=3;do if((u|0)==3)if(o=n+4|0,l=r[o>>2]|0,l>>>0<(r[n+8>>2]|0)>>>0){r[o>>2]=l+1,o=b[l>>0]|0;break}else{o=Ir(n)|0;break}while(0);return o|0}function ss(n,o){return n=n|0,o=o|0,os(n,o,(dr(n)|0)+1|0)|0}function os(n,o,l){n=n|0,o=o|0,l=l|0;var u=0;u=o&255;do{if(!l){o=0;break}l=l+-1|0,o=n+l|0}while((T[o>>0]|0)!=u<<24>>24);return o|0}function ui(){var n=0,o=0,l=0;return o=6048,o=Tr(r[o>>2]|0,r[o+4>>2]|0,1284865837,1481765933)|0,o=et(o|0,V|0,1,0)|0,n=V,l=6048,r[l>>2]=o,r[l+4>>2]=n,n=It(o|0,n|0,33)|0,n|0}function as(n,o){n=n|0,o=o|0;var l=0,u=0;return l=F,F=F+16|0,u=l,r[u>>2]=n,r[u+4>>2]=o,o=Jt(bt(91,u|0)|0)|0,F=l,o|0}function ls(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0;M=F,F=F+272|0,A=M+8|0,R=M;do if(!(T[o>>0]|0)){if(o=yt(5375)|0,(o|0?T[o>>0]|0:0)||(o=yt(5382+(n*12|0)|0)|0,o|0?T[o>>0]|0:0)||(o=yt(5454)|0,o|0?T[o>>0]|0:0))break;o=5459}while(0);l=0;e:do{switch(T[o+l>>0]|0){case 47:case 0:break e}l=l+1|0}while(l>>>0<15);u=T[o>>0]|0,(u<<24>>24!=46?(T[o+l>>0]|0)==0:0)?u<<24>>24==67?k=15:(y=o,k=16):(o=5459,k=15),(k|0)==15&&(T[o+1>>0]|0?(y=o,k=16):k=18);e:do if((k|0)==16)if(($e(y,5459)|0)!=0?($e(y,5467)|0)!=0:0){if(o=r[1536]|0,o|0)do{if(!($e(y,o+8|0)|0))break e;o=r[o+24>>2]|0}while((o|0)!=0);jt(6148),o=r[1536]|0;t:do if(o|0){for(;$e(y,o+8|0)|0;)if(o=r[o+24>>2]|0,!o)break t;At(6148);break e}while(0);t:do if(((r[1518]|0)==0?(c=yt(5473)|0,(c|0)!=0):0)?(T[c>>0]|0)!=0:0){for(g=254-l|0,S=l+1|0,u=c;;){if(m=Dr(u,58)|0,o=T[m>>0]|0,c=((o<<24>>24!=0)<<31>>31)+(m-u)|0,c>>>0<g>>>0){if(st(A|0,u|0,c|0)|0,u=A+c|0,T[u>>0]=47,st(u+1|0,y|0,l|0)|0,T[A+(S+c)>>0]=0,c=lr(A|0,R|0)|0,c|0)break;o=T[m>>0]|0}if(u=m+(o<<24>>24!=0&1)|0,!(T[u>>0]|0)){k=41;break t}}if(o=pe(28)|0,u=r[R>>2]|0,o){r[o>>2]=c,r[o+4>>2]=u,R=o+8|0,st(R|0,y|0,l|0)|0,T[R+l>>0]=0,r[o+24>>2]=r[1536],r[1536]=o;break}else{as(c,u)|0,k=41;break}}else k=41;while(0);(k|0)==41&&(o=pe(28)|0,o&&(r[o>>2]=r[231],r[o+4>>2]=r[232],R=o+8|0,st(R|0,y|0,l|0)|0,T[R+l>>0]=0,r[o+24>>2]=r[1536],r[1536]=o)),At(6148),o=(n|0)==0&(o|0)==0?924:o}else o=y,k=18;while(0);do if((k|0)==18){if((n|0)==0?(T[o+1>>0]|0)==46:0){o=924;break}o=0}while(0);return F=M,o|0}function er(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0;m=F,F=F+16|0,c=m;do if(n>>>0>6)o=0;else{if(jt(6156),(n|0)!=6){o=rn(n,o)|0,At(6156);break}if(!o)o=7716,n=0;else{n=c,l=5486,u=n+16|0;do T[n>>0]=T[l>>0]|0,n=n+1|0,l=l+1|0;while((n|0)<(u|0));u=0;do n=Dr(o,59)|0,l=n-o|0,(l|0)<16&&(st(c|0,o|0,l|0)|0,T[c+l>>0]=0,o=(T[n>>0]|0)==0?o:n+1|0),rn(u,c)|0,u=u+1|0;while((u|0)!=6);o=7716,n=0}do u=r[6104+(n<<2)>>2]|0,u=u|0?u+8|0:5502,c=dr(u)|0,st(o|0,u|0,c|0)|0,T[o+c>>0]=59,o=o+(c+1)|0,n=n+1|0;while((n|0)!=6);T[o+-1>>0]=0,At(6156),o=7716}while(0);return F=m,o|0}function rn(n,o){return n=n|0,o=o|0,o?(o=ls(n,o)|0,r[6104+(n<<2)>>2]=o,n=o):n=r[6104+(n<<2)>>2]|0,(n|0?n+8|0:5502)|0}function gt(n,o){n=n|0,o=o|0;var l=0;n?l=3:(n=r[1541]|0,n?l=3:n=0);do if((l|0)==3){if(n=n+(V0(n,o)|0)|0,!(T[n>>0]|0)){r[1541]=0,n=0;break}if(o=n+(G0(n,o)|0)|0,r[1541]=o,T[o>>0]|0){r[1541]=o+1,T[o>>0]=0;break}else{r[1541]=0;break}}while(0);return n|0}function pe(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0,L=0,Q=0,Y=0,$=0,J=0,j=0,ne=0,oe=0,ve=0,fe=0,ue=0,me=0,Ne=0,Ie=0,Te=0,Re=0,G=0,Ge=0;Ge=F,F=F+16|0,M=Ge;do if(n>>>0<245){if(P=n>>>0<11?16:n+11&-8,n=P>>>3,L=r[1542]|0,l=L>>>n,l&3|0){n=(l&1^1)+n|0,l=6208+(n<<1<<2)|0,u=l+8|0,c=r[u>>2]|0,m=c+8|0,g=r[m>>2]|0;do if((l|0)!=(g|0))if(g>>>0<(r[1546]|0)>>>0&&ie(),o=g+12|0,(r[o>>2]|0)==(c|0)){r[o>>2]=l,r[u>>2]=g;break}else ie();else r[1542]=L&~(1<<n);while(0);return G=n<<3,r[c+4>>2]=G|3,G=c+G+4|0,r[G>>2]=r[G>>2]|1,G=m,F=Ge,G|0}if(I=r[1544]|0,P>>>0>I>>>0){if(l|0){S=2<<n,n=l<<n&(S|0-S),n=(n&0-n)+-1|0,S=n>>>12&16,n=n>>>S,u=n>>>5&8,n=n>>>u,m=n>>>2&4,n=n>>>m,l=n>>>1&2,n=n>>>l,o=n>>>1&1,o=(u|S|m|l|o)+(n>>>o)|0,n=6208+(o<<1<<2)|0,l=n+8|0,m=r[l>>2]|0,S=m+8|0,u=r[S>>2]|0;do if((n|0)!=(u|0))if(u>>>0<(r[1546]|0)>>>0&&ie(),c=u+12|0,(r[c>>2]|0)==(m|0)){r[c>>2]=n,r[l>>2]=u,y=L;break}else ie();else y=L&~(1<<o),r[1542]=y;while(0);return g=(o<<3)-P|0,r[m+4>>2]=P|3,u=m+P|0,r[u+4>>2]=g|1,r[u+g>>2]=g,I|0&&(c=r[1547]|0,o=I>>>3,l=6208+(o<<1<<2)|0,o=1<<o,y&o?(o=l+8|0,n=r[o>>2]|0,n>>>0<(r[1546]|0)>>>0?ie():(k=n,A=o)):(r[1542]=y|o,k=l,A=l+8|0),r[A>>2]=c,r[k+12>>2]=c,r[c+8>>2]=k,r[c+12>>2]=l),r[1544]=g,r[1547]=u,G=S,F=Ge,G|0}if(k=r[1543]|0,k){if(n=(k&0-k)+-1|0,Re=n>>>12&16,n=n>>>Re,Te=n>>>5&8,n=n>>>Te,G=n>>>2&4,n=n>>>G,l=n>>>1&2,n=n>>>l,o=n>>>1&1,o=r[6472+((Te|Re|G|l|o)+(n>>>o)<<2)>>2]|0,n=(r[o+4>>2]&-8)-P|0,l=r[o+16+(((r[o+16>>2]|0)==0&1)<<2)>>2]|0,!l)y=o,g=n;else{do Re=(r[l+4>>2]&-8)-P|0,G=Re>>>0<n>>>0,n=G?Re:n,o=G?l:o,l=r[l+16+(((r[l+16>>2]|0)==0&1)<<2)>>2]|0;while((l|0)!=0);y=o,g=n}c=r[1546]|0,y>>>0<c>>>0&&ie(),S=y+P|0,y>>>0>=S>>>0&&ie(),m=r[y+24>>2]|0,l=r[y+12>>2]|0;do if((l|0)==(y|0)){if(n=y+20|0,o=r[n>>2]|0,!o&&(n=y+16|0,o=r[n>>2]|0,!o)){R=0;break}for(;;){if(l=o+20|0,u=r[l>>2]|0,u|0){o=u,n=l;continue}if(l=o+16|0,u=r[l>>2]|0,u)o=u,n=l;else break}if(n>>>0<c>>>0)ie();else{r[n>>2]=0,R=o;break}}else if(u=r[y+8>>2]|0,u>>>0<c>>>0&&ie(),o=u+12|0,(r[o>>2]|0)!=(y|0)&&ie(),n=l+8|0,(r[n>>2]|0)==(y|0)){r[o>>2]=l,r[n>>2]=u,R=l;break}else ie();while(0);e:do if(m|0){o=r[y+28>>2]|0,n=6472+(o<<2)|0;do if((y|0)==(r[n>>2]|0)){if(r[n>>2]=R,!R){r[1543]=k&~(1<<o);break e}}else if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(y|0)&1)<<2)>>2]=R,R)break;break e}else ie();while(0);n=r[1546]|0,R>>>0<n>>>0&&ie(),r[R+24>>2]=m,o=r[y+16>>2]|0;do if(o|0)if(o>>>0<n>>>0)ie();else{r[R+16>>2]=o,r[o+24>>2]=R;break}while(0);if(o=r[y+20>>2]|0,o|0)if(o>>>0<(r[1546]|0)>>>0)ie();else{r[R+20>>2]=o,r[o+24>>2]=R;break}}while(0);return g>>>0<16?(G=g+P|0,r[y+4>>2]=G|3,G=y+G+4|0,r[G>>2]=r[G>>2]|1):(r[y+4>>2]=P|3,r[S+4>>2]=g|1,r[S+g>>2]=g,I|0&&(u=r[1547]|0,o=I>>>3,l=6208+(o<<1<<2)|0,o=1<<o,L&o?(o=l+8|0,n=r[o>>2]|0,n>>>0<(r[1546]|0)>>>0?ie():(x=n,D=o)):(r[1542]=L|o,x=l,D=l+8|0),r[D>>2]=u,r[x+12>>2]=u,r[u+8>>2]=x,r[u+12>>2]=l),r[1544]=g,r[1547]=S),G=y+8|0,F=Ge,G|0}}}else if(n>>>0<=4294967231){if(n=n+11|0,P=n&-8,k=r[1543]|0,k){u=0-P|0,n=n>>>8,n?P>>>0>16777215?S=31:(D=(n+1048320|0)>>>16&8,fe=n<<D,x=(fe+520192|0)>>>16&4,fe=fe<<x,S=(fe+245760|0)>>>16&2,S=14-(x|D|S)+(fe<<S>>>15)|0,S=P>>>(S+7|0)&1|S<<1):S=0,l=r[6472+(S<<2)>>2]|0;e:do if(!l)l=0,n=0,fe=81;else for(n=0,g=P<<((S|0)==31?0:25-(S>>>1)|0),m=0;;){if(c=(r[l+4>>2]&-8)-P|0,c>>>0<u>>>0)if(c)n=l,u=c;else{n=l,u=0,c=l,fe=85;break e}if(c=r[l+20>>2]|0,l=r[l+16+(g>>>31<<2)>>2]|0,m=(c|0)==0|(c|0)==(l|0)?m:c,c=(l|0)==0,c){l=m,fe=81;break}else g=g<<((c^1)&1)}while(0);if((fe|0)==81){if((l|0)==0&(n|0)==0){if(n=2<<S,n=k&(n|0-n),!n)break;D=(n&0-n)+-1|0,A=D>>>12&16,D=D>>>A,y=D>>>5&8,D=D>>>y,R=D>>>2&4,D=D>>>R,x=D>>>1&2,D=D>>>x,l=D>>>1&1,n=0,l=r[6472+((y|A|R|x|l)+(D>>>l)<<2)>>2]|0}l?(c=l,fe=85):(y=n,S=u)}if((fe|0)==85)for(;;)if(fe=0,l=(r[c+4>>2]&-8)-P|0,D=l>>>0<u>>>0,l=D?l:u,n=D?c:n,c=r[c+16+(((r[c+16>>2]|0)==0&1)<<2)>>2]|0,c)u=l,fe=85;else{y=n,S=l;break}if((y|0)!=0?S>>>0<((r[1544]|0)-P|0)>>>0:0){c=r[1546]|0,y>>>0<c>>>0&&ie(),g=y+P|0,y>>>0>=g>>>0&&ie(),m=r[y+24>>2]|0,l=r[y+12>>2]|0;do if((l|0)==(y|0)){if(n=y+20|0,o=r[n>>2]|0,!o&&(n=y+16|0,o=r[n>>2]|0,!o)){I=0;break}for(;;){if(l=o+20|0,u=r[l>>2]|0,u|0){o=u,n=l;continue}if(l=o+16|0,u=r[l>>2]|0,u)o=u,n=l;else break}if(n>>>0<c>>>0)ie();else{r[n>>2]=0,I=o;break}}else if(u=r[y+8>>2]|0,u>>>0<c>>>0&&ie(),o=u+12|0,(r[o>>2]|0)!=(y|0)&&ie(),n=l+8|0,(r[n>>2]|0)==(y|0)){r[o>>2]=l,r[n>>2]=u,I=l;break}else ie();while(0);e:do if(m){o=r[y+28>>2]|0,n=6472+(o<<2)|0;do if((y|0)==(r[n>>2]|0)){if(r[n>>2]=I,!I){L=k&~(1<<o),r[1543]=L;break e}}else if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(y|0)&1)<<2)>>2]=I,I)break;L=k;break e}else ie();while(0);n=r[1546]|0,I>>>0<n>>>0&&ie(),r[I+24>>2]=m,o=r[y+16>>2]|0;do if(o|0)if(o>>>0<n>>>0)ie();else{r[I+16>>2]=o,r[o+24>>2]=I;break}while(0);if(o=r[y+20>>2]|0,o)if(o>>>0<(r[1546]|0)>>>0)ie();else{r[I+20>>2]=o,r[o+24>>2]=I,L=k;break}else L=k}else L=k;while(0);do if(S>>>0>=16){if(r[y+4>>2]=P|3,r[g+4>>2]=S|1,r[g+S>>2]=S,o=S>>>3,S>>>0<256){l=6208+(o<<1<<2)|0,n=r[1542]|0,o=1<<o,n&o?(o=l+8|0,n=r[o>>2]|0,n>>>0<(r[1546]|0)>>>0?ie():(J=n,j=o)):(r[1542]=n|o,J=l,j=l+8|0),r[j>>2]=g,r[J+12>>2]=g,r[g+8>>2]=J,r[g+12>>2]=l;break}if(o=S>>>8,o?S>>>0>16777215?o=31:(Re=(o+1048320|0)>>>16&8,G=o<<Re,Te=(G+520192|0)>>>16&4,G=G<<Te,o=(G+245760|0)>>>16&2,o=14-(Te|Re|o)+(G<<o>>>15)|0,o=S>>>(o+7|0)&1|o<<1):o=0,l=6472+(o<<2)|0,r[g+28>>2]=o,n=g+16|0,r[n+4>>2]=0,r[n>>2]=0,n=1<<o,!(L&n)){r[1543]=L|n,r[l>>2]=g,r[g+24>>2]=l,r[g+12>>2]=g,r[g+8>>2]=g;break}for(n=S<<((o|0)==31?0:25-(o>>>1)|0),u=r[l>>2]|0;;){if((r[u+4>>2]&-8|0)==(S|0)){fe=139;break}if(l=u+16+(n>>>31<<2)|0,o=r[l>>2]|0,o)n=n<<1,u=o;else{fe=136;break}}if((fe|0)==136)if(l>>>0<(r[1546]|0)>>>0)ie();else{r[l>>2]=g,r[g+24>>2]=u,r[g+12>>2]=g,r[g+8>>2]=g;break}else if((fe|0)==139)if(o=u+8|0,n=r[o>>2]|0,G=r[1546]|0,n>>>0>=G>>>0&u>>>0>=G>>>0){r[n+12>>2]=g,r[o>>2]=g,r[g+8>>2]=n,r[g+12>>2]=u,r[g+24>>2]=0;break}else ie()}else G=S+P|0,r[y+4>>2]=G|3,G=y+G+4|0,r[G>>2]=r[G>>2]|1;while(0);return G=y+8|0,F=Ge,G|0}}}else P=-1;while(0);if(l=r[1544]|0,l>>>0>=P>>>0)return o=l-P|0,n=r[1547]|0,o>>>0>15?(G=n+P|0,r[1547]=G,r[1544]=o,r[G+4>>2]=o|1,r[G+o>>2]=o,r[n+4>>2]=P|3):(r[1544]=0,r[1547]=0,r[n+4>>2]=l|3,G=n+l+4|0,r[G>>2]=r[G>>2]|1),G=n+8|0,F=Ge,G|0;if(g=r[1545]|0,g>>>0>P>>>0)return Te=g-P|0,r[1545]=Te,G=r[1548]|0,Re=G+P|0,r[1548]=Re,r[Re+4>>2]=Te|1,r[G+4>>2]=P|3,G=G+8|0,F=Ge,G|0;if(r[1660]|0?n=r[1662]|0:(r[1662]=4096,r[1661]=4096,r[1663]=-1,r[1664]=-1,r[1665]=0,r[1653]=0,n=M&-16^1431655768,r[M>>2]=n,r[1660]=n,n=4096),S=P+48|0,y=P+47|0,m=n+y|0,c=0-n|0,k=m&c,k>>>0<=P>>>0||(n=r[1652]|0,n|0?(J=r[1650]|0,j=J+k|0,j>>>0<=J>>>0|j>>>0>n>>>0):0))return G=0,F=Ge,G|0;e:do if(r[1653]&4)o=0,fe=178;else{l=r[1548]|0;t:do if(l){for(u=6616;n=r[u>>2]|0,!(n>>>0<=l>>>0?($=u+4|0,(n+(r[$>>2]|0)|0)>>>0>l>>>0):0);)if(n=r[u+8>>2]|0,n)u=n;else{fe=163;break t}if(o=m-g&c,o>>>0<2147483647)if(n=Kt(o|0)|0,(n|0)==((r[u>>2]|0)+(r[$>>2]|0)|0)){if((n|0)!=(-1|0)){g=o,m=n,fe=180;break e}}else u=n,fe=171;else o=0}else fe=163;while(0);do if((fe|0)==163)if(l=Kt(0)|0,(l|0)!=(-1|0)?(o=l,Q=r[1661]|0,Y=Q+-1|0,o=((Y&o|0)==0?0:(Y+o&0-Q)-o|0)+k|0,Q=r[1650]|0,Y=o+Q|0,o>>>0>P>>>0&o>>>0<2147483647):0){if(j=r[1652]|0,j|0?Y>>>0<=Q>>>0|Y>>>0>j>>>0:0){o=0;break}if(n=Kt(o|0)|0,(n|0)==(l|0)){g=o,m=l,fe=180;break e}else u=n,fe=171}else o=0;while(0);do if((fe|0)==171){if(l=0-o|0,!(S>>>0>o>>>0&(o>>>0<2147483647&(u|0)!=(-1|0))))if((u|0)==(-1|0)){o=0;break}else{g=o,m=u,fe=180;break e}if(n=r[1662]|0,n=y-o+n&0-n,n>>>0>=2147483647){g=o,m=u,fe=180;break e}if((Kt(n|0)|0)==(-1|0)){Kt(l|0)|0,o=0;break}else{g=n+o|0,m=u,fe=180;break e}}while(0);r[1653]=r[1653]|4,fe=178}while(0);if((((fe|0)==178?k>>>0<2147483647:0)?(ve=Kt(k|0)|0,j=Kt(0)|0,ne=j-ve|0,oe=ne>>>0>(P+40|0)>>>0,!((ve|0)==(-1|0)|oe^1|ve>>>0<j>>>0&((ve|0)!=(-1|0)&(j|0)!=(-1|0))^1)):0)&&(g=oe?ne:o,m=ve,fe=180),(fe|0)==180){o=(r[1650]|0)+g|0,r[1650]=o,o>>>0>(r[1651]|0)>>>0&&(r[1651]=o),k=r[1548]|0;do if(k){for(o=6616;;){if(n=r[o>>2]|0,l=o+4|0,u=r[l>>2]|0,(m|0)==(n+u|0)){fe=190;break}if(c=r[o+8>>2]|0,c)o=c;else break}if(((fe|0)==190?(r[o+12>>2]&8|0)==0:0)?k>>>0<m>>>0&k>>>0>=n>>>0:0){r[l>>2]=u+g,G=k+8|0,G=(G&7|0)==0?0:0-G&7,Re=k+G|0,G=(r[1545]|0)+(g-G)|0,r[1548]=Re,r[1545]=G,r[Re+4>>2]=G|1,r[Re+G+4>>2]=40,r[1549]=r[1664];break}for(o=r[1546]|0,m>>>0<o>>>0?(r[1546]=m,S=m):S=o,l=m+g|0,o=6616;;){if((r[o>>2]|0)==(l|0)){fe=198;break}if(n=r[o+8>>2]|0,n)o=n;else break}if((fe|0)==198?(r[o+12>>2]&8|0)==0:0){r[o>>2]=m,R=o+4|0,r[R>>2]=(r[R>>2]|0)+g,R=m+8|0,R=m+((R&7|0)==0?0:0-R&7)|0,o=l+8|0,o=l+((o&7|0)==0?0:0-o&7)|0,A=R+P|0,y=o-R-P|0,r[R+4>>2]=P|3;do if((o|0)!=(k|0)){if((o|0)==(r[1547]|0)){G=(r[1544]|0)+y|0,r[1544]=G,r[1547]=A,r[A+4>>2]=G|1,r[A+G>>2]=G;break}if(n=r[o+4>>2]|0,(n&3|0)==1){g=n&-8,c=n>>>3;e:do if(n>>>0>=256){m=r[o+24>>2]|0,u=r[o+12>>2]|0;do if((u|0)==(o|0)){if(u=o+16|0,l=u+4|0,n=r[l>>2]|0,!n)if(n=r[u>>2]|0,n)l=u;else{Te=0;break}for(;;){if(u=n+20|0,c=r[u>>2]|0,c|0){n=c,l=u;continue}if(u=n+16|0,c=r[u>>2]|0,c)n=c,l=u;else break}if(l>>>0<S>>>0)ie();else{r[l>>2]=0,Te=n;break}}else if(c=r[o+8>>2]|0,c>>>0<S>>>0&&ie(),n=c+12|0,(r[n>>2]|0)!=(o|0)&&ie(),l=u+8|0,(r[l>>2]|0)==(o|0)){r[n>>2]=u,r[l>>2]=c,Te=u;break}else ie();while(0);if(!m)break;n=r[o+28>>2]|0,l=6472+(n<<2)|0;do if((o|0)!=(r[l>>2]|0))if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(o|0)&1)<<2)>>2]=Te,Te)break;break e}else ie();else{if(r[l>>2]=Te,Te|0)break;r[1543]=r[1543]&~(1<<n);break e}while(0);u=r[1546]|0,Te>>>0<u>>>0&&ie(),r[Te+24>>2]=m,n=o+16|0,l=r[n>>2]|0;do if(l|0)if(l>>>0<u>>>0)ie();else{r[Te+16>>2]=l,r[l+24>>2]=Te;break}while(0);if(n=r[n+4>>2]|0,!n)break;if(n>>>0<(r[1546]|0)>>>0)ie();else{r[Te+20>>2]=n,r[n+24>>2]=Te;break}}else{l=r[o+8>>2]|0,u=r[o+12>>2]|0,n=6208+(c<<1<<2)|0;do if((l|0)!=(n|0)){if(l>>>0<S>>>0&&ie(),(r[l+12>>2]|0)==(o|0))break;ie()}while(0);if((u|0)==(l|0)){r[1542]=r[1542]&~(1<<c);break}do if((u|0)==(n|0))me=u+8|0;else{if(u>>>0<S>>>0&&ie(),n=u+8|0,(r[n>>2]|0)==(o|0)){me=n;break}ie()}while(0);r[l+12>>2]=u,r[me>>2]=l}while(0);o=o+g|0,c=g+y|0}else c=y;if(o=o+4|0,r[o>>2]=r[o>>2]&-2,r[A+4>>2]=c|1,r[A+c>>2]=c,o=c>>>3,c>>>0<256){l=6208+(o<<1<<2)|0,n=r[1542]|0,o=1<<o;do if(!(n&o))r[1542]=n|o,Re=l,G=l+8|0;else{if(o=l+8|0,n=r[o>>2]|0,n>>>0>=(r[1546]|0)>>>0){Re=n,G=o;break}ie()}while(0);r[G>>2]=A,r[Re+12>>2]=A,r[A+8>>2]=Re,r[A+12>>2]=l;break}o=c>>>8;do if(!o)o=0;else{if(c>>>0>16777215){o=31;break}Re=(o+1048320|0)>>>16&8,G=o<<Re,Te=(G+520192|0)>>>16&4,G=G<<Te,o=(G+245760|0)>>>16&2,o=14-(Te|Re|o)+(G<<o>>>15)|0,o=c>>>(o+7|0)&1|o<<1}while(0);if(u=6472+(o<<2)|0,r[A+28>>2]=o,n=A+16|0,r[n+4>>2]=0,r[n>>2]=0,n=r[1543]|0,l=1<<o,!(n&l)){r[1543]=n|l,r[u>>2]=A,r[A+24>>2]=u,r[A+12>>2]=A,r[A+8>>2]=A;break}for(n=c<<((o|0)==31?0:25-(o>>>1)|0),u=r[u>>2]|0;;){if((r[u+4>>2]&-8|0)==(c|0)){fe=265;break}if(l=u+16+(n>>>31<<2)|0,o=r[l>>2]|0,o)n=n<<1,u=o;else{fe=262;break}}if((fe|0)==262)if(l>>>0<(r[1546]|0)>>>0)ie();else{r[l>>2]=A,r[A+24>>2]=u,r[A+12>>2]=A,r[A+8>>2]=A;break}else if((fe|0)==265)if(o=u+8|0,n=r[o>>2]|0,G=r[1546]|0,n>>>0>=G>>>0&u>>>0>=G>>>0){r[n+12>>2]=A,r[o>>2]=A,r[A+8>>2]=n,r[A+12>>2]=u,r[A+24>>2]=0;break}else ie()}else G=(r[1545]|0)+y|0,r[1545]=G,r[1548]=A,r[A+4>>2]=G|1;while(0);return G=R+8|0,F=Ge,G|0}for(o=6616;n=r[o>>2]|0,!(n>>>0<=k>>>0?(ue=n+(r[o+4>>2]|0)|0,ue>>>0>k>>>0):0);)o=r[o+8>>2]|0;c=ue+-47|0,n=c+8|0,n=c+((n&7|0)==0?0:0-n&7)|0,c=k+16|0,n=n>>>0<c>>>0?k:n,o=n+8|0,l=m+8|0,l=(l&7|0)==0?0:0-l&7,G=m+l|0,l=g+-40-l|0,r[1548]=G,r[1545]=l,r[G+4>>2]=l|1,r[G+l+4>>2]=40,r[1549]=r[1664],l=n+4|0,r[l>>2]=27,r[o>>2]=r[1654],r[o+4>>2]=r[1655],r[o+8>>2]=r[1656],r[o+12>>2]=r[1657],r[1654]=m,r[1655]=g,r[1657]=0,r[1656]=o,o=n+24|0;do G=o,o=o+4|0,r[o>>2]=7;while((G+8|0)>>>0<ue>>>0);if((n|0)!=(k|0)){if(m=n-k|0,r[l>>2]=r[l>>2]&-2,r[k+4>>2]=m|1,r[n>>2]=m,o=m>>>3,m>>>0<256){l=6208+(o<<1<<2)|0,n=r[1542]|0,o=1<<o,n&o?(o=l+8|0,n=r[o>>2]|0,n>>>0<(r[1546]|0)>>>0?ie():(Ne=n,Ie=o)):(r[1542]=n|o,Ne=l,Ie=l+8|0),r[Ie>>2]=k,r[Ne+12>>2]=k,r[k+8>>2]=Ne,r[k+12>>2]=l;break}if(o=m>>>8,o?m>>>0>16777215?l=31:(Re=(o+1048320|0)>>>16&8,G=o<<Re,Te=(G+520192|0)>>>16&4,G=G<<Te,l=(G+245760|0)>>>16&2,l=14-(Te|Re|l)+(G<<l>>>15)|0,l=m>>>(l+7|0)&1|l<<1):l=0,u=6472+(l<<2)|0,r[k+28>>2]=l,r[k+20>>2]=0,r[c>>2]=0,o=r[1543]|0,n=1<<l,!(o&n)){r[1543]=o|n,r[u>>2]=k,r[k+24>>2]=u,r[k+12>>2]=k,r[k+8>>2]=k;break}for(n=m<<((l|0)==31?0:25-(l>>>1)|0),u=r[u>>2]|0;;){if((r[u+4>>2]&-8|0)==(m|0)){fe=292;break}if(l=u+16+(n>>>31<<2)|0,o=r[l>>2]|0,o)n=n<<1,u=o;else{fe=289;break}}if((fe|0)==289)if(l>>>0<(r[1546]|0)>>>0)ie();else{r[l>>2]=k,r[k+24>>2]=u,r[k+12>>2]=k,r[k+8>>2]=k;break}else if((fe|0)==292)if(o=u+8|0,n=r[o>>2]|0,G=r[1546]|0,n>>>0>=G>>>0&u>>>0>=G>>>0){r[n+12>>2]=k,r[o>>2]=k,r[k+8>>2]=n,r[k+12>>2]=u,r[k+24>>2]=0;break}else ie()}}else{G=r[1546]|0,(G|0)==0|m>>>0<G>>>0&&(r[1546]=m),r[1654]=m,r[1655]=g,r[1657]=0,r[1551]=r[1660],r[1550]=-1,o=0;do G=6208+(o<<1<<2)|0,r[G+12>>2]=G,r[G+8>>2]=G,o=o+1|0;while((o|0)!=32);G=m+8|0,G=(G&7|0)==0?0:0-G&7,Re=m+G|0,G=g+-40-G|0,r[1548]=Re,r[1545]=G,r[Re+4>>2]=G|1,r[Re+G+4>>2]=40,r[1549]=r[1664]}while(0);if(o=r[1545]|0,o>>>0>P>>>0)return Te=o-P|0,r[1545]=Te,G=r[1548]|0,Re=G+P|0,r[1548]=Re,r[Re+4>>2]=Te|1,r[G+4>>2]=P|3,G=G+8|0,F=Ge,G|0}return G=Je()|0,r[G>>2]=12,G=0,F=Ge,G|0}function de(n){n=n|0;var o=0,l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0;if(!n)return;l=n+-8|0,g=r[1546]|0,l>>>0<g>>>0&&ie(),n=r[n+-4>>2]|0,o=n&3,(o|0)==1&&ie(),u=n&-8,P=l+u|0;e:do if(n&1)I=l,c=u,R=l;else{if(n=r[l>>2]|0,!o)return;if(k=l+(0-n)|0,y=n+u|0,k>>>0<g>>>0&&ie(),(k|0)==(r[1547]|0)){if(n=P+4|0,o=r[n>>2]|0,(o&3|0)!=3){I=k,c=y,R=k;break}r[1544]=y,r[n>>2]=o&-2,r[k+4>>2]=y|1,r[k+y>>2]=y;return}if(u=n>>>3,n>>>0<256){if(o=r[k+8>>2]|0,l=r[k+12>>2]|0,n=6208+(u<<1<<2)|0,(o|0)!=(n|0)&&(o>>>0<g>>>0&&ie(),(r[o+12>>2]|0)!=(k|0)&&ie()),(l|0)==(o|0)){r[1542]=r[1542]&~(1<<u),I=k,c=y,R=k;break}(l|0)!=(n|0)?(l>>>0<g>>>0&&ie(),n=l+8|0,(r[n>>2]|0)==(k|0)?m=n:ie()):m=l+8|0,r[o+12>>2]=l,r[m>>2]=o,I=k,c=y,R=k;break}m=r[k+24>>2]|0,l=r[k+12>>2]|0;do if((l|0)==(k|0)){if(l=k+16|0,o=l+4|0,n=r[o>>2]|0,!n)if(n=r[l>>2]|0,n)o=l;else{S=0;break}for(;;){if(l=n+20|0,u=r[l>>2]|0,u|0){n=u,o=l;continue}if(l=n+16|0,u=r[l>>2]|0,u)n=u,o=l;else break}if(o>>>0<g>>>0)ie();else{r[o>>2]=0,S=n;break}}else if(u=r[k+8>>2]|0,u>>>0<g>>>0&&ie(),n=u+12|0,(r[n>>2]|0)!=(k|0)&&ie(),o=l+8|0,(r[o>>2]|0)==(k|0)){r[n>>2]=l,r[o>>2]=u,S=l;break}else ie();while(0);if(m){n=r[k+28>>2]|0,o=6472+(n<<2)|0;do if((k|0)==(r[o>>2]|0)){if(r[o>>2]=S,!S){r[1543]=r[1543]&~(1<<n),I=k,c=y,R=k;break e}}else if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(k|0)&1)<<2)>>2]=S,S)break;I=k,c=y,R=k;break e}else ie();while(0);l=r[1546]|0,S>>>0<l>>>0&&ie(),r[S+24>>2]=m,n=k+16|0,o=r[n>>2]|0;do if(o|0)if(o>>>0<l>>>0)ie();else{r[S+16>>2]=o,r[o+24>>2]=S;break}while(0);if(n=r[n+4>>2]|0,n)if(n>>>0<(r[1546]|0)>>>0)ie();else{r[S+20>>2]=n,r[n+24>>2]=S,I=k,c=y,R=k;break}else I=k,c=y,R=k}else I=k,c=y,R=k}while(0);if(R>>>0>=P>>>0&&ie(),n=P+4|0,o=r[n>>2]|0,o&1||ie(),o&2)r[n>>2]=o&-2,r[I+4>>2]=c|1,r[R+c>>2]=c;else{if(n=r[1547]|0,(P|0)==(r[1548]|0)){if(D=(r[1545]|0)+c|0,r[1545]=D,r[1548]=I,r[I+4>>2]=D|1,(I|0)!=(n|0))return;r[1547]=0,r[1544]=0;return}if((P|0)==(n|0)){D=(r[1544]|0)+c|0,r[1544]=D,r[1547]=R,r[I+4>>2]=D|1,r[R+D>>2]=D;return}c=(o&-8)+c|0,u=o>>>3;e:do if(o>>>0>=256){m=r[P+24>>2]|0,n=r[P+12>>2]|0;do if((n|0)==(P|0)){if(l=P+16|0,o=l+4|0,n=r[o>>2]|0,!n)if(n=r[l>>2]|0,n)o=l;else{M=0;break}for(;;){if(l=n+20|0,u=r[l>>2]|0,u|0){n=u,o=l;continue}if(l=n+16|0,u=r[l>>2]|0,u)n=u,o=l;else break}if(o>>>0<(r[1546]|0)>>>0)ie();else{r[o>>2]=0,M=n;break}}else if(o=r[P+8>>2]|0,o>>>0<(r[1546]|0)>>>0&&ie(),l=o+12|0,(r[l>>2]|0)!=(P|0)&&ie(),u=n+8|0,(r[u>>2]|0)==(P|0)){r[l>>2]=n,r[u>>2]=o,M=n;break}else ie();while(0);if(m|0){n=r[P+28>>2]|0,o=6472+(n<<2)|0;do if((P|0)==(r[o>>2]|0)){if(r[o>>2]=M,!M){r[1543]=r[1543]&~(1<<n);break e}}else if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(P|0)&1)<<2)>>2]=M,M)break;break e}else ie();while(0);l=r[1546]|0,M>>>0<l>>>0&&ie(),r[M+24>>2]=m,n=P+16|0,o=r[n>>2]|0;do if(o|0)if(o>>>0<l>>>0)ie();else{r[M+16>>2]=o,r[o+24>>2]=M;break}while(0);if(n=r[n+4>>2]|0,n|0)if(n>>>0<(r[1546]|0)>>>0)ie();else{r[M+20>>2]=n,r[n+24>>2]=M;break}}}else{if(o=r[P+8>>2]|0,l=r[P+12>>2]|0,n=6208+(u<<1<<2)|0,(o|0)!=(n|0)&&(o>>>0<(r[1546]|0)>>>0&&ie(),(r[o+12>>2]|0)!=(P|0)&&ie()),(l|0)==(o|0)){r[1542]=r[1542]&~(1<<u);break}(l|0)!=(n|0)?(l>>>0<(r[1546]|0)>>>0&&ie(),n=l+8|0,(r[n>>2]|0)==(P|0)?A=n:ie()):A=l+8|0,r[o+12>>2]=l,r[A>>2]=o}while(0);if(r[I+4>>2]=c|1,r[R+c>>2]=c,(I|0)==(r[1547]|0)){r[1544]=c;return}}if(n=c>>>3,c>>>0<256){l=6208+(n<<1<<2)|0,o=r[1542]|0,n=1<<n,o&n?(n=l+8|0,o=r[n>>2]|0,o>>>0<(r[1546]|0)>>>0?ie():(x=o,D=n)):(r[1542]=o|n,x=l,D=l+8|0),r[D>>2]=I,r[x+12>>2]=I,r[I+8>>2]=x,r[I+12>>2]=l;return}n=c>>>8,n?c>>>0>16777215?n=31:(x=(n+1048320|0)>>>16&8,D=n<<x,P=(D+520192|0)>>>16&4,D=D<<P,n=(D+245760|0)>>>16&2,n=14-(P|x|n)+(D<<n>>>15)|0,n=c>>>(n+7|0)&1|n<<1):n=0,u=6472+(n<<2)|0,r[I+28>>2]=n,r[I+20>>2]=0,r[I+16>>2]=0,o=r[1543]|0,l=1<<n;do if(o&l){for(o=c<<((n|0)==31?0:25-(n>>>1)|0),u=r[u>>2]|0;;){if((r[u+4>>2]&-8|0)==(c|0)){n=124;break}if(l=u+16+(o>>>31<<2)|0,n=r[l>>2]|0,n)o=o<<1,u=n;else{n=121;break}}if((n|0)==121)if(l>>>0<(r[1546]|0)>>>0)ie();else{r[l>>2]=I,r[I+24>>2]=u,r[I+12>>2]=I,r[I+8>>2]=I;break}else if((n|0)==124)if(n=u+8|0,o=r[n>>2]|0,D=r[1546]|0,o>>>0>=D>>>0&u>>>0>=D>>>0){r[o+12>>2]=I,r[n>>2]=I,r[I+8>>2]=o,r[I+12>>2]=u,r[I+24>>2]=0;break}else ie()}else r[1543]=o|l,r[u>>2]=I,r[I+24>>2]=u,r[I+12>>2]=I,r[I+8>>2]=I;while(0);if(I=(r[1550]|0)+-1|0,r[1550]=I,!I)n=6624;else return;for(;n=r[n>>2]|0,n;)n=n+8|0;r[1550]=-1}function ci(n,o){n=n|0,o=o|0;var l=0;return n?(l=te(o,n)|0,(o|n)>>>0>65535&&(l=((l>>>0)/(n>>>0)|0|0)==(o|0)?l:-1)):l=0,n=pe(l)|0,!n||!(r[n+-4>>2]&3)||Tt(n|0,0,l|0)|0,n|0}function zt(n,o){n=n|0,o=o|0;var l=0,u=0;return n?o>>>0>4294967231?(o=Je()|0,r[o>>2]=12,o=0,o|0):(l=us(n+-8|0,o>>>0<11?16:o+11&-8)|0,l|0?(o=l+8|0,o|0):(l=pe(o)|0,l?(u=r[n+-4>>2]|0,u=(u&-8)-((u&3|0)==0?8:4)|0,st(l|0,n|0,(u>>>0<o>>>0?u:o)|0)|0,de(n),o=l,o|0):(o=0,o|0))):(o=pe(o)|0,o|0)}function us(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0;if(P=n+4|0,M=r[P>>2]|0,l=M&-8,k=n+l|0,S=r[1546]|0,u=M&3,(u|0)!=1&n>>>0>=S>>>0&n>>>0<k>>>0||ie(),c=r[k+4>>2]|0,c&1||ie(),!u)return o>>>0<256?(n=0,n|0):((l>>>0>=(o+4|0)>>>0?(l-o|0)>>>0<=r[1662]<<1>>>0:0)||(n=0),n|0);if(l>>>0>=o>>>0)return l=l-o|0,l>>>0<=15||(R=n+o|0,r[P>>2]=M&1|o|2,r[R+4>>2]=l|3,P=R+l+4|0,r[P>>2]=r[P>>2]|1,nn(R,l)),n|0;if((k|0)==(r[1548]|0))return R=(r[1545]|0)+l|0,l=R-o|0,u=n+o|0,R>>>0<=o>>>0?(n=0,n|0):(r[P>>2]=M&1|o|2,r[u+4>>2]=l|1,r[1548]=u,r[1545]=l,n|0);if((k|0)==(r[1547]|0))return c=(r[1544]|0)+l|0,c>>>0<o>>>0?(n=0,n|0):(l=c-o|0,u=M&1,l>>>0>15?(M=n+o|0,R=M+l|0,r[P>>2]=u|o|2,r[M+4>>2]=l|1,r[R>>2]=l,u=R+4|0,r[u>>2]=r[u>>2]&-2,u=M):(r[P>>2]=u|c|2,u=n+c+4|0,r[u>>2]=r[u>>2]|1,u=0,l=0),r[1544]=l,r[1547]=u,n|0);if(c&2|0||(A=(c&-8)+l|0,A>>>0<o>>>0))return n=0,n|0;R=A-o|0,m=c>>>3;e:do if(c>>>0>=256){g=r[k+24>>2]|0,c=r[k+12>>2]|0;do if((c|0)==(k|0)){if(c=k+16|0,u=c+4|0,l=r[u>>2]|0,!l)if(l=r[c>>2]|0,l)u=c;else{y=0;break}for(;;){if(c=l+20|0,m=r[c>>2]|0,m|0){l=m,u=c;continue}if(c=l+16|0,m=r[c>>2]|0,m)l=m,u=c;else break}if(u>>>0<S>>>0)ie();else{r[u>>2]=0,y=l;break}}else if(m=r[k+8>>2]|0,m>>>0<S>>>0&&ie(),l=m+12|0,(r[l>>2]|0)!=(k|0)&&ie(),u=c+8|0,(r[u>>2]|0)==(k|0)){r[l>>2]=c,r[u>>2]=m,y=c;break}else ie();while(0);if(g|0){l=r[k+28>>2]|0,u=6472+(l<<2)|0;do if((k|0)==(r[u>>2]|0)){if(r[u>>2]=y,!y){r[1543]=r[1543]&~(1<<l);break e}}else if(g>>>0>=(r[1546]|0)>>>0){if(r[g+16+(((r[g+16>>2]|0)!=(k|0)&1)<<2)>>2]=y,y)break;break e}else ie();while(0);c=r[1546]|0,y>>>0<c>>>0&&ie(),r[y+24>>2]=g,l=k+16|0,u=r[l>>2]|0;do if(u|0)if(u>>>0<c>>>0)ie();else{r[y+16>>2]=u,r[u+24>>2]=y;break}while(0);if(l=r[l+4>>2]|0,l|0)if(l>>>0<(r[1546]|0)>>>0)ie();else{r[y+20>>2]=l,r[l+24>>2]=y;break}}}else{if(u=r[k+8>>2]|0,c=r[k+12>>2]|0,l=6208+(m<<1<<2)|0,(u|0)!=(l|0)&&(u>>>0<S>>>0&&ie(),(r[u+12>>2]|0)!=(k|0)&&ie()),(c|0)==(u|0)){r[1542]=r[1542]&~(1<<m);break}(c|0)!=(l|0)?(c>>>0<S>>>0&&ie(),l=c+8|0,(r[l>>2]|0)==(k|0)?g=l:ie()):g=c+8|0,r[u+12>>2]=c,r[g>>2]=u}while(0);return l=M&1,R>>>0<16?(r[P>>2]=A|l|2,P=n+A+4|0,r[P>>2]=r[P>>2]|1,n|0):(M=n+o|0,r[P>>2]=l|o|2,r[M+4>>2]=R|3,P=M+R+4|0,r[P>>2]=r[P>>2]|1,nn(M,R),n|0)}function nn(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0,D=0,I=0;P=n+o|0,l=r[n+4>>2]|0;e:do if(l&1)I=n,c=o;else{if(m=r[n>>2]|0,!(l&3))return;if(A=n+(0-m)|0,k=m+o|0,S=r[1546]|0,A>>>0<S>>>0&&ie(),(A|0)==(r[1547]|0)){if(n=P+4|0,l=r[n>>2]|0,(l&3|0)!=3){I=A,c=k;break}r[1544]=k,r[n>>2]=l&-2,r[A+4>>2]=k|1,r[A+k>>2]=k;return}if(u=m>>>3,m>>>0<256){if(l=r[A+8>>2]|0,o=r[A+12>>2]|0,n=6208+(u<<1<<2)|0,(l|0)!=(n|0)&&(l>>>0<S>>>0&&ie(),(r[l+12>>2]|0)!=(A|0)&&ie()),(o|0)==(l|0)){r[1542]=r[1542]&~(1<<u),I=A,c=k;break}(o|0)!=(n|0)?(o>>>0<S>>>0&&ie(),n=o+8|0,(r[n>>2]|0)==(A|0)?g=n:ie()):g=o+8|0,r[l+12>>2]=o,r[g>>2]=l,I=A,c=k;break}m=r[A+24>>2]|0,o=r[A+12>>2]|0;do if((o|0)==(A|0)){if(o=A+16|0,l=o+4|0,n=r[l>>2]|0,!n)if(n=r[o>>2]|0,n)l=o;else{y=0;break}for(;;){if(o=n+20|0,u=r[o>>2]|0,u|0){n=u,l=o;continue}if(o=n+16|0,u=r[o>>2]|0,u)n=u,l=o;else break}if(l>>>0<S>>>0)ie();else{r[l>>2]=0,y=n;break}}else if(u=r[A+8>>2]|0,u>>>0<S>>>0&&ie(),n=u+12|0,(r[n>>2]|0)!=(A|0)&&ie(),l=o+8|0,(r[l>>2]|0)==(A|0)){r[n>>2]=o,r[l>>2]=u,y=o;break}else ie();while(0);if(m){n=r[A+28>>2]|0,l=6472+(n<<2)|0;do if((A|0)==(r[l>>2]|0)){if(r[l>>2]=y,!y){r[1543]=r[1543]&~(1<<n),I=A,c=k;break e}}else if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(A|0)&1)<<2)>>2]=y,y)break;I=A,c=k;break e}else ie();while(0);o=r[1546]|0,y>>>0<o>>>0&&ie(),r[y+24>>2]=m,n=A+16|0,l=r[n>>2]|0;do if(l|0)if(l>>>0<o>>>0)ie();else{r[y+16>>2]=l,r[l+24>>2]=y;break}while(0);if(n=r[n+4>>2]|0,n)if(n>>>0<(r[1546]|0)>>>0)ie();else{r[y+20>>2]=n,r[n+24>>2]=y,I=A,c=k;break}else I=A,c=k}else I=A,c=k}while(0);if(g=r[1546]|0,P>>>0<g>>>0&&ie(),n=P+4|0,l=r[n>>2]|0,l&2)r[n>>2]=l&-2,r[I+4>>2]=c|1,r[I+c>>2]=c;else{if(n=r[1547]|0,(P|0)==(r[1548]|0)){if(D=(r[1545]|0)+c|0,r[1545]=D,r[1548]=I,r[I+4>>2]=D|1,(I|0)!=(n|0))return;r[1547]=0,r[1544]=0;return}if((P|0)==(n|0)){D=(r[1544]|0)+c|0,r[1544]=D,r[1547]=I,r[I+4>>2]=D|1,r[I+D>>2]=D;return}c=(l&-8)+c|0,u=l>>>3;e:do if(l>>>0>=256){m=r[P+24>>2]|0,o=r[P+12>>2]|0;do if((o|0)==(P|0)){if(o=P+16|0,l=o+4|0,n=r[l>>2]|0,!n)if(n=r[o>>2]|0,n)l=o;else{M=0;break}for(;;){if(o=n+20|0,u=r[o>>2]|0,u|0){n=u,l=o;continue}if(o=n+16|0,u=r[o>>2]|0,u)n=u,l=o;else break}if(l>>>0<g>>>0)ie();else{r[l>>2]=0,M=n;break}}else if(u=r[P+8>>2]|0,u>>>0<g>>>0&&ie(),n=u+12|0,(r[n>>2]|0)!=(P|0)&&ie(),l=o+8|0,(r[l>>2]|0)==(P|0)){r[n>>2]=o,r[l>>2]=u,M=o;break}else ie();while(0);if(m|0){n=r[P+28>>2]|0,l=6472+(n<<2)|0;do if((P|0)==(r[l>>2]|0)){if(r[l>>2]=M,!M){r[1543]=r[1543]&~(1<<n);break e}}else if(m>>>0>=(r[1546]|0)>>>0){if(r[m+16+(((r[m+16>>2]|0)!=(P|0)&1)<<2)>>2]=M,M)break;break e}else ie();while(0);o=r[1546]|0,M>>>0<o>>>0&&ie(),r[M+24>>2]=m,n=P+16|0,l=r[n>>2]|0;do if(l|0)if(l>>>0<o>>>0)ie();else{r[M+16>>2]=l,r[l+24>>2]=M;break}while(0);if(n=r[n+4>>2]|0,n|0)if(n>>>0<(r[1546]|0)>>>0)ie();else{r[M+20>>2]=n,r[n+24>>2]=M;break}}}else{if(l=r[P+8>>2]|0,o=r[P+12>>2]|0,n=6208+(u<<1<<2)|0,(l|0)!=(n|0)&&(l>>>0<g>>>0&&ie(),(r[l+12>>2]|0)!=(P|0)&&ie()),(o|0)==(l|0)){r[1542]=r[1542]&~(1<<u);break}(o|0)!=(n|0)?(o>>>0<g>>>0&&ie(),n=o+8|0,(r[n>>2]|0)==(P|0)?R=n:ie()):R=o+8|0,r[l+12>>2]=o,r[R>>2]=l}while(0);if(r[I+4>>2]=c|1,r[I+c>>2]=c,(I|0)==(r[1547]|0)){r[1544]=c;return}}if(n=c>>>3,c>>>0<256){o=6208+(n<<1<<2)|0,l=r[1542]|0,n=1<<n,l&n?(n=o+8|0,l=r[n>>2]|0,l>>>0<(r[1546]|0)>>>0?ie():(x=l,D=n)):(r[1542]=l|n,x=o,D=o+8|0),r[D>>2]=I,r[x+12>>2]=I,r[I+8>>2]=x,r[I+12>>2]=o;return}if(n=c>>>8,n?c>>>0>16777215?n=31:(x=(n+1048320|0)>>>16&8,D=n<<x,P=(D+520192|0)>>>16&4,D=D<<P,n=(D+245760|0)>>>16&2,n=14-(P|x|n)+(D<<n>>>15)|0,n=c>>>(n+7|0)&1|n<<1):n=0,u=6472+(n<<2)|0,r[I+28>>2]=n,r[I+20>>2]=0,r[I+16>>2]=0,l=r[1543]|0,o=1<<n,!(l&o)){r[1543]=l|o,r[u>>2]=I,r[I+24>>2]=u,r[I+12>>2]=I,r[I+8>>2]=I;return}for(l=c<<((n|0)==31?0:25-(n>>>1)|0),u=r[u>>2]|0;;){if((r[u+4>>2]&-8|0)==(c|0)){n=121;break}if(o=u+16+(l>>>31<<2)|0,n=r[o>>2]|0,n)l=l<<1,u=n;else{n=118;break}}if((n|0)==118){o>>>0<(r[1546]|0)>>>0&&ie(),r[o>>2]=I,r[I+24>>2]=u,r[I+12>>2]=I,r[I+8>>2]=I;return}else if((n|0)==121){n=u+8|0,l=r[n>>2]|0,D=r[1546]|0,l>>>0>=D>>>0&u>>>0>=D>>>0||ie(),r[l+12>>2]=I,r[n>>2]=I,r[I+8>>2]=l,r[I+12>>2]=u,r[I+24>>2]=0;return}}function Ur(n){n=n|0;var o=0;for(o=(n|0)==0?1:n;n=pe(o)|0,!(n|0);){if(n=Rs()|0,!n){n=0;break}mn[n&3]()}return n|0}function ze(n){return n=n|0,Ur(n)|0}function kt(n){n=n|0,de(n)}function Be(n){n=n|0,kt(n)}function cs(){var n=0,o=0,l=0,u=0,c=0,m=0,g=0,S=0;c=F,F=F+48|0,g=c+32|0,l=c+24|0,S=c+16|0,m=c,c=c+36|0,n=hs()|0,(n|0?(u=r[n>>2]|0,u|0):0)&&(n=u+48|0,o=r[n>>2]|0,n=r[n+4>>2]|0,(o&-256|0)==1126902528&(n|0)==1129074247||(r[l>>2]=r[336],tr(5590,l)),(o|0)==1126902529&(n|0)==1129074247?n=r[u+44>>2]|0:n=u+80|0,r[c>>2]=n,u=r[u>>2]|0,n=r[u+4>>2]|0,u=je[r[(r[26]|0)+16>>2]&15](104,u,c)|0,o=r[336]|0,u?(S=r[c>>2]|0,S=Yr[r[(r[S>>2]|0)+8>>2]&7](S)|0,r[m>>2]=o,r[m+4>>2]=n,r[m+8>>2]=S,tr(5504,m)):(r[S>>2]=o,r[S+4>>2]=n,tr(5549,S))),tr(5628,g)}function hs(){var n=0,o=0;if(n=F,F=F+16|0,Jr(6664,3)|0)tr(5779,n);else return o=mt(r[1667]|0)|0,F=n,o|0;return 0}function tr(n,o){n=n|0,o=o|0;var l=0;l=F,F=F+16|0,r[l>>2]=o,o=r[105]|0,ii(o,n,l)|0,Gt(10,o)|0,ie()}function ds(n){}function gs(n){n=n|0,kt(n)}function ps(n){}function ms(n){}function _s(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;if(g=F,F=F+64|0,c=g,xt(n,o)|0)o=1;else if((o|0)!=0?(m=ln(o,128,112,0)|0,(m|0)!=0):0){o=c+4|0,u=o+52|0;do r[o>>2]=0,o=o+4|0;while((o|0)<(u|0));r[c>>2]=m,r[c+8>>2]=n,r[c+12>>2]=-1,r[c+48>>2]=1,_i[r[(r[m>>2]|0)+28>>2]&3](m,c,r[l>>2]|0,1),(r[c+24>>2]|0)==1?(r[l>>2]=r[c+16>>2],o=1):o=0}else o=0;return F=g,o|0}function vs(n,o,l,u,c,m){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,xt(n,r[o+8>>2]|0)|0&&an(0,o,l,u,c)}function Ss(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0;var m=0;do if(xt(n,r[o+8>>2]|0)|0)on(0,o,l,u);else if(xt(n,r[o>>2]|0)|0){if(n=o+32|0,(r[o+16>>2]|0)!=(l|0)?(m=o+20|0,(r[m>>2]|0)!=(l|0)):0){r[n>>2]=u,r[m>>2]=l,u=o+40|0,r[u>>2]=(r[u>>2]|0)+1,((r[o+36>>2]|0)==1?(r[o+24>>2]|0)==2:0)&&(T[o+54>>0]=1),r[o+44>>2]=4;break}(u|0)==1&&(r[n>>2]=1)}while(0)}function Es(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0,xt(n,r[o+8>>2]|0)|0&&sn(0,o,l,u)}function xt(n,o,l){return n=n|0,o=o|0,(n|0)==(o|0)|0}function sn(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0;n=o+16|0,c=r[n>>2]|0,m=o+36|0,g=o+24|0;do if(c){if((c|0)!=(l|0)){r[m>>2]=(r[m>>2]|0)+1,r[g>>2]=2,T[o+54>>0]=1;break}(r[g>>2]|0)==2&&(r[g>>2]=u)}else r[n>>2]=l,r[g>>2]=u,r[m>>2]=1;while(0)}function on(n,o,l,u){o=o|0,l=l|0,u=u|0;var c=0;((r[o+4>>2]|0)==(l|0)?(c=o+28|0,(r[c>>2]|0)!=1):0)&&(r[c>>2]=u)}function an(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0;T[o+53>>0]=1;do if((r[o+4>>2]|0)==(u|0)){if(T[o+52>>0]=1,u=o+16|0,m=r[u>>2]|0,S=o+54|0,y=o+48|0,g=o+24|0,n=o+36|0,!m){if(r[u>>2]=l,r[g>>2]=c,r[n>>2]=1,!((r[y>>2]|0)==1&(c|0)==1))break;T[S>>0]=1;break}if((m|0)!=(l|0)){r[n>>2]=(r[n>>2]|0)+1,T[S>>0]=1;break}n=r[g>>2]|0,(n|0)==2&&(r[g>>2]=c,n=c),(r[y>>2]|0)==1&(n|0)==1&&(T[S>>0]=1)}while(0)}function ln(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0;M=F,F=F+64|0,A=M,k=r[n>>2]|0,R=n+(r[k+-8>>2]|0)|0,k=r[k+-4>>2]|0,r[A>>2]=l,r[A+4>>2]=n,r[A+8>>2]=o,r[A+12>>2]=u,n=A+16|0,o=A+20|0,u=A+24|0,c=A+28|0,m=A+32|0,g=A+40|0,S=n,y=S+36|0;do r[S>>2]=0,S=S+4|0;while((S|0)<(y|0));N[n+36>>1]=0,T[n+38>>0]=0;e:do if(xt(k,l)|0)r[A+48>>2]=1,Kr[r[(r[k>>2]|0)+20>>2]&3](k,A,R,R,1,0),n=(r[u>>2]|0)==1?R:0;else{switch(vi[r[(r[k>>2]|0)+24>>2]&3](k,A,R,1,0),r[A+36>>2]|0){case 0:{n=(r[g>>2]|0)==1&(r[c>>2]|0)==1&(r[m>>2]|0)==1?r[o>>2]|0:0;break e}case 1:break;default:{n=0;break e}}if((r[u>>2]|0)!=1?!((r[g>>2]|0)==0&(r[c>>2]|0)==1&(r[m>>2]|0)==1):0){n=0;break}n=r[n>>2]|0}while(0);return F=M,n|0}function ys(n){n=n|0,kt(n)}function ws(n,o,l,u,c,m){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,m=m|0,xt(n,r[o+8>>2]|0)|0?an(0,o,l,u,c):(n=r[n+8>>2]|0,Kr[r[(r[n>>2]|0)+20>>2]&3](n,o,l,u,c,m))}function Ts(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0;do if(xt(n,r[o+8>>2]|0)|0)on(0,o,l,u);else{if(m=n+8|0,!(xt(n,r[o>>2]|0)|0)){S=r[m>>2]|0,vi[r[(r[S>>2]|0)+24>>2]&3](S,o,l,u,c);break}if(n=o+32|0,(r[o+16>>2]|0)!=(l|0)?(g=o+20|0,(r[g>>2]|0)!=(l|0)):0){if(r[n>>2]=u,u=o+44|0,(r[u>>2]|0)==4)break;n=o+52|0,T[n>>0]=0,y=o+53|0,T[y>>0]=0,m=r[m>>2]|0,Kr[r[(r[m>>2]|0)+20>>2]&3](m,o,l,l,1,c),T[y>>0]|0?T[n>>0]|0?n=3:(n=3,S=11):(n=4,S=11),(S|0)==11&&(r[g>>2]=l,y=o+40|0,r[y>>2]=(r[y>>2]|0)+1,((r[o+36>>2]|0)==1?(r[o+24>>2]|0)==2:0)&&(T[o+54>>0]=1)),r[u>>2]=n;break}(u|0)==1&&(r[n>>2]=1)}while(0)}function Cs(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0,xt(n,r[o+8>>2]|0)|0?sn(0,o,l,u):(n=r[n+8>>2]|0,_i[r[(r[n>>2]|0)+28>>2]&3](n,o,l,u))}function ks(){var n=0;if(n=F,F=F+16|0,xe(6668,21)|0)tr(5828,n);else{F=n;return}}function As(n){n=n|0;var o=0;if(o=F,F=F+16|0,de(n),_r(r[1667]|0,0)|0)tr(5878,o);else{F=o;return}}function Rs(){var n=0;return n=r[1668]|0,r[1668]=n+0,n|0}function Os(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0;return c=F,F=F+16|0,u=c,r[u>>2]=r[l>>2],n=je[r[(r[n>>2]|0)+16>>2]&15](n,o,u)|0,n&&(r[l>>2]=r[u>>2]),F=c,n&1|0}function Fs(n){return n=n|0,n?n=(ln(n,128,184,0)|0)!=0:n=0,n&1|0}function Ns(){}function Bt(n,o,l,u){return n=n|0,o=o|0,l=l|0,u=u|0,u=o-u-(l>>>0>n>>>0|0)>>>0,V=u,n-l>>>0|0|0}function et(n,o,l,u){return n=n|0,o=o|0,l=l|0,u=u|0,l=n+l>>>0,V=o+u+(l>>>0<n>>>0|0)>>>0,l|0|0}function Tt(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0,g=0;if(m=n+l|0,o=o&255,(l|0)>=67){for(;n&3;)T[n>>0]=o,n=n+1|0;for(u=m&-4|0,c=u-64|0,g=o|o<<8|o<<16|o<<24;(n|0)<=(c|0);)r[n>>2]=g,r[n+4>>2]=g,r[n+8>>2]=g,r[n+12>>2]=g,r[n+16>>2]=g,r[n+20>>2]=g,r[n+24>>2]=g,r[n+28>>2]=g,r[n+32>>2]=g,r[n+36>>2]=g,r[n+40>>2]=g,r[n+44>>2]=g,r[n+48>>2]=g,r[n+52>>2]=g,r[n+56>>2]=g,r[n+60>>2]=g,n=n+64|0;for(;(n|0)<(u|0);)r[n>>2]=g,n=n+4|0}for(;(n|0)<(m|0);)T[n>>0]=o,n=n+1|0;return m-l|0}function ft(n,o,l){return n=n|0,o=o|0,l=l|0,(l|0)<32?(V=o<<l|(n&(1<<l)-1<<32-l)>>>32-l,n<<l):(V=n<<l-32,0)}function It(n,o,l){return n=n|0,o=o|0,l=l|0,(l|0)<32?(V=o>>>l,n>>>l|(o&(1<<l)-1)<<32-l):(V=0,o>>>l-32|0)}function st(n,o,l){n=n|0,o=o|0,l=l|0;var u=0,c=0,m=0;if((l|0)>=8192)return Qe(n|0,o|0,l|0)|0;if(m=n|0,c=n+l|0,(n&3)==(o&3)){for(;n&3;){if(!l)return m|0;T[n>>0]=T[o>>0]|0,n=n+1|0,o=o+1|0,l=l-1|0}for(l=c&-4|0,u=l-64|0;(n|0)<=(u|0);)r[n>>2]=r[o>>2],r[n+4>>2]=r[o+4>>2],r[n+8>>2]=r[o+8>>2],r[n+12>>2]=r[o+12>>2],r[n+16>>2]=r[o+16>>2],r[n+20>>2]=r[o+20>>2],r[n+24>>2]=r[o+24>>2],r[n+28>>2]=r[o+28>>2],r[n+32>>2]=r[o+32>>2],r[n+36>>2]=r[o+36>>2],r[n+40>>2]=r[o+40>>2],r[n+44>>2]=r[o+44>>2],r[n+48>>2]=r[o+48>>2],r[n+52>>2]=r[o+52>>2],r[n+56>>2]=r[o+56>>2],r[n+60>>2]=r[o+60>>2],n=n+64|0,o=o+64|0;for(;(n|0)<(l|0);)r[n>>2]=r[o>>2],n=n+4|0,o=o+4|0}else for(l=c-4|0;(n|0)<(l|0);)T[n>>0]=T[o>>0]|0,T[n+1>>0]=T[o+1>>0]|0,T[n+2>>0]=T[o+2>>0]|0,T[n+3>>0]=T[o+3>>0]|0,n=n+4|0,o=o+4|0;for(;(n|0)<(c|0);)T[n>>0]=T[o>>0]|0,n=n+1|0,o=o+1|0;return m|0}function hi(n){n=n|0;var o=0;return o=T[ee+(n&255)>>0]|0,(o|0)<8?o|0:(o=T[ee+(n>>8&255)>>0]|0,(o|0)<8?o+8|0:(o=T[ee+(n>>16&255)>>0]|0,(o|0)<8?o+16|0:(T[ee+(n>>>24)>>0]|0)+24|0))}function di(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0;var m=0,g=0,S=0,y=0,k=0,A=0,R=0,M=0,P=0,x=0;if(A=n,y=o,k=y,g=l,M=u,S=M,!k)return m=(c|0)!=0,S?m?(r[c>>2]=n|0,r[c+4>>2]=o&0,M=0,c=0,V=M,c|0):(M=0,c=0,V=M,c|0):(m&&(r[c>>2]=(A>>>0)%(g>>>0),r[c+4>>2]=0),M=0,c=(A>>>0)/(g>>>0)>>>0,V=M,c|0);m=(S|0)==0;do if(g){if(!m){if(m=(Ee(S|0)|0)-(Ee(k|0)|0)|0,m>>>0<=31){R=m+1|0,S=31-m|0,o=m-31>>31,g=R,n=A>>>(R>>>0)&o|k<<S,o=k>>>(R>>>0)&o,m=0,S=A<<S;break}return c?(r[c>>2]=n|0,r[c+4>>2]=y|o&0,M=0,c=0,V=M,c|0):(M=0,c=0,V=M,c|0)}if(m=g-1|0,m&g|0){S=(Ee(g|0)|0)+33-(Ee(k|0)|0)|0,x=64-S|0,R=32-S|0,y=R>>31,P=S-32|0,o=P>>31,g=S,n=R-1>>31&k>>>(P>>>0)|(k<<R|A>>>(S>>>0))&o,o=o&k>>>(S>>>0),m=A<<x&y,S=(k<<x|A>>>(P>>>0))&y|A<<R&S-33>>31;break}return c|0&&(r[c>>2]=m&A,r[c+4>>2]=0),(g|0)==1?(P=y|o&0,x=n|0|0,V=P,x|0):(x=hi(g|0)|0,P=k>>>(x>>>0)|0,x=k<<32-x|A>>>(x>>>0)|0,V=P,x|0)}else{if(m)return c|0&&(r[c>>2]=(k>>>0)%(g>>>0),r[c+4>>2]=0),P=0,x=(k>>>0)/(g>>>0)>>>0,V=P,x|0;if(!A)return c|0&&(r[c>>2]=0,r[c+4>>2]=(k>>>0)%(S>>>0)),P=0,x=(k>>>0)/(S>>>0)>>>0,V=P,x|0;if(m=S-1|0,!(m&S))return c|0&&(r[c>>2]=n|0,r[c+4>>2]=m&k|o&0),P=0,x=k>>>((hi(S|0)|0)>>>0),V=P,x|0;if(m=(Ee(S|0)|0)-(Ee(k|0)|0)|0,m>>>0<=30){o=m+1|0,S=31-m|0,g=o,n=k<<S|A>>>(o>>>0),o=k>>>(o>>>0),m=0,S=A<<S;break}return c?(r[c>>2]=n|0,r[c+4>>2]=y|o&0,P=0,x=0,V=P,x|0):(P=0,x=0,V=P,x|0)}while(0);if(!g)k=S,y=0,S=0;else{R=l|0|0,A=M|u&0,k=et(R|0,A|0,-1,-1)|0,l=V,y=S,S=0;do u=y,y=m>>>31|y<<1,m=S|m<<1,u=n<<1|u>>>31|0,M=n>>>31|o<<1|0,Bt(k|0,l|0,u|0,M|0)|0,x=V,P=x>>31|((x|0)<0?-1:0)<<1,S=P&1,n=Bt(u|0,M|0,P&R|0,(((x|0)<0?-1:0)>>31|((x|0)<0?-1:0)<<1)&A|0)|0,o=V,g=g-1|0;while((g|0)!=0);k=y,y=0}return g=0,c|0&&(r[c>>2]=n,r[c+4>>2]=o),P=(m|0)>>>31|(k|g)<<1|(g<<1|m>>>31)&0|y,x=(m<<1|0>>>31)&-2|S,V=P,x|0}function wr(n,o,l,u){return n=n|0,o=o|0,l=l|0,u=u|0,di(n,o,l,u,0)|0}function fn(n,o){n=n|0,o=o|0;var l=0,u=0,c=0,m=0;return m=n&65535,c=o&65535,l=te(c,m)|0,u=n>>>16,n=(l>>>16)+(te(c,u)|0)|0,c=o>>>16,o=te(c,m)|0,V=(n>>>16)+(te(c,u)|0)+(((n&65535)+o|0)>>>16)|0,n+o<<16|l&65535|0|0}function Tr(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0;return c=n,m=l,l=fn(c,m)|0,n=V,V=(te(o,m)|0)+(te(u,c)|0)+n|n&0,l|0|0|0}function Kt(n){n=n|0;var o=0,l=0;return l=n+15&-16|0,o=r[U>>2]|0,n=o+l|0,(l|0)>0&(n|0)<(o|0)|(n|0)<0?(be()|0,He(12),-1):(r[U>>2]=n,((n|0)>(Ae()|0)?(ke()|0)==0:0)?(He(12),r[U>>2]=o,-1):o|0)}function Vr(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0;var c=0,m=0;return m=F,F=F+16|0,c=m|0,di(n,o,l,u,c)|0,F=m,V=r[c+4>>2]|0,r[c>>2]|0|0}function un(n){return n=n|0,(n&255)<<24|(n>>8&255)<<16|(n>>16&255)<<8|n>>>24|0}function Ms(n,o,l,u){return n=n|0,o=o|0,l=l|0,u=u|0,je[n&15](o|0,l|0,u|0)|0}function Ps(n,o,l,u,c,m,g){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,m=m|0,g=g|0,Kr[n&3](o|0,l|0,u|0,c|0,m|0,g|0)}function bs(n,o){return n=n|0,o=o|0,+pn[n&3](o|0)}function xs(n,o){n=n|0,o=o|0,pi[n&31](o|0)}function Is(n,o){return n=n|0,o=o|0,Yr[n&7](o|0)|0}function Ds(n,o,l,u){n=n|0,o=o|0,l=l|0,u=u|0,mi[n&7](o|0,l|0,u|0)}function Ls(n){n=n|0,mn[n&3]()}function Hs(n,o,l,u,c){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,_i[n&3](o|0,l|0,u|0,c|0)}function Bs(n,o,l,u,c,m){n=n|0,o=o|0,l=l|0,u=u|0,c=c|0,m=m|0,vi[n&3](o|0,l|0,u|0,c|0,m|0)}function Us(n,o,l,u){return n=n|0,o=o|0,l=l|0,u=u|0,+rr[n&7](o|0,l|0,u|0)}function Cr(n,o,l){return Me(0),0}function cn(n,o,l,u,c,m){Me(1)}function hn(n){return Me(2),0}function Mt(n){Me(3)}function Gr(n){return Me(4),0}function zr(n,o,l){Me(5)}function Vs(){Me(6)}function Gs(){le()}function dn(n,o,l,u){Me(7)}function gn(n,o,l,u,c){Me(8)}function gi(n,o,l){return Me(9),0}var je=[Cr,On,bn,Gn,Wn,Xn,Ni,h0,m0,D0,_s,p0,Cr,Cr,Cr,Cr],Kr=[cn,vs,ws,cn],pn=[hn,Fn,xn,hn],pi=[Mt,Cn,kn,An,Rn,Nn,Mn,Pn,In,Mr,Yn,ti,qn,Nr,Zn,ds,gs,ps,ms,ys,Xe,As,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt,Mt],Yr=[Gr,zn,$n,Jn,c0,Gr,Gr,Gr],mi=[zr,Tn,Kn,jn,Qn,zr,zr,zr],mn=[Vs,Gs,cs,ks],_i=[dn,Es,Cs,dn],vi=[gn,Ss,Ts,gn],rr=[gi,Un,Bn,Hn,Ln,Dn,gi,gi];return{_parse_command_line:We,_svm_get_labels:n0,_libsvm_train_problem:_t,_libsvm_train:yn,_svm_get_nr_sv:o0,_deserialize_model:Ar,_llvm_cttz_i32:hi,_bitshift64Lshr:It,_get_svr_epsilon:wn,_libsvm_cross_validation:Rt,___udivmoddi4:di,_svm_get_svm_type:i0,_libsvm_predict_one_probability:En,_fflush:Br,___cxa_is_pointer_type:Fs,_libsvm_predict_one:Sn,_memset:Tt,_add_instance:Ct,_sbrk:Kt,_memcpy:st,_llvm_bswap_i32:un,___muldi3:Tr,_bitshift64Shl:ft,___uremdi3:Vr,_svm_get_sv_indices:s0,_i64Subtract:Bt,_serialize_model:Ut,_svm_get_nr_class:e0,_i64Add:et,_emscripten_get_global_libc:_0,_svm_free_model:Rr,___udivdi3:wr,_free_problem:Or,___errno_location:Je,___muldsi3:fn,___cxa_can_catch:Os,_free:de,_create_svm_nodes:qt,_malloc:pe,runPostSets:Ns,_emscripten_replace_memory:_e,stackAlloc:ye,stackSave:ge,stackRestore:Oe,establishStackSpace:Ce,setTempRet0:Pe,getTempRet0:Ue,setThrew:Fe,stackAlloc:ye,stackSave:ge,stackRestore:Oe,establishStackSpace:Ce,setThrew:Fe,setTempRet0:Pe,getTempRet0:Ue,dynCall_iiii:Ms,dynCall_viiiiii:Ps,dynCall_di:bs,dynCall_vi:xs,dynCall_ii:Is,dynCall_viii:Ds,dynCall_v:Ls,dynCall_viiii:Hs,dynCall_viiiii:Bs,dynCall_diii:Us}}(Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module._parse_command_line=asm._parse_command_line,Module._svm_get_labels=asm._svm_get_labels,Module._libsvm_train_problem=asm._libsvm_train_problem,Module._libsvm_train=asm._libsvm_train,Module._svm_get_nr_sv=asm._svm_get_nr_sv,Module._deserialize_model=asm._deserialize_model,Module.getTempRet0=asm.getTempRet0;var _memset=Module._memset=asm._memset,_bitshift64Lshr=Module._bitshift64Lshr=asm._bitshift64Lshr;Module.setThrew=asm.setThrew,Module._get_svr_epsilon=asm._get_svr_epsilon,Module._libsvm_cross_validation=asm._libsvm_cross_validation,Module._svm_get_svm_type=asm._svm_get_svm_type,Module._libsvm_predict_one_probability=asm._libsvm_predict_one_probability,Module._fflush=asm._fflush,Module.___cxa_is_pointer_type=asm.___cxa_is_pointer_type,Module._libsvm_predict_one=asm._libsvm_predict_one,Module.stackRestore=asm.stackRestore;var _llvm_cttz_i32=Module._llvm_cttz_i32=asm._llvm_cttz_i32;Module._add_instance=asm._add_instance;var _sbrk=Module._sbrk=asm._sbrk,_memcpy=Module._memcpy=asm._memcpy;Module.stackSave=asm.stackSave,Module.___errno_location=asm.___errno_location;var ___muldi3=Module.___muldi3=asm.___muldi3,_bitshift64Shl=Module._bitshift64Shl=asm._bitshift64Shl,___uremdi3=Module.___uremdi3=asm.___uremdi3;Module.stackAlloc=asm.stackAlloc,Module._svm_get_sv_indices=asm._svm_get_sv_indices;var _i64Subtract=Module._i64Subtract=asm._i64Subtract,___udivmoddi4=Module.___udivmoddi4=asm.___udivmoddi4;Module.setTempRet0=asm.setTempRet0,Module._svm_get_nr_class=asm._svm_get_nr_class;var _i64Add=Module._i64Add=asm._i64Add;Module._emscripten_get_global_libc=asm._emscripten_get_global_libc,Module._svm_free_model=asm._svm_free_model;var ___udivdi3=Module.___udivdi3=asm.___udivdi3;Module._free_problem=asm._free_problem;var _llvm_bswap_i32=Module._llvm_bswap_i32=asm._llvm_bswap_i32,___muldsi3=Module.___muldsi3=asm.___muldsi3;Module.___cxa_can_catch=asm.___cxa_can_catch;var _free=Module._free=asm._free;Module.runPostSets=asm.runPostSets,Module.establishStackSpace=asm.establishStackSpace,Module._create_svm_nodes=asm._create_svm_nodes,Module._serialize_model=asm._serialize_model;var _malloc=Module._malloc=asm._malloc,_emscripten_replace_memory=Module._emscripten_replace_memory=asm._emscripten_replace_memory;Module.dynCall_iiii=asm.dynCall_iiii,Module.dynCall_viiiiii=asm.dynCall_viiiiii,Module.dynCall_di=asm.dynCall_di,Module.dynCall_vi=asm.dynCall_vi,Module.dynCall_ii=asm.dynCall_ii,Module.dynCall_viii=asm.dynCall_viii,Module.dynCall_v=asm.dynCall_v,Module.dynCall_viiii=asm.dynCall_viiii,Module.dynCall_viiiii=asm.dynCall_viiiii,Module.dynCall_diii=asm.dynCall_diii,Runtime.stackAlloc=Module.stackAlloc,Runtime.stackSave=Module.stackSave,Runtime.stackRestore=Module.stackRestore,Runtime.establishStackSpace=Module.establishStackSpace,Runtime.setTempRet0=Module.setTempRet0,Runtime.getTempRet0=Module.getTempRet0,Module.asm=asm;function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;dependenciesFulfilled=function t(){Module.calledRun||run(),Module.calledRun||(dependenciesFulfilled=t)},Module.callMain=Module.callMain=function t(e){e=e||[],ensureInitRuntime();var s=e.length+1;function a(){for(var E=0;E<4-1;E++)f.push(0)}var f=[allocate(intArrayFromString(Module.thisProgram),"i8",ALLOC_NORMAL)];a();for(var d=0;d<s-1;d=d+1)f.push(allocate(intArrayFromString(e[d]),"i8",ALLOC_NORMAL)),a();f.push(0),f=allocate(f,"i32",ALLOC_NORMAL);try{var _=Module._main(s,f,0);exit(_,!0)}catch(E){if(E instanceof ExitStatus)return;if(E=="SimulateInfiniteLoop"){Module.noExitRuntime=!0;return}else{var v=E;E&&typeof E=="object"&&E.stack&&(v=[E,E.stack]),Module.printErr("exception thrown: "+v),Module.quit(1,E)}}finally{}};function run(t){if(t=t||Module.arguments,runDependencies>0||(preRun(),runDependencies>0)||Module.calledRun)return;function e(){Module.calledRun||(Module.calledRun=!0,!ABORT&&(ensureInitRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),Module._main&&shouldRunNow&&Module.callMain(t),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}Module.run=Module.run=run;function exit(t,e){e&&Module.noExitRuntime||(Module.noExitRuntime||(ABORT=!0,STACKTOP=initialStackTop,exitRuntime(),Module.onExit&&Module.onExit(t)),ENVIRONMENT_IS_NODE&&process.exit(t),Module.quit(t,new ExitStatus(t)))}Module.exit=Module.exit=exit;var abortDecorators=[];function abort(t){t!==void 0?(Module.print(t),Module.printErr(t),t=JSON.stringify(t)):t="",ABORT=!0;var e=`
If this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.`,s="abort("+t+") at "+stackTrace()+e;throw abortDecorators&&abortDecorators.forEach(function(a){s=a(s,t)}),s}if(Module.abort=Module.abort=abort,Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run()})(libsvm$1);const loadSVM=loadSVM$1,libsvm=libsvm$1.exports;var asm=loadSVM(libsvm),vue3Konva={exports:{}},require$$0=getAugmentedNamespace(vue_runtime_esmBundler),PI_OVER_180=Math.PI/180;function detectBrowser(){return typeof window!="undefined"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const glob=typeof global!="undefined"?global:typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"?self:{},Konva$2={_global:glob,version:"8.3.2",isBrowser:detectBrowser(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle(t){return Konva$2.angleDeg?t*PI_OVER_180:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window!="undefined"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Konva$2.DD.isDragging},isDragReady(){return!!Konva$2.DD.node},document:glob.document,_injectGlobal(t){glob.Konva=t}},_registerNode=t=>{Konva$2[t.prototype.getClassName()]=t};Konva$2._injectGlobal(Konva$2);class Transform{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Transform(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var s=this.m;return{x:s[0]*e.x+s[2]*e.y+s[4],y:s[1]*e.x+s[3]*e.y+s[5]}}translate(e,s){return this.m[4]+=this.m[0]*e+this.m[2]*s,this.m[5]+=this.m[1]*e+this.m[3]*s,this}scale(e,s){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=s,this.m[3]*=s,this}rotate(e){var s=Math.cos(e),a=Math.sin(e),f=this.m[0]*s+this.m[2]*a,d=this.m[1]*s+this.m[3]*a,_=this.m[0]*-a+this.m[2]*s,v=this.m[1]*-a+this.m[3]*s;return this.m[0]=f,this.m[1]=d,this.m[2]=_,this.m[3]=v,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,s){var a=this.m[0]+this.m[2]*s,f=this.m[1]+this.m[3]*s,d=this.m[2]+this.m[0]*e,_=this.m[3]+this.m[1]*e;return this.m[0]=a,this.m[1]=f,this.m[2]=d,this.m[3]=_,this}multiply(e){var s=this.m[0]*e.m[0]+this.m[2]*e.m[1],a=this.m[1]*e.m[0]+this.m[3]*e.m[1],f=this.m[0]*e.m[2]+this.m[2]*e.m[3],d=this.m[1]*e.m[2]+this.m[3]*e.m[3],_=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],v=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=s,this.m[1]=a,this.m[2]=f,this.m[3]=d,this.m[4]=_,this.m[5]=v,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),s=this.m[3]*e,a=-this.m[1]*e,f=-this.m[2]*e,d=this.m[0]*e,_=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),v=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=s,this.m[1]=a,this.m[2]=f,this.m[3]=d,this.m[4]=_,this.m[5]=v,this}getMatrix(){return this.m}setAbsolutePosition(e,s){var a=this.m[0],f=this.m[1],d=this.m[2],_=this.m[3],v=this.m[4],E=this.m[5],C=(a*(s-E)-f*(e-v))/(a*_-f*d),O=(e-v-d*C)/a;return this.translate(O,C)}decompose(){var e=this.m[0],s=this.m[1],a=this.m[2],f=this.m[3],d=this.m[4],_=this.m[5],v=e*f-s*a;let E={x:d,y:_,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||s!=0){var C=Math.sqrt(e*e+s*s);E.rotation=s>0?Math.acos(e/C):-Math.acos(e/C),E.scaleX=C,E.scaleY=v/C,E.skewX=(e*a+s*f)/v,E.skewY=0}else if(a!=0||f!=0){var O=Math.sqrt(a*a+f*f);E.rotation=Math.PI/2-(f>0?Math.acos(-a/O):-Math.acos(a/O)),E.scaleX=v/O,E.scaleY=O,E.skewX=0,E.skewY=(e*a+s*f)/v}return E.rotation=Util._getRotation(E.rotation),E}}var OBJECT_ARRAY="[object Array]",OBJECT_NUMBER="[object Number]",OBJECT_STRING="[object String]",OBJECT_BOOLEAN="[object Boolean]",PI_OVER_DEG180=Math.PI/180,DEG180_OVER_PI=180/Math.PI,HASH$1="#",EMPTY_STRING$1="",ZERO="0",KONVA_WARNING="Konva warning: ",KONVA_ERROR="Konva error: ",RGB_PAREN="rgb(",COLORS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},RGB_REGEX=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,animQueue=[];const req=typeof requestAnimationFrame!="undefined"&&requestAnimationFrame||function(t){setTimeout(t,60)},Util={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===OBJECT_ARRAY},_isNumber(t){return Object.prototype.toString.call(t)===OBJECT_NUMBER&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===OBJECT_STRING},_isBoolean(t){return Object.prototype.toString.call(t)===OBJECT_BOOLEAN},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){animQueue.push(t),animQueue.length===1&&req(function(){const e=animQueue;animQueue=[],e.forEach(function(s){s()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var s=Util.createImageElement();s.onload=function(){e(s)},s.src=t},_rgbToHex(t,e,s){return((1<<24)+(t<<16)+(e<<8)+s).toString(16).slice(1)},_hexToRgb(t){t=t.replace(HASH$1,EMPTY_STRING$1);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=ZERO+t;return HASH$1+t},getRGB(t){var e;return t in COLORS?(e=COLORS[t],{r:e[0],g:e[1],b:e[2]}):t[0]===HASH$1?this._hexToRgb(t.substring(1)):t.substr(0,4)===RGB_PAREN?(e=RGB_REGEX.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",Util._namedColorToRBA(t)||Util._hex3ColorToRGBA(t)||Util._hex6ColorToRGBA(t)||Util._rgbColorToRGBA(t)||Util._rgbaColorToRGBA(t)||Util._hslColorToRGBA(t)},_namedColorToRBA(t){var e=COLORS[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((s,a)=>s.slice(-1)==="%"?a===3?parseInt(s)/100:parseInt(s)/100*255:Number(s));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...s]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),a=Number(s[0])/360,f=Number(s[1])/100,d=Number(s[2])/100;let _,v,E;if(f===0)return E=d*255,{r:Math.round(E),g:Math.round(E),b:Math.round(E),a:1};d<.5?_=d*(1+f):_=d+f-d*f;const C=2*d-_,O=[0,0,0];for(let T=0;T<3;T++)v=a+1/3*-(T-1),v<0&&v++,v>1&&v--,6*v<1?E=C+(_-C)*6*v:2*v<1?E=_:3*v<2?E=C+(_-C)*(2/3-v)*6:E=C,O[T]=E*255;return{r:Math.round(O[0]),g:Math.round(O[1]),b:Math.round(O[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var s in t)this._isPlainObject(t[s])?e[s]=this.cloneObject(t[s]):this._isArray(t[s])?e[s]=this.cloneArray(t[s]):e[s]=t[s];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*PI_OVER_DEG180},radToDeg(t){return t*DEG180_OVER_PI},_degToRad(t){return Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Util.degToRad(t)},_radToDeg(t){return Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Util.radToDeg(t)},_getRotation(t){return Konva$2.angleDeg?Util.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(KONVA_ERROR+t)},error(t){console.error(KONVA_ERROR+t)},warn(t){!Konva$2.showWarnings||console.warn(KONVA_WARNING+t)},each(t,e){for(var s in t)e(s,t[s])},_inRange(t,e,s){return e<=t&&t<s},_getProjectionToSegment(t,e,s,a,f,d){var _,v,E,C=(t-s)*(t-s)+(e-a)*(e-a);if(C==0)_=t,v=e,E=(f-s)*(f-s)+(d-a)*(d-a);else{var O=((f-t)*(s-t)+(d-e)*(a-e))/C;O<0?(_=t,v=e,E=(t-f)*(t-f)+(e-d)*(e-d)):O>1?(_=s,v=a,E=(s-f)*(s-f)+(a-d)*(a-d)):(_=t+O*(s-t),v=e+O*(a-e),E=(_-f)*(_-f)+(v-d)*(v-d))}return[_,v,E]},_getProjectionToLine(t,e,s){var a=Util.cloneObject(t),f=Number.MAX_VALUE;return e.forEach(function(d,_){if(!(!s&&_===e.length-1)){var v=e[(_+1)%e.length],E=Util._getProjectionToSegment(d.x,d.y,v.x,v.y,t.x,t.y),C=E[0],O=E[1],T=E[2];T<f&&(a.x=C,a.y=O,f=T)}}),a},_prepareArrayForTween(t,e,s){var a,f=[],d=[];if(t.length>e.length){var _=e;e=t,t=_}for(a=0;a<t.length;a+=2)f.push({x:t[a],y:t[a+1]});for(a=0;a<e.length;a+=2)d.push({x:e[a],y:e[a+1]});var v=[];return d.forEach(function(E){var C=Util._getProjectionToLine(E,f,s);v.push(C.x),v.push(C.y)}),v},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var s in t)if(!!(t.hasOwnProperty(s)&&t[s]&&typeof t[s]=="object")){if(e=Object.getOwnPropertyDescriptor(t,s),t[s].visitedByCircularReferenceRemoval||Util._isElement(t[s]))if(e.configurable)delete t[s];else return null;else if(Util._prepareToStringify(t[s])===null)if(e.configurable)delete t[s];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var s in e)t[s]=e[s];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999}};function _formatValue(t){return Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function RGBComponent(t){return t>255?255:t<0?0:Math.round(t)}function getNumberValidator(){if(Konva$2.isUnminified)return function(t,e){return Util._isNumber(t)||Util.warn(_formatValue(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function getNumberOrArrayOfNumbersValidator(t){if(Konva$2.isUnminified)return function(e,s){let a=Util._isNumber(e),f=Util._isArray(e)&&e.length==t;return!a&&!f&&Util.warn(_formatValue(e)+' is a not valid value for "'+s+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function getNumberOrAutoValidator(){if(Konva$2.isUnminified)return function(t,e){var s=Util._isNumber(t),a=t==="auto";return s||a||Util.warn(_formatValue(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function getStringValidator(){if(Konva$2.isUnminified)return function(t,e){return Util._isString(t)||Util.warn(_formatValue(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function getStringOrGradientValidator(){if(Konva$2.isUnminified)return function(t,e){const s=Util._isString(t),a=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return s||a||Util.warn(_formatValue(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function getNumberArrayValidator(){if(Konva$2.isUnminified)return function(t,e){return Util._isArray(t)?t.forEach(function(s){Util._isNumber(s)||Util.warn('"'+e+'" attribute has non numeric element '+s+". Make sure that all elements are numbers.")}):Util.warn(_formatValue(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}function getBooleanValidator(){if(Konva$2.isUnminified)return function(t,e){var s=t===!0||t===!1;return s||Util.warn(_formatValue(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function getComponentValidator(t){if(Konva$2.isUnminified)return function(e,s){return Util.isObject(e)||Util.warn(_formatValue(e)+' is a not valid value for "'+s+'" attribute. The value should be an object with properties '+t),e}}var GET="get",SET$1="set";const Factory={addGetterSetter(t,e,s,a,f){Factory.addGetter(t,e,s),Factory.addSetter(t,e,a,f),Factory.addOverloadedGetterSetter(t,e)},addGetter(t,e,s){var a=GET+Util._capitalize(e);t.prototype[a]=t.prototype[a]||function(){var f=this.attrs[e];return f===void 0?s:f}},addSetter(t,e,s,a){var f=SET$1+Util._capitalize(e);t.prototype[f]||Factory.overWriteSetter(t,e,s,a)},overWriteSetter(t,e,s,a){var f=SET$1+Util._capitalize(e);t.prototype[f]=function(d){return s&&d!==void 0&&d!==null&&(d=s.call(this,d,e)),this._setAttr(e,d),a&&a.call(this),this}},addComponentsGetterSetter(t,e,s,a,f){var d=s.length,_=Util._capitalize,v=GET+_(e),E=SET$1+_(e),C,O;t.prototype[v]=function(){var N={};for(C=0;C<d;C++)O=s[C],N[O]=this.getAttr(e+_(O));return N};var T=getComponentValidator(s);t.prototype[E]=function(N){var r=this.attrs[e],b;a&&(N=a.call(this,N)),T&&T.call(this,N,e);for(b in N)!N.hasOwnProperty(b)||this._setAttr(e+_(b),N[b]);return this._fireChangeEvent(e,r,N),f&&f.call(this),this},Factory.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var s=Util._capitalize(e),a=SET$1+s,f=GET+s;t.prototype[e]=function(){return arguments.length?(this[a](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(t,e,s,a){Util.error("Adding deprecated "+e);var f=GET+Util._capitalize(e),d=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[f]=function(){Util.error(d);var _=this.attrs[e];return _===void 0?s:_},Factory.addSetter(t,e,a,function(){Util.error(d)}),Factory.addOverloadedGetterSetter(t,e)},backCompat(t,e){Util.each(e,function(s,a){var f=t.prototype[a],d=GET+Util._capitalize(s),_=SET$1+Util._capitalize(s);function v(){f.apply(this,arguments),Util.error('"'+s+'" method is deprecated and will be removed soon. Use ""'+a+'" instead.')}t.prototype[s]=v,t.prototype[d]=v,t.prototype[_]=v})},afterSetFilter(){this._filterUpToDate=!1}};function simplifyArray(t){var e=[],s=t.length,a=Util,f,d;for(f=0;f<s;f++)d=t[f],a._isNumber(d)?d=Math.round(d*1e3)/1e3:a._isString(d)||(d=d+""),e.push(d);return e}var COMMA=",",OPEN_PAREN="(",CLOSE_PAREN=")",OPEN_PAREN_BRACKET="([",CLOSE_BRACKET_PAREN="])",SEMICOLON=";",DOUBLE_PAREN="()",EQUALS="=",CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],CONTEXT_PROPERTIES=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const traceArrMax=100;class Context{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),Konva$2.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,s){var a=this.traceArr,f=a.length,d="",_,v,E,C;for(_=0;_<f;_++)v=a[_],E=v.method,E?(C=v.args,d+=E,e?d+=DOUBLE_PAREN:Util._isArray(C[0])?d+=OPEN_PAREN_BRACKET+C.join(COMMA)+CLOSE_BRACKET_PAREN:(s&&(C=C.map(O=>typeof O=="number"?Math.floor(O):O)),d+=OPEN_PAREN+C.join(COMMA)+CLOSE_PAREN)):(d+=v.property,e||(d+=EQUALS+v.val)),d+=SEMICOLON;return d}clearTrace(){this.traceArr=[]}_trace(e){var s=this.traceArr,a;s.push(e),a=s.length,a>=traceArrMax&&s.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var s=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,s.getWidth()/s.pixelRatio,s.getHeight()/s.pixelRatio)}_applyLineCap(e){var s=e.getLineCap();s&&this.setAttr("lineCap",s)}_applyOpacity(e){var s=e.getAbsoluteOpacity();s!==1&&this.setAttr("globalAlpha",s)}_applyLineJoin(e){var s=e.attrs.lineJoin;s&&this.setAttr("lineJoin",s)}setAttr(e,s){this._context[e]=s}arc(e,s,a,f,d,_){this._context.arc(e,s,a,f,d,_)}arcTo(e,s,a,f,d){this._context.arcTo(e,s,a,f,d)}beginPath(){this._context.beginPath()}bezierCurveTo(e,s,a,f,d,_){this._context.bezierCurveTo(e,s,a,f,d,_)}clearRect(e,s,a,f){this._context.clearRect(e,s,a,f)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,s){var a=arguments;if(a.length===2)return this._context.createImageData(e,s);if(a.length===1)return this._context.createImageData(e)}createLinearGradient(e,s,a,f){return this._context.createLinearGradient(e,s,a,f)}createPattern(e,s){return this._context.createPattern(e,s)}createRadialGradient(e,s,a,f,d,_){return this._context.createRadialGradient(e,s,a,f,d,_)}drawImage(e,s,a,f,d,_,v,E,C){var O=arguments,T=this._context;O.length===3?T.drawImage(e,s,a):O.length===5?T.drawImage(e,s,a,f,d):O.length===9&&T.drawImage(e,s,a,f,d,_,v,E,C)}ellipse(e,s,a,f,d,_,v,E){this._context.ellipse(e,s,a,f,d,_,v,E)}isPointInPath(e,s){return this._context.isPointInPath(e,s)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,s,a,f){this._context.fillRect(e,s,a,f)}strokeRect(e,s,a,f){this._context.strokeRect(e,s,a,f)}fillText(e,s,a,f){f?this._context.fillText(e,s,a,f):this._context.fillText(e,s,a)}measureText(e){return this._context.measureText(e)}getImageData(e,s,a,f){return this._context.getImageData(e,s,a,f)}lineTo(e,s){this._context.lineTo(e,s)}moveTo(e,s){this._context.moveTo(e,s)}rect(e,s,a,f){this._context.rect(e,s,a,f)}putImageData(e,s,a){this._context.putImageData(e,s,a)}quadraticCurveTo(e,s,a,f){this._context.quadraticCurveTo(e,s,a,f)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,s){this._context.scale(e,s)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,s,a,f,d,_){this._context.setTransform(e,s,a,f,d,_)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,s,a,f){this._context.strokeText(e,s,a,f)}transform(e,s,a,f,d,_){this._context.transform(e,s,a,f,d,_)}translate(e,s){this._context.translate(e,s)}_enableTrace(){var e=this,s=CONTEXT_METHODS.length,a=this.setAttr,f,d,_=function(v){var E=e[v],C;e[v]=function(){return d=simplifyArray(Array.prototype.slice.call(arguments,0)),C=E.apply(e,arguments),e._trace({method:v,args:d}),C}};for(f=0;f<s;f++)_(CONTEXT_METHODS[f]);e.setAttr=function(){a.apply(e,arguments);var v=arguments[0],E=arguments[1];(v==="shadowOffsetX"||v==="shadowOffsetY"||v==="shadowBlur")&&(E=E/this.canvas.getPixelRatio()),e._trace({property:v,val:E})}}_applyGlobalCompositeOperation(e){const s=e.attrs.globalCompositeOperation;var a=!s||s==="source-over";a||this.setAttr("globalCompositeOperation",s)}}CONTEXT_PROPERTIES.forEach(function(t){Object.defineProperty(Context.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class SceneContext extends Context{_fillColor(e){var s=e.fill();this.setAttr("fillStyle",s),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var s=e._getLinearGradient();s&&(this.setAttr("fillStyle",s),e._fillFunc(this))}_fillRadialGradient(e){var s=e._getRadialGradient();s&&(this.setAttr("fillStyle",s),e._fillFunc(this))}_fill(e){var s=e.fill(),a=e.getFillPriority();if(s&&a==="color"){this._fillColor(e);return}var f=e.getFillPatternImage();if(f&&a==="pattern"){this._fillPattern(e);return}var d=e.getFillLinearGradientColorStops();if(d&&a==="linear-gradient"){this._fillLinearGradient(e);return}var _=e.getFillRadialGradientColorStops();if(_&&a==="radial-gradient"){this._fillRadialGradient(e);return}s?this._fillColor(e):f?this._fillPattern(e):d?this._fillLinearGradient(e):_&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var s=e.getStrokeLinearGradientStartPoint(),a=e.getStrokeLinearGradientEndPoint(),f=e.getStrokeLinearGradientColorStops(),d=this.createLinearGradient(s.x,s.y,a.x,a.y);if(f){for(var _=0;_<f.length;_+=2)d.addColorStop(f[_],f[_+1]);this.setAttr("strokeStyle",d)}}_stroke(e){var s=e.dash(),a=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!a){this.save();var f=this.getCanvas().getPixelRatio();this.setTransform(f,0,0,f,0,0)}this._applyLineCap(e),s&&e.dashEnabled()&&(this.setLineDash(s),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var d=e.getStrokeLinearGradientColorStops();d?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),a||this.restore()}}_applyShadow(e){var s,a,f,d=(s=e.getShadowRGBA())!==null&&s!==void 0?s:"black",_=(a=e.getShadowBlur())!==null&&a!==void 0?a:5,v=(f=e.getShadowOffset())!==null&&f!==void 0?f:{x:0,y:0},E=e.getAbsoluteScale(),C=this.canvas.getPixelRatio(),O=E.x*C,T=E.y*C;this.setAttr("shadowColor",d),this.setAttr("shadowBlur",_*Math.min(Math.abs(O),Math.abs(T))),this.setAttr("shadowOffsetX",v.x*O),this.setAttr("shadowOffsetY",v.y*T)}}class HitContext extends Context{_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var s=e.getStrokeScaleEnabled();if(!s){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e);var f=e.hitStrokeWidth(),d=f==="auto"?e.strokeWidth():f;this.setAttr("lineWidth",d),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),s||this.restore()}}}var _pixelRatio;function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;var t=Util.createCanvasElement(),e=t.getContext("2d");return _pixelRatio=function(){var s=Konva$2._global.devicePixelRatio||1,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return s/a}(),_pixelRatio}class Canvas{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var s=e||{},a=s.pixelRatio||Konva$2.pixelRatio||getDevicePixelRatio();this.pixelRatio=a,this._canvas=Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var s=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/s,this.getHeight()/s)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var s=this.pixelRatio,a=this.getContext()._context;a.scale(s,s)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var s=this.pixelRatio,a=this.getContext()._context;a.scale(s,s)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,s){this.setWidth(e||0),this.setHeight(s||0)}toDataURL(e,s){try{return this._canvas.toDataURL(e,s)}catch{try{return this._canvas.toDataURL()}catch(f){return Util.error("Unable to get data URL. "+f.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Factory.addGetterSetter(Canvas,"pixelRatio",void 0,getNumberValidator());class SceneCanvas extends Canvas{constructor(e={width:0,height:0}){super(e);this.context=new SceneContext(this),this.setSize(e.width,e.height)}}class HitCanvas extends Canvas{constructor(e={width:0,height:0}){super(e);this.hitCanvas=!0,this.context=new HitContext(this),this.setSize(e.width,e.height)}}const DD={get isDragging(){var t=!1;return DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return DD._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];DD._dragElements.forEach((s,a)=>{const{node:f}=s,d=f.getStage();d.setPointersPositions(t),s.pointerId===void 0&&(s.pointerId=Util._getFirstPointerId(t));const _=d._changedPointerPositions.find(C=>C.id===s.pointerId);if(!!_){if(s.dragStatus!=="dragging"){var v=f.dragDistance(),E=Math.max(Math.abs(_.x-s.startPointerPos.x),Math.abs(_.y-s.startPointerPos.y));if(E<v||(f.startDrag({evt:t}),!f.isDragging()))return}f._setDragPosition(t,s),e.push(f)}}),e.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:t},!0)})},_endDragBefore(t){DD._dragElements.forEach(e=>{const{node:s}=e,a=s.getStage();if(t&&a.setPointersPositions(t),!a._changedPointerPositions.find(_=>_.id===e.pointerId))return;(e.dragStatus==="dragging"||e.dragStatus==="stopped")&&(DD.justDragged=!0,Konva$2._mouseListenClick=!1,Konva$2._touchListenClick=!1,Konva$2._pointerListenClick=!1,e.dragStatus="stopped");const d=e.node.getLayer()||e.node instanceof Konva$2.Stage&&e.node;d&&d.batchDraw()})},_endDragAfter(t){DD._dragElements.forEach((e,s)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&DD._dragElements.delete(s)})}};Konva$2.isBrowser&&(window.addEventListener("mouseup",DD._endDragBefore,!0),window.addEventListener("touchend",DD._endDragBefore,!0),window.addEventListener("mousemove",DD._drag),window.addEventListener("touchmove",DD._drag),window.addEventListener("mouseup",DD._endDragAfter,!1),window.addEventListener("touchend",DD._endDragAfter,!1));var ABSOLUTE_OPACITY="absoluteOpacity",ALL_LISTENERS="allEventListeners",ABSOLUTE_TRANSFORM="absoluteTransform",ABSOLUTE_SCALE="absoluteScale",CANVAS="canvas",CHANGE="Change",CHILDREN="children",KONVA="konva",LISTENING="listening",MOUSEENTER$1="mouseenter",MOUSELEAVE$1="mouseleave",SET="set",SHAPE="Shape",SPACE$1=" ",STAGE$1="stage",TRANSFORM="transform",UPPER_STAGE="Stage",VISIBLE="visible",TRANSFORM_CHANGE_STR$1=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(SPACE$1);let idCounter$1=1;class Node{constructor(e){this._id=idCounter$1++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===TRANSFORM||e===ABSOLUTE_TRANSFORM)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,s){var a=this._cache.get(e),f=e===TRANSFORM||e===ABSOLUTE_TRANSFORM,d=a===void 0||f&&a.dirty===!0;return d&&(a=s.call(this),this._cache.set(e,a)),a}_calculate(e,s,a){if(!this._attachedDepsListeners.get(e)){const f=s.map(d=>d+"Change.konva").join(SPACE$1);this.on(f,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,a)}_getCanvasCache(){return this._cache.get(CANVAS)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===ABSOLUTE_TRANSFORM&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(CANVAS),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var s=e||{},a={};(s.x===void 0||s.y===void 0||s.width===void 0||s.height===void 0)&&(a=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var f=Math.ceil(s.width||a.width),d=Math.ceil(s.height||a.height),_=s.pixelRatio,v=s.x===void 0?a.x:s.x,E=s.y===void 0?a.y:s.y,C=s.offset||0,O=s.drawBorder||!1,T=s.hitCanvasPixelRatio||1;if(!f||!d){Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}f+=C*2,d+=C*2,v-=C,E-=C;var N=new SceneCanvas({pixelRatio:_,width:f,height:d}),r=new SceneCanvas({pixelRatio:_,width:0,height:0}),b=new HitCanvas({pixelRatio:T,width:f,height:d}),B=N.getContext(),w=b.getContext();return b.isCache=!0,N.isCache=!0,this._cache.delete(CANVAS),this._filterUpToDate=!1,s.imageSmoothingEnabled===!1&&(N.getContext()._context.imageSmoothingEnabled=!1,r.getContext()._context.imageSmoothingEnabled=!1),B.save(),w.save(),B.translate(-v,-E),w.translate(-v,-E),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this.drawScene(N,this),this.drawHit(b,this),this._isUnderCache=!1,B.restore(),w.restore(),O&&(B.save(),B.beginPath(),B.rect(0,0,f,d),B.closePath(),B.setAttr("strokeStyle","red"),B.setAttr("lineWidth",5),B.stroke(),B.restore()),this._cache.set(CANVAS,{scene:N,filter:r,hit:b,x:v,y:E}),this._requestDraw(),this}isCached(){return this._cache.has(CANVAS)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,s){var a=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],f,d,_,v,E=this.getAbsoluteTransform(s);return a.forEach(function(C){var O=E.point(C);f===void 0&&(f=_=O.x,d=v=O.y),f=Math.min(f,O.x),d=Math.min(d,O.y),_=Math.max(_,O.x),v=Math.max(v,O.y)}),{x:f,y:d,width:_-f,height:v-d}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const s=this._getCanvasCache();e.translate(s.x,s.y);var a=this._getCachedSceneCanvas(),f=a.pixelRatio;e.drawImage(a._canvas,0,0,a.width/f,a.height/f),e.restore()}_drawCachedHitCanvas(e){var s=this._getCanvasCache(),a=s.hit;e.save(),e.translate(s.x,s.y),e.drawImage(a._canvas,0,0,a.width/a.pixelRatio,a.height/a.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),s=this._getCanvasCache(),a=s.scene,f=s.filter,d=f.getContext(),_,v,E,C;if(e){if(!this._filterUpToDate){var O=a.pixelRatio;f.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(_=e.length,d.clear(),d.drawImage(a._canvas,0,0,a.getWidth()/O,a.getHeight()/O),v=d.getImageData(0,0,f.getWidth(),f.getHeight()),E=0;E<_;E++){if(C=e[E],typeof C!="function"){Util.error("Filter should be type of function, but got "+typeof C+" instead. Please check correct filters");continue}C.call(this,v),d.putImageData(v,0,0)}}catch(T){Util.error("Unable to apply filter. "+T.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return f}return a}on(e,s){if(this._cache&&this._cache.delete(ALL_LISTENERS),arguments.length===3)return this._delegate.apply(this,arguments);var a=e.split(SPACE$1),f=a.length,d,_,v,E,C;for(d=0;d<f;d++)_=a[d],v=_.split("."),E=v[0],C=v[1]||"",this.eventListeners[E]||(this.eventListeners[E]=[]),this.eventListeners[E].push({name:C,handler:s});return this}off(e,s){var a=(e||"").split(SPACE$1),f=a.length,d,_,v,E,C,O;if(this._cache&&this._cache.delete(ALL_LISTENERS),!e)for(_ in this.eventListeners)this._off(_);for(d=0;d<f;d++)if(v=a[d],E=v.split("."),C=E[0],O=E[1],C)this.eventListeners[C]&&this._off(C,O,s);else for(_ in this.eventListeners)this._off(_,O,s);return this}dispatchEvent(e){var s={target:this,type:e.type,evt:e};return this.fire(e.type,s),this}addEventListener(e,s){return this.on(e,function(a){s.call(this,a.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,s,a){var f=this;this.on(e,function(d){for(var _=d.target.findAncestors(s,!0,f),v=0;v<_.length;v++)d=Util.cloneObject(d),d.currentTarget=_[v],a.call(_[v],d)})}remove(){return this.isDragging()&&this.stopDrag(),DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this._clearSelfAndDescendantCache(STAGE$1),this._clearSelfAndDescendantCache(VISIBLE),this._clearSelfAndDescendantCache(LISTENING)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var s="get"+Util._capitalize(e);return Util._isFunction(this[s])?this[s]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),s=[];e;)s.push(e),e=e.getParent();return s}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var s,a;if(!e)return this;for(s in e)s!==CHILDREN&&(a=SET+Util._capitalize(s),Util._isFunction(this[a])?this[a](e[s]):this._setAttr(s,e[s]))}),this}isListening(){return this._getCache(LISTENING,this._isListening)}_isListening(e){if(!this.listening())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isListening(e):!0}isVisible(){return this._getCache(VISIBLE,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const a=this.getParent();return a&&a!==e&&this!==e?a._isVisible(e):!0}shouldDrawHit(e,s=!1){if(e)return this._isVisible(e)&&this._isListening(e);var a=this.getLayer(),f=!1;DD._dragElements.forEach(_=>{_.dragStatus==="dragging"&&(_.node.nodeType==="Stage"||_.node.getLayer()===a)&&(f=!0)});var d=!s&&!Konva$2.hitOnDragEnabled&&f;return this.isListening()&&this.isVisible()&&!d}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),s=this,a=0,f,d,_,v;function E(C){for(f=[],d=C.length,_=0;_<d;_++)v=C[_],a++,v.nodeType!==SHAPE&&(f=f.concat(v.getChildren().slice())),v._id===s._id&&(_=d);f.length>0&&f[0].getDepth()<=e&&E(f)}return s.nodeType!==UPPER_STAGE&&E(s.getStage().getChildren()),a}getDepth(){for(var e=0,s=this.parent;s;)e++,s=s.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var s=this.getAbsoluteTransform().copy();return s.invert(),s.point(e)}getAbsolutePosition(e){let s=!1,a=this.parent;for(;a;){if(a.isCached()){s=!0;break}a=a.parent}s&&!e&&(e=!0);var f=this.getAbsoluteTransform(e).getMatrix(),d=new Transform,_=this.offset();return d.m=f.slice(),d.translate(_.x,_.y),d.getTranslation()}setAbsolutePosition(e){var s=this._clearTransform();this.attrs.x=s.x,this.attrs.y=s.y,delete s.x,delete s.y,this._clearCache(TRANSFORM);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(s),this.setPosition({x:e.x,y:e.y}),this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this}_setTransform(e){var s;for(s in e)this.attrs[s]=e[s]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var s=e.x,a=e.y,f=this.x(),d=this.y();return s!==void 0&&(f+=s),a!==void 0&&(d+=a),this.setPosition({x:f,y:d}),this}_eachAncestorReverse(e,s){var a=[],f=this.getParent(),d,_;if(!(s&&s._id===this._id)){for(a.unshift(this);f&&(!s||f._id!==s._id);)a.unshift(f),f=f.parent;for(d=a.length,_=0;_<d;_++)e(a[_])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,s=this.parent.getChildren().length;return e<s-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,s=this.parent.getChildren().length;return e<s-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var s=this.index;return this.parent.children.splice(s,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ABSOLUTE_OPACITY,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),s=this.getParent();return s&&!s._isUnderCache&&(e*=s.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},s=this.getAttrs(),a,f,d,_,v;e.attrs={};for(a in s)f=s[a],v=Util.isObject(f)&&!Util._isPlainObject(f)&&!Util._isArray(f),!v&&(d=typeof this[a]=="function"&&this[a],delete s[a],_=d?d.call(this):null,s[a]=f,_!==f&&(e.attrs[a]=f));return e.className=this.getClassName(),Util._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,s,a){var f=[];s&&this._isMatch(e)&&f.push(this);for(var d=this.parent;d;){if(d===a)return f;d._isMatch(e)&&f.push(d),d=d.parent}return f}isAncestorOf(e){return!1}findAncestor(e,s,a){return this.findAncestors(e,s,a)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var s=e.replace(/ /g,"").split(","),a=s.length,f,d;for(f=0;f<a;f++)if(d=s[f],Util.isValidSelector(d)||(Util.warn('Selector "'+d+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util.warn("Konva is awesome, right?")),d.charAt(0)==="#"){if(this.id()===d.slice(1))return!0}else if(d.charAt(0)==="."){if(this.hasName(d.slice(1)))return!0}else if(this.className===d||this.nodeType===d)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(STAGE$1,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,s={},a){return s.target=s.target||this,a?this._fireAndBubble(e,s):this._fire(e,s),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(ABSOLUTE_TRANSFORM,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var s;if(e)return s=new Transform,this._eachAncestorReverse(function(f){var d=f.transformsEnabled();d==="all"?s.multiply(f.getTransform()):d==="position"&&s.translate(f.x()-f.offsetX(),f.y()-f.offsetY())},e),s;s=this._cache.get(ABSOLUTE_TRANSFORM)||new Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(s):s.reset();var a=this.transformsEnabled();if(a==="all")s.multiply(this.getTransform());else if(a==="position"){const f=this.attrs.x||0,d=this.attrs.y||0,_=this.attrs.offsetX||0,v=this.attrs.offsetY||0;s.translate(f-_,d-v)}return s.dirty=!1,s}getAbsoluteScale(e){for(var s=this;s;)s._isUnderCache&&(e=s),s=s.getParent();const f=this.getAbsoluteTransform(e).decompose();return{x:f.scaleX,y:f.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(TRANSFORM,this._getTransform)}_getTransform(){var e,s,a=this._cache.get(TRANSFORM)||new Transform;a.reset();var f=this.x(),d=this.y(),_=Konva$2.getAngle(this.rotation()),v=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,E=(s=this.attrs.scaleY)!==null&&s!==void 0?s:1,C=this.attrs.skewX||0,O=this.attrs.skewY||0,T=this.attrs.offsetX||0,N=this.attrs.offsetY||0;return(f!==0||d!==0)&&a.translate(f,d),_!==0&&a.rotate(_),(C!==0||O!==0)&&a.skew(C,O),(v!==1||E!==1)&&a.scale(v,E),(T!==0||N!==0)&&a.translate(-1*T,-1*N),a.dirty=!1,a}clone(e){var s=Util.cloneObject(this.attrs),a,f,d,_,v;for(a in e)s[a]=e[a];var E=new this.constructor(s);for(a in this.eventListeners)for(f=this.eventListeners[a],d=f.length,_=0;_<d;_++)v=f[_],v.name.indexOf(KONVA)<0&&(E.eventListeners[a]||(E.eventListeners[a]=[]),E.eventListeners[a].push(v));return E}_toKonvaCanvas(e){e=e||{};var s=this.getClientRect(),a=this.getStage(),f=e.x!==void 0?e.x:s.x,d=e.y!==void 0?e.y:s.y,_=e.pixelRatio||1,v=new SceneCanvas({width:e.width||s.width||(a?a.width():0),height:e.height||s.height||(a?a.height():0),pixelRatio:_}),E=v.getContext();return E.save(),(f||d)&&E.translate(-1*f,-1*d),this.drawScene(v),E.restore(),v}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var s=e.mimeType||null,a=e.quality||null,f=this._toKonvaCanvas(e).toDataURL(s,a);return e.callback&&e.callback(f),f}toImage(e){if(!e||!e.callback)throw"callback required for toImage method config argument";var s=e.callback;delete e.callback,Util._urlToImage(this.toDataURL(e),function(a){s(a)})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Konva$2.dragDistance}_off(e,s,a){var f=this.eventListeners[e],d,_,v;for(d=0;d<f.length;d++)if(_=f[d].name,v=f[d].handler,(_!=="konva"||s==="konva")&&(!s||_===s)&&(!a||a===v)){if(f.splice(d,1),f.length===0){delete this.eventListeners[e];break}d--}}_fireChangeEvent(e,s,a){this._fire(e+CHANGE,{oldVal:s,newVal:a})}addName(e){if(!this.hasName(e)){var s=this.name(),a=s?s+" "+e:e;this.name(a)}return this}hasName(e){if(!e)return!1;const s=this.name();if(!s)return!1;var a=(s||"").split(/\s/g);return a.indexOf(e)!==-1}removeName(e){var s=(this.name()||"").split(/\s/g),a=s.indexOf(e);return a!==-1&&(s.splice(a,1),this.name(s.join(" "))),this}setAttr(e,s){var a=this[SET+Util._capitalize(e)];return Util._isFunction(a)?a.call(this,s):this._setAttr(e,s),this}_requestDraw(){if(Konva$2.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,s){var a=this.attrs[e];a===s&&!Util.isObject(s)||(s==null?delete this.attrs[e]:this.attrs[e]=s,this._shouldFireChangeEvents&&this._fireChangeEvent(e,a,s),this._requestDraw())}_setComponentAttr(e,s,a){var f;a!==void 0&&(f=this.attrs[e],f||(this.attrs[e]=this.getAttr(e)),this.attrs[e][s]=a,this._fireChangeEvent(e,f,a))}_fireAndBubble(e,s,a){s&&this.nodeType===SHAPE&&(s.target=this);var f=(e===MOUSEENTER$1||e===MOUSELEAVE$1)&&(a&&(this===a||this.isAncestorOf&&this.isAncestorOf(a))||this.nodeType==="Stage"&&!a);if(!f){this._fire(e,s);var d=(e===MOUSEENTER$1||e===MOUSELEAVE$1)&&a&&a.isAncestorOf&&a.isAncestorOf(this)&&!a.isAncestorOf(this.parent);(s&&!s.cancelBubble||!s)&&this.parent&&this.parent.isListening()&&!d&&(a&&a.parent?this._fireAndBubble.call(this.parent,e,s,a):this._fireAndBubble.call(this.parent,e,s))}}_getProtoListeners(e){let s=this._cache.get(ALL_LISTENERS);if(!s){s={};let f=Object.getPrototypeOf(this);for(;f;){if(!f.eventListeners){f=Object.getPrototypeOf(f);continue}for(var a in f.eventListeners){const d=f.eventListeners[a],_=s[a]||[];s[a]=d.concat(_)}f=Object.getPrototypeOf(f)}this._cache.set(ALL_LISTENERS,s)}return s[e]}_fire(e,s){s=s||{},s.currentTarget=this,s.type=e;const a=this._getProtoListeners(e);if(a)for(var f=0;f<a.length;f++)a[f].handler.call(this,s);const d=this.eventListeners[e];if(d)for(var f=0;f<d.length;f++)d[f].handler.call(this,s)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var s=e?e.pointerId:void 0,a=this.getStage(),f=this.getAbsolutePosition(),d=a._getPointerById(s)||a._changedPointerPositions[0]||f;DD._dragElements.set(this._id,{node:this,startPointerPos:d,offset:{x:d.x-f.x,y:d.y-f.y},dragStatus:"ready",pointerId:s})}startDrag(e,s=!0){DD._dragElements.has(this._id)||this._createDragElement(e);const a=DD._dragElements.get(this._id);a.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},s)}_setDragPosition(e,s){const a=this.getStage()._getPointerById(s.pointerId);if(!!a){var f={x:a.x-s.offset.x,y:a.y-s.offset.y},d=this.dragBoundFunc();if(d!==void 0){const _=d.call(this,f,e);_?f=_:Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==f.x||this._lastPos.y!==f.y)&&(this.setAbsolutePosition(f),this._requestDraw()),this._lastPos=f}}stopDrag(e){const s=DD._dragElements.get(this._id);s&&(s.dragStatus="stopped"),DD._endDragBefore(e),DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var s=e.evt.button!==void 0,a=!s||Konva$2.dragButtons.indexOf(e.evt.button)>=0;if(!!a&&!this.isDragging()){var f=!1;DD._dragElements.forEach(d=>{this.isAncestorOf(d.node)&&(f=!0)}),f||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const s=DD._dragElements.get(this._id),a=s&&s.dragStatus==="dragging",f=s&&s.dragStatus==="ready";a?this.stopDrag():f&&DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const s=this.getStage();if(!s)return!1;const a={x:-e.x,y:-e.y,width:s.width()+e.x,height:s.height()+e.y};return Util.haveIntersection(a,this.getClientRect())}static create(e,s){return Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,s)}static _createNode(e,s){var a=Node.prototype.getClassName.call(e),f=e.children,d,_,v;s&&(e.attrs.container=s),Konva$2[a]||(Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");const E=Konva$2[a];if(d=new E(e.attrs),f)for(_=f.length,v=0;v<_;v++)d.add(Node._createNode(f[v]));return d}}Node.prototype.nodeType="Node";Node.prototype._attrsAffectingSize=[];Node.prototype.eventListeners={};Node.prototype.on.call(Node.prototype,TRANSFORM_CHANGE_STR$1,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)});Node.prototype.on.call(Node.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(VISIBLE)});Node.prototype.on.call(Node.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LISTENING)});Node.prototype.on.call(Node.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY)});const addGetterSetter=Factory.addGetterSetter;addGetterSetter(Node,"zIndex");addGetterSetter(Node,"absolutePosition");addGetterSetter(Node,"position");addGetterSetter(Node,"x",0,getNumberValidator());addGetterSetter(Node,"y",0,getNumberValidator());addGetterSetter(Node,"globalCompositeOperation","source-over",getStringValidator());addGetterSetter(Node,"opacity",1,getNumberValidator());addGetterSetter(Node,"name","",getStringValidator());addGetterSetter(Node,"id","",getStringValidator());addGetterSetter(Node,"rotation",0,getNumberValidator());Factory.addComponentsGetterSetter(Node,"scale",["x","y"]);addGetterSetter(Node,"scaleX",1,getNumberValidator());addGetterSetter(Node,"scaleY",1,getNumberValidator());Factory.addComponentsGetterSetter(Node,"skew",["x","y"]);addGetterSetter(Node,"skewX",0,getNumberValidator());addGetterSetter(Node,"skewY",0,getNumberValidator());Factory.addComponentsGetterSetter(Node,"offset",["x","y"]);addGetterSetter(Node,"offsetX",0,getNumberValidator());addGetterSetter(Node,"offsetY",0,getNumberValidator());addGetterSetter(Node,"dragDistance",null,getNumberValidator());addGetterSetter(Node,"width",0,getNumberValidator());addGetterSetter(Node,"height",0,getNumberValidator());addGetterSetter(Node,"listening",!0,getBooleanValidator());addGetterSetter(Node,"preventDefault",!0,getBooleanValidator());addGetterSetter(Node,"filters",null,function(t){return this._filterUpToDate=!1,t});addGetterSetter(Node,"visible",!0,getBooleanValidator());addGetterSetter(Node,"transformsEnabled","all",getStringValidator());addGetterSetter(Node,"size");addGetterSetter(Node,"dragBoundFunc");addGetterSetter(Node,"draggable",!1,getBooleanValidator());Factory.backCompat(Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Container extends Node{constructor(){super(...arguments);this.children=[]}getChildren(e){if(!e)return this.children||[];const s=this.children||[];var a=[];return s.forEach(function(f){e(f)&&a.push(f)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var s=0;s<arguments.length;s++)this.add(arguments[s]);return this}var a=e[0];return a.getParent()?(a.moveTo(this),this):(this._validateAdd(a),a.index=this.getChildren().length,a.parent=this,a._clearCaches(),this.getChildren().push(a),this._fire("add",{child:a}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var s=this._generalFind(e,!0);return s.length>0?s[0]:void 0}_generalFind(e,s){var a=[];return this._descendants(f=>{const d=f._isMatch(e);return d&&a.push(f),!!(d&&s)}),a}_descendants(e){let s=!1;const a=this.getChildren();for(const f of a){if(s=e(f),s)return!0;if(!!f.hasChildren()&&(s=f._descendants(e),s))return!0}return!1}toObject(){var e=Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(s=>{e.children.push(s.toObject())}),e}isAncestorOf(e){for(var s=e.getParent();s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(e){var s=Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(a){s.add(a.clone())}),s}getAllIntersections(e){var s=[];return this.find("Shape").forEach(function(a){a.isVisible()&&a.intersects(e)&&s.push(a)}),s}_clearSelfAndDescendantCache(e){var s;super._clearSelfAndDescendantCache(e),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(a){a._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(s,a){s.index=a}),this._requestDraw()}drawScene(e,s){var a=this.getLayer(),f=e||a&&a.getCanvas(),d=f&&f.getContext(),_=this._getCanvasCache(),v=_&&_.scene,E=f&&f.isCache;if(!this.isVisible()&&!E)return this;if(v){d.save();var C=this.getAbsoluteTransform(s).getMatrix();d.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedSceneCanvas(d),d.restore()}else this._drawChildren("drawScene",f,s);return this}drawHit(e,s){if(!this.shouldDrawHit(s))return this;var a=this.getLayer(),f=e||a&&a.hitCanvas,d=f&&f.getContext(),_=this._getCanvasCache(),v=_&&_.hit;if(v){d.save();var E=this.getAbsoluteTransform(s).getMatrix();d.transform(E[0],E[1],E[2],E[3],E[4],E[5]),this._drawCachedHitCanvas(d),d.restore()}else this._drawChildren("drawHit",f,s);return this}_drawChildren(e,s,a){var f,d=s&&s.getContext(),_=this.clipWidth(),v=this.clipHeight(),E=this.clipFunc(),C=_&&v||E;const O=a===this;if(C){d.save();var T=this.getAbsoluteTransform(a),N=T.getMatrix();if(d.transform(N[0],N[1],N[2],N[3],N[4],N[5]),d.beginPath(),E)E.call(this,d,this);else{var r=this.clipX(),b=this.clipY();d.rect(r,b,_,v)}d.clip(),N=T.copy().invert().getMatrix(),d.transform(N[0],N[1],N[2],N[3],N[4],N[5])}var B=!O&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";B&&(d.save(),d._applyGlobalCompositeOperation(this)),(f=this.children)===null||f===void 0||f.forEach(function(w){w[e](s,a)}),B&&d.restore(),C&&d.restore()}getClientRect(e){var s;e=e||{};var a=e.skipTransform,f=e.relativeTo,d,_,v,E,C={x:1/0,y:1/0,width:0,height:0},O=this;(s=this.children)===null||s===void 0||s.forEach(function(B){if(!!B.visible()){var w=B.getClientRect({relativeTo:O,skipShadow:e.skipShadow,skipStroke:e.skipStroke});w.width===0&&w.height===0||(d===void 0?(d=w.x,_=w.y,v=w.x+w.width,E=w.y+w.height):(d=Math.min(d,w.x),_=Math.min(_,w.y),v=Math.max(v,w.x+w.width),E=Math.max(E,w.y+w.height)))}});for(var T=this.find("Shape"),N=!1,r=0;r<T.length;r++){var b=T[r];if(b._isVisible(this)){N=!0;break}}return N&&d!==void 0?C={x:d,y:_,width:v-d,height:E-_}:C={x:0,y:0,width:0,height:0},a?C:this._transformedRect(C,f)}}Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]);Factory.addGetterSetter(Container,"clipX",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipY",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipWidth",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipHeight",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipFunc");const Captures=new Map,SUPPORT_POINTER_EVENTS=Konva$2._global.PointerEvent!==void 0;function getCapturedShape(t){return Captures.get(t)}function createEvent(t){return{evt:t,pointerId:t.pointerId}}function hasPointerCapture(t,e){return Captures.get(t)===e}function setPointerCapture(t,e){releaseCapture(t),!!e.getStage()&&(Captures.set(t,e),SUPPORT_POINTER_EVENTS&&e._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture"))))}function releaseCapture(t,e){const s=Captures.get(t);if(!s)return;const a=s.getStage();a&&a.content,Captures.delete(t),SUPPORT_POINTER_EVENTS&&s._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}var STAGE="Stage",STRING="string",PX="px",MOUSEOUT="mouseout",MOUSELEAVE="mouseleave",MOUSEOVER="mouseover",MOUSEENTER="mouseenter",MOUSEMOVE="mousemove",MOUSEDOWN="mousedown",MOUSEUP="mouseup",POINTERMOVE="pointermove",POINTERDOWN="pointerdown",POINTERUP="pointerup",POINTERCANCEL="pointercancel",LOSTPOINTERCAPTURE="lostpointercapture",POINTEROUT="pointerout",POINTERLEAVE="pointerleave",POINTEROVER="pointerover",POINTERENTER="pointerenter",CONTEXTMENU="contextmenu",TOUCHSTART="touchstart",TOUCHEND="touchend",TOUCHMOVE="touchmove",TOUCHCANCEL="touchcancel",WHEEL="wheel",MAX_LAYERS_NUMBER=5,EVENTS=[[MOUSEENTER,"_pointerenter"],[MOUSEDOWN,"_pointerdown"],[MOUSEMOVE,"_pointermove"],[MOUSEUP,"_pointerup"],[MOUSELEAVE,"_pointerleave"],[TOUCHSTART,"_pointerdown"],[TOUCHMOVE,"_pointermove"],[TOUCHEND,"_pointerup"],[TOUCHCANCEL,"_pointercancel"],[MOUSEOVER,"_pointerover"],[WHEEL,"_wheel"],[CONTEXTMENU,"_contextmenu"],[POINTERDOWN,"_pointerdown"],[POINTERMOVE,"_pointermove"],[POINTERUP,"_pointerup"],[POINTERCANCEL,"_pointercancel"],[LOSTPOINTERCAPTURE,"_lostpointercapture"]];const EVENTS_MAP={mouse:{[POINTEROUT]:MOUSEOUT,[POINTERLEAVE]:MOUSELEAVE,[POINTEROVER]:MOUSEOVER,[POINTERENTER]:MOUSEENTER,[POINTERMOVE]:MOUSEMOVE,[POINTERDOWN]:MOUSEDOWN,[POINTERUP]:MOUSEUP,[POINTERCANCEL]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[POINTEROUT]:"touchout",[POINTERLEAVE]:"touchleave",[POINTEROVER]:"touchover",[POINTERENTER]:"touchenter",[POINTERMOVE]:TOUCHMOVE,[POINTERDOWN]:TOUCHSTART,[POINTERUP]:TOUCHEND,[POINTERCANCEL]:TOUCHCANCEL,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[POINTEROUT]:POINTEROUT,[POINTERLEAVE]:POINTERLEAVE,[POINTEROVER]:POINTEROVER,[POINTERENTER]:POINTERENTER,[POINTERMOVE]:POINTERMOVE,[POINTERDOWN]:POINTERDOWN,[POINTERUP]:POINTERUP,[POINTERCANCEL]:POINTERCANCEL,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},getEventType=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",getEventsMap=t=>{const e=getEventType(t);if(e==="pointer")return Konva$2.pointerEventsEnabled&&EVENTS_MAP.pointer;if(e==="touch")return EVENTS_MAP.touch;if(e==="mouse")return EVENTS_MAP.mouse};function checkNoClip(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const NO_POINTERS_MESSAGE="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",stages=[];class Stage extends Container{constructor(e){super(checkNoClip(e));this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{checkNoClip(this.attrs)}),this._checkVisibility()}_validateAdd(e){const s=e.getType()==="Layer",a=e.getType()==="FastLayer";s||a||Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===STRING){if(e.charAt(0)==="."){var s=e.slice(1);e=document.getElementsByClassName(s)[0]}else{var a;e.charAt(0)!=="#"?a=e:a=e.slice(1),e=document.getElementById(a)}if(!e)throw"Can not find container in document with id "+a}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,s=e.length,a;for(a=0;a<s;a++)e[a].clear();return this}clone(e){return e||(e={}),e.container=typeof document!="undefined"&&document.createElement("div"),Container.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&Util._isInDocument(e)&&this.container().removeChild(e);var s=stages.indexOf(this);return s>-1&&stages.splice(s,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Util.warn(NO_POINTERS_MESSAGE),null)}_getPointerById(e){return this._pointerPositions.find(s=>s.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var s=new SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),a=s.getContext()._context,f=this.children;return(e.x||e.y)&&a.translate(-1*e.x,-1*e.y),f.forEach(function(d){if(!!d.isVisible()){var _=d._toKonvaCanvas(e);a.drawImage(_._canvas,e.x,e.y,_.getWidth()/_.getPixelRatio(),_.getHeight()/_.getPixelRatio())}}),s}getIntersection(e){if(!e)return null;var s=this.children,a=s.length,f=a-1,d;for(d=f;d>=0;d--){const _=s[d].getIntersection(e);if(_)return _}return null}_resizeDOM(){var e=this.width(),s=this.height();this.content&&(this.content.style.width=e+PX,this.content.style.height=s+PX),this.bufferCanvas.setSize(e,s),this.bufferHitCanvas.setSize(e,s),this.children.forEach(a=>{a.setSize({width:e,height:s}),a.draw()})}add(e,...s){if(arguments.length>1){for(var a=0;a<arguments.length;a++)this.add(arguments[a]);return this}super.add(e);var f=this.children.length;return f>MAX_LAYERS_NUMBER&&Util.warn("The stage has "+f+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Konva$2.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return hasPointerCapture(e,this)}setPointerCapture(e){setPointerCapture(e,this)}releaseCapture(e){releaseCapture(e)}getLayers(){return this.children}_bindContentEvents(){!Konva$2.isBrowser||EVENTS.forEach(([e,s])=>{this.content.addEventListener(e,a=>{this[s](a)})})}_pointerenter(e){this.setPointersPositions(e);const s=getEventsMap(e.type);this._fire(s.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const s=getEventsMap(e.type);this._fire(s.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let s=this[e+"targetShape"];return s&&!s.getStage()&&(s=null),s}_pointerleave(e){const s=getEventsMap(e.type),a=getEventType(e.type);if(!!s){this.setPointersPositions(e);var f=this._getTargetShape(a),d=!DD.isDragging||Konva$2.hitOnDragEnabled;f&&d?(f._fireAndBubble(s.pointerout,{evt:e}),f._fireAndBubble(s.pointerleave,{evt:e}),this._fire(s.pointerleave,{evt:e,target:this,currentTarget:this}),this[a+"targetShape"]=null):d&&(this._fire(s.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(s.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const s=getEventsMap(e.type),a=getEventType(e.type);if(!!s){this.setPointersPositions(e);var f=!1;this._changedPointerPositions.forEach(d=>{var _=this.getIntersection(d);if(DD.justDragged=!1,Konva$2["_"+a+"ListenClick"]=!0,!(_&&_.isListening()))return;Konva$2.capturePointerEventsEnabled&&_.setPointerCapture(d.id),this[a+"ClickStartShape"]=_,_._fireAndBubble(s.pointerdown,{evt:e,pointerId:d.id}),f=!0;const E=e.type.indexOf("touch")>=0;_.preventDefault()&&e.cancelable&&E&&e.preventDefault()}),f||this._fire(s.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const s=getEventsMap(e.type),a=getEventType(e.type);if(!s)return;DD.isDragging&&DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var f=!DD.isDragging||Konva$2.hitOnDragEnabled;if(!f)return;var d={};let _=!1;var v=this._getTargetShape(a);this._changedPointerPositions.forEach(E=>{const C=getCapturedShape(E.id)||this.getIntersection(E),O=E.id,T={evt:e,pointerId:O};var N=v!==C;if(N&&v&&(v._fireAndBubble(s.pointerout,Object.assign({},T),C),v._fireAndBubble(s.pointerleave,Object.assign({},T),C)),C){if(d[C._id])return;d[C._id]=!0}C&&C.isListening()?(_=!0,N&&(C._fireAndBubble(s.pointerover,Object.assign({},T),v),C._fireAndBubble(s.pointerenter,Object.assign({},T),v),this[a+"targetShape"]=C),C._fireAndBubble(s.pointermove,Object.assign({},T))):v&&(this._fire(s.pointerover,{evt:e,target:this,currentTarget:this,pointerId:O}),this[a+"targetShape"]=null)}),_||this._fire(s.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const s=getEventsMap(e.type),a=getEventType(e.type);if(!s)return;this.setPointersPositions(e);const f=this[a+"ClickStartShape"],d=this[a+"ClickEndShape"];var _={};let v=!1;this._changedPointerPositions.forEach(E=>{const C=getCapturedShape(E.id)||this.getIntersection(E);if(C){if(C.releaseCapture(E.id),_[C._id])return;_[C._id]=!0}const O=E.id,T={evt:e,pointerId:O};let N=!1;Konva$2["_"+a+"InDblClickWindow"]?(N=!0,clearTimeout(this[a+"DblTimeout"])):DD.justDragged||(Konva$2["_"+a+"InDblClickWindow"]=!0,clearTimeout(this[a+"DblTimeout"])),this[a+"DblTimeout"]=setTimeout(function(){Konva$2["_"+a+"InDblClickWindow"]=!1},Konva$2.dblClickWindow),C&&C.isListening()?(v=!0,this[a+"ClickEndShape"]=C,C._fireAndBubble(s.pointerup,Object.assign({},T)),Konva$2["_"+a+"ListenClick"]&&f&&f===C&&(C._fireAndBubble(s.pointerclick,Object.assign({},T)),N&&d&&d===C&&C._fireAndBubble(s.pointerdblclick,Object.assign({},T)))):(this[a+"ClickEndShape"]=null,Konva$2["_"+a+"ListenClick"]&&this._fire(s.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:O}),N&&this._fire(s.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:O}))}),v||this._fire(s.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Konva$2["_"+a+"ListenClick"]=!1,e.cancelable&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var s=this.getIntersection(this.getPointerPosition());s&&s.isListening()?s._fireAndBubble(CONTEXTMENU,{evt:e}):this._fire(CONTEXTMENU,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var s=this.getIntersection(this.getPointerPosition());s&&s.isListening()?s._fireAndBubble(WHEEL,{evt:e}):this._fire(WHEEL,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const s=getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());s&&s._fireAndBubble(POINTERUP,createEvent(e)),releaseCapture(e.pointerId)}_lostpointercapture(e){releaseCapture(e.pointerId)}setPointersPositions(e){var s=this._getContentPosition(),a=null,f=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,d=>{this._pointerPositions.push({id:d.identifier,x:(d.clientX-s.left)/s.scaleX,y:(d.clientY-s.top)/s.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,d=>{this._changedPointerPositions.push({id:d.identifier,x:(d.clientX-s.left)/s.scaleX,y:(d.clientY-s.top)/s.scaleY})})):(a=(e.clientX-s.left)/s.scaleX,f=(e.clientY-s.top)/s.scaleY,this.pointerPos={x:a,y:f},this._pointerPositions=[{x:a,y:f,id:Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:a,y:f,id:Util._getFirstPointerId(e)}])}_setPointerPosition(e){Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!Konva$2.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Stage.prototype.nodeType=STAGE;_registerNode(Stage);Factory.addGetterSetter(Stage,"container");var HAS_SHADOW="hasShadow",SHADOW_RGBA="shadowRGBA",patternImage="patternImage",linearGradient="linearGradient",radialGradient="radialGradient";let dummyContext$1;function getDummyContext$1(){return dummyContext$1||(dummyContext$1=Util.createCanvasElement().getContext("2d"),dummyContext$1)}const shapes={};function _fillFunc$2(t){t.fill()}function _strokeFunc$2(t){t.stroke()}function _fillFuncHit(t){t.fill()}function _strokeFuncHit(t){t.stroke()}function _clearHasShadowCache(){this._clearCache(HAS_SHADOW)}function _clearGetShadowRGBACache(){this._clearCache(SHADOW_RGBA)}function _clearFillPatternCache(){this._clearCache(patternImage)}function _clearLinearGradientCache(){this._clearCache(linearGradient)}function _clearRadialGradientCache(){this._clearCache(radialGradient)}class Shape extends Node{constructor(e){super(e);let s;for(;s=Util.getRandomColor(),!(s&&!(s in shapes)););this.colorKey=s,shapes[s]=this}getContext(){return Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(HAS_SHADOW,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(patternImage,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=getDummyContext$1();const s=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(s&&s.setTransform){const a=new Transform;a.translate(this.fillPatternX(),this.fillPatternY()),a.rotate(Konva$2.getAngle(this.fillPatternRotation())),a.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),a.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const f=a.getMatrix();s.setTransform({a:f[0],b:f[1],c:f[2],d:f[3],e:f[4],f:f[5]})}return s}}_getLinearGradient(){return this._getCache(linearGradient,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var s=getDummyContext$1(),a=this.fillLinearGradientStartPoint(),f=this.fillLinearGradientEndPoint(),d=s.createLinearGradient(a.x,a.y,f.x,f.y),_=0;_<e.length;_+=2)d.addColorStop(e[_],e[_+1]);return d}}_getRadialGradient(){return this._getCache(radialGradient,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var s=getDummyContext$1(),a=this.fillRadialGradientStartPoint(),f=this.fillRadialGradientEndPoint(),d=s.createRadialGradient(a.x,a.y,this.fillRadialGradientStartRadius(),f.x,f.y,this.fillRadialGradientEndRadius()),_=0;_<e.length;_+=2)d.addColorStop(e[_],e[_+1]);return d}}getShadowRGBA(){return this._getCache(SHADOW_RGBA,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var s=this.getStage(),a=s.bufferHitCanvas,f;return a.getContext().clear(),this.drawHit(a,null,!0),f=a.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,f[3]>0}destroy(){return Node.prototype.destroy.call(this),delete shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var s;if(!this.getStage()||!((s=this.attrs.perfectDrawEnabled)!==null&&s!==void 0?s:!0))return!1;const f=e||this.hasFill(),d=this.hasStroke(),_=this.getAbsoluteOpacity()!==1;if(f&&d&&_)return!0;const v=this.hasShadow(),E=this.shadowForStrokeEnabled();return!!(f&&d&&v&&E)}setStrokeHitEnabled(e){Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const s=e.skipTransform,a=e.relativeTo,f=this.getSelfRect(),_=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,v=f.width+_,E=f.height+_,C=!e.skipShadow&&this.hasShadow(),O=C?this.shadowOffsetX():0,T=C?this.shadowOffsetY():0,N=v+Math.abs(O),r=E+Math.abs(T),b=C&&this.shadowBlur()||0,B=N+b*2,w=r+b*2;let K=0;Math.round(_/2)!==_/2&&(K=1);const U={width:B+K,height:w+K,x:-Math.round(_/2+b)+Math.min(O,0)+f.x,y:-Math.round(_/2+b)+Math.min(T,0)+f.y};return s?U:this._transformedRect(U,a)}drawScene(e,s){var a=this.getLayer(),f=e||a.getCanvas(),d=f.getContext(),_=this._getCanvasCache(),v=this.getSceneFunc(),E=this.hasShadow(),C,O,T,N=f.isCache,r=s===this;if(!this.isVisible()&&!r)return this;if(_){d.save();var b=this.getAbsoluteTransform(s).getMatrix();return d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedSceneCanvas(d),d.restore(),this}if(!v)return this;if(d.save(),this._useBufferCanvas()&&!N){C=this.getStage(),O=C.bufferCanvas,T=O.getContext(),T.clear(),T.save(),T._applyLineJoin(this);var B=this.getAbsoluteTransform(s).getMatrix();T.transform(B[0],B[1],B[2],B[3],B[4],B[5]),v.call(this,T,this),T.restore();var w=O.pixelRatio;E&&d._applyShadow(this),d._applyOpacity(this),d._applyGlobalCompositeOperation(this),d.drawImage(O._canvas,0,0,O.width/w,O.height/w)}else{if(d._applyLineJoin(this),!r){var B=this.getAbsoluteTransform(s).getMatrix();d.transform(B[0],B[1],B[2],B[3],B[4],B[5]),d._applyOpacity(this),d._applyGlobalCompositeOperation(this)}E&&d._applyShadow(this),v.call(this,d,this)}return d.restore(),this}drawHit(e,s,a=!1){if(!this.shouldDrawHit(s,a))return this;var f=this.getLayer(),d=e||f.hitCanvas,_=d&&d.getContext(),v=this.hitFunc()||this.sceneFunc(),E=this._getCanvasCache(),C=E&&E.hit;if(this.colorKey||Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),C){_.save();var O=this.getAbsoluteTransform(s).getMatrix();return _.transform(O[0],O[1],O[2],O[3],O[4],O[5]),this._drawCachedHitCanvas(_),_.restore(),this}if(!v)return this;if(_.save(),_._applyLineJoin(this),!(this===s)){var N=this.getAbsoluteTransform(s).getMatrix();_.transform(N[0],N[1],N[2],N[3],N[4],N[5])}return v.call(this,_,this),_.restore(),this}drawHitFromCache(e=0){var s=this._getCanvasCache(),a=this._getCachedSceneCanvas(),f=s.hit,d=f.getContext(),_=f.getWidth(),v=f.getHeight(),E,C,O,T,N,r;d.clear(),d.drawImage(a._canvas,0,0,_,v);try{for(E=d.getImageData(0,0,_,v),C=E.data,O=C.length,T=Util._hexToRgb(this.colorKey),N=0;N<O;N+=4)r=C[N+3],r>e?(C[N]=T.r,C[N+1]=T.g,C[N+2]=T.b,C[N+3]=255):C[N+3]=0;d.putImageData(E,0,0)}catch(b){Util.error("Unable to draw hit graph from cached scene canvas. "+b.message)}return this}hasPointerCapture(e){return hasPointerCapture(e,this)}setPointerCapture(e){setPointerCapture(e,this)}releaseCapture(e){releaseCapture(e)}}Shape.prototype._fillFunc=_fillFunc$2;Shape.prototype._strokeFunc=_strokeFunc$2;Shape.prototype._fillFuncHit=_fillFuncHit;Shape.prototype._strokeFuncHit=_strokeFuncHit;Shape.prototype._centroid=!1;Shape.prototype.nodeType="Shape";_registerNode(Shape);Shape.prototype.eventListeners={};Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_clearHasShadowCache);Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_clearGetShadowRGBACache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_clearFillPatternCache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",_clearLinearGradientCache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",_clearRadialGradientCache);Factory.addGetterSetter(Shape,"stroke",void 0,getStringOrGradientValidator());Factory.addGetterSetter(Shape,"strokeWidth",2,getNumberValidator());Factory.addGetterSetter(Shape,"fillAfterStrokeEnabled",!1);Factory.addGetterSetter(Shape,"hitStrokeWidth","auto",getNumberOrAutoValidator());Factory.addGetterSetter(Shape,"strokeHitEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"perfectDrawEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"shadowForStrokeEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"lineJoin");Factory.addGetterSetter(Shape,"lineCap");Factory.addGetterSetter(Shape,"sceneFunc");Factory.addGetterSetter(Shape,"hitFunc");Factory.addGetterSetter(Shape,"dash");Factory.addGetterSetter(Shape,"dashOffset",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowColor",void 0,getStringValidator());Factory.addGetterSetter(Shape,"shadowBlur",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowOpacity",1,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"shadowOffset",["x","y"]);Factory.addGetterSetter(Shape,"shadowOffsetX",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowOffsetY",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternImage");Factory.addGetterSetter(Shape,"fill",void 0,getStringOrGradientValidator());Factory.addGetterSetter(Shape,"fillPatternX",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternY",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillLinearGradientColorStops");Factory.addGetterSetter(Shape,"strokeLinearGradientColorStops");Factory.addGetterSetter(Shape,"fillRadialGradientStartRadius",0);Factory.addGetterSetter(Shape,"fillRadialGradientEndRadius",0);Factory.addGetterSetter(Shape,"fillRadialGradientColorStops");Factory.addGetterSetter(Shape,"fillPatternRepeat","repeat");Factory.addGetterSetter(Shape,"fillEnabled",!0);Factory.addGetterSetter(Shape,"strokeEnabled",!0);Factory.addGetterSetter(Shape,"shadowEnabled",!0);Factory.addGetterSetter(Shape,"dashEnabled",!0);Factory.addGetterSetter(Shape,"strokeScaleEnabled",!0);Factory.addGetterSetter(Shape,"fillPriority","color");Factory.addComponentsGetterSetter(Shape,"fillPatternOffset",["x","y"]);Factory.addGetterSetter(Shape,"fillPatternOffsetX",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternOffsetY",0,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"fillPatternScale",["x","y"]);Factory.addGetterSetter(Shape,"fillPatternScaleX",1,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternScaleY",1,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"fillLinearGradientStartPoint",["x","y"]);Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientStartPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillLinearGradientStartPointX",0);Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointX",0);Factory.addGetterSetter(Shape,"fillLinearGradientStartPointY",0);Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointY",0);Factory.addComponentsGetterSetter(Shape,"fillLinearGradientEndPoint",["x","y"]);Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientEndPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillLinearGradientEndPointX",0);Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointX",0);Factory.addGetterSetter(Shape,"fillLinearGradientEndPointY",0);Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointY",0);Factory.addComponentsGetterSetter(Shape,"fillRadialGradientStartPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillRadialGradientStartPointX",0);Factory.addGetterSetter(Shape,"fillRadialGradientStartPointY",0);Factory.addComponentsGetterSetter(Shape,"fillRadialGradientEndPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillRadialGradientEndPointX",0);Factory.addGetterSetter(Shape,"fillRadialGradientEndPointY",0);Factory.addGetterSetter(Shape,"fillPatternRotation",0);Factory.backCompat(Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var HASH="#",BEFORE_DRAW="beforeDraw",DRAW="draw",INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;class Layer extends Container{constructor(e){super(e);this.canvas=new SceneCanvas,this.hitCanvas=new HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var s=this.getStage();return s&&s.content&&(s.content.removeChild(this.getNativeCanvasElement()),e<s.children.length-1?s.content.insertBefore(this.getNativeCanvasElement(),s.children[e+1].getCanvas()._canvas):s.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=Node.prototype.moveUp.call(this);if(!e)return!1;var s=this.getStage();return!s||!s.content?!1:(s.content.removeChild(this.getNativeCanvasElement()),this.index<s.children.length-1?s.content.insertBefore(this.getNativeCanvasElement(),s.children[this.index+1].getCanvas()._canvas):s.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var s=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),s[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var s=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),s[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Node.prototype.remove.call(this),e&&e.parentNode&&Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:s}){return this.canvas.setSize(e,s),this.hitCanvas.setSize(e,s),this._setSmoothEnabled(),this}_validateAdd(e){var s=e.getType();s!=="Group"&&s!=="Shape"&&Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var s=1,a=!1;;){for(let f=0;f<INTERSECTION_OFFSETS_LEN;f++){const d=INTERSECTION_OFFSETS[f],_=this._getIntersection({x:e.x+d.x*s,y:e.y+d.y*s}),v=_.shape;if(v)return v;if(a=!!_.antialiased,!_.antialiased)break}if(a)s+=1;else return null}}_getIntersection(e){const s=this.hitCanvas.pixelRatio,a=this.hitCanvas.context.getImageData(Math.round(e.x*s),Math.round(e.y*s),1,1).data,f=a[3];if(f===255){const d=Util._rgbToHex(a[0],a[1],a[2]),_=shapes[HASH+d];return _?{shape:_}:{antialiased:!0}}else if(f>0)return{antialiased:!0};return{}}drawScene(e,s){var a=this.getLayer(),f=e||a&&a.getCanvas();return this._fire(BEFORE_DRAW,{node:this}),this.clearBeforeDraw()&&f.getContext().clear(),Container.prototype.drawScene.call(this,f,s),this._fire(DRAW,{node:this}),this}drawHit(e,s){var a=this.getLayer(),f=e||a&&a.hitCanvas;return a&&a.clearBeforeDraw()&&a.getHitCanvas().getContext().clear(),Container.prototype.drawHit.call(this,f,s),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,s=!!this.hitCanvas._canvas.parentNode;s?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}Layer.prototype.nodeType="Layer";_registerNode(Layer);Factory.addGetterSetter(Layer,"imageSmoothingEnabled",!0);Factory.addGetterSetter(Layer,"clearBeforeDraw",!0);Factory.addGetterSetter(Layer,"hitGraphEnabled",!0,getBooleanValidator());class FastLayer extends Layer{constructor(e){super(e);this.listening(!1),Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}FastLayer.prototype.nodeType="FastLayer";_registerNode(FastLayer);class Group extends Container{_validateAdd(e){var s=e.getType();s!=="Group"&&s!=="Shape"&&Util.throw("You may only add groups and shapes to groups.")}}Group.prototype.nodeType="Group";_registerNode(Group);var now=function(){return glob.performance&&glob.performance.now?function(){return glob.performance.now()}:function(){return new Date().getTime()}}();class Animation{constructor(e,s){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now(),frameRate:0},this.func=e,this.setLayers(s)}setLayers(e){var s=[];return e?e.length>0?s=e:s=[e]:s=[],this.layers=s,this}getLayers(){return this.layers}addLayer(e){var s=this.layers,a=s.length,f;for(f=0;f<a;f++)if(s[f]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=Animation,s=e.animations,a=s.length,f;for(f=0;f<a;f++)if(s[f].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var s=e.id,a=this.animations,f=a.length,d;for(d=0;d<f;d++)if(a[d].id===s){this.animations.splice(d,1);break}}static _runFrames(){var e={},s=this.animations,a,f,d,_,v,E,C,O,T;for(_=0;_<s.length;_++)if(a=s[_],f=a.layers,d=a.func,a._updateFrameObject(now()),E=f.length,d?T=d.call(a,a.frame)!==!1:T=!0,!!T)for(v=0;v<E;v++)C=f[v],C._id!==void 0&&(e[C._id]=C);for(O in e)!e.hasOwnProperty(O)||e[O].batchDraw()}static _animationLoop(){var e=Animation;e.animations.length?(e._runFrames(),Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util.requestAnimFrame(this._animationLoop))}}Animation.animations=[];Animation.animIdCounter=0;Animation.animRunning=!1;var blacklist={node:1,duration:1,easing:1,onFinish:1,yoyo:1},PAUSED=1,PLAYING=2,REVERSING=3,idCounter=0,colorAttrs=["fill","stroke","shadowColor"];class TweenEngine{constructor(e,s,a,f,d,_,v){this.prop=e,this.propFunc=s,this.begin=f,this._pos=f,this.duration=_,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=a,this._change=d-this.begin,this.pause()}fire(e){var s=this[e];s&&s()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=PLAYING,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=REVERSING,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===PLAYING?this.setTime(e):this.state===REVERSING&&this.setTime(this.duration-e)}pause(){this.state=PAUSED,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Tween{constructor(e){var s=this,a=e.node,f=a._id,d,_=e.easing||Easings.Linear,v=!!e.yoyo,E;typeof e.duration=="undefined"?d=.3:e.duration===0?d=.001:d=e.duration,this.node=a,this._id=idCounter++;var C=a.getLayer()||(a instanceof Konva$2.Stage?a.getLayers():null);C||Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Animation(function(){s.tween.onEnterFrame()},C),this.tween=new TweenEngine(E,function(O){s._tweenFunc(O)},_,0,1,d*1e3,v),this._addListeners(),Tween.attrs[f]||(Tween.attrs[f]={}),Tween.attrs[f][this._id]||(Tween.attrs[f][this._id]={}),Tween.tweens[f]||(Tween.tweens[f]={});for(E in e)blacklist[E]===void 0&&this._addAttr(E,e[E]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,s){var a=this.node,f=a._id,d,_,v,E,C,O,T,N;if(v=Tween.tweens[f][e],v&&delete Tween.attrs[f][v][e],d=a.getAttr(e),Util._isArray(s))if(_=[],C=Math.max(s.length,d.length),e==="points"&&s.length!==d.length&&(s.length>d.length?(T=d,d=Util._prepareArrayForTween(d,s,a.closed())):(O=s,s=Util._prepareArrayForTween(s,d,a.closed()))),e.indexOf("fill")===0)for(E=0;E<C;E++)if(E%2==0)_.push(s[E]-d[E]);else{var r=Util.colorToRGBA(d[E]);N=Util.colorToRGBA(s[E]),d[E]=r,_.push({r:N.r-r.r,g:N.g-r.g,b:N.b-r.b,a:N.a-r.a})}else for(E=0;E<C;E++)_.push(s[E]-d[E]);else colorAttrs.indexOf(e)!==-1?(d=Util.colorToRGBA(d),N=Util.colorToRGBA(s),_={r:N.r-d.r,g:N.g-d.g,b:N.b-d.b,a:N.a-d.a}):_=s-d;Tween.attrs[f][this._id][e]={start:d,diff:_,end:s,trueEnd:O,trueStart:T},Tween.tweens[f][e]=this._id}_tweenFunc(e){var s=this.node,a=Tween.attrs[s._id][this._id],f,d,_,v,E,C,O,T;for(f in a){if(d=a[f],_=d.start,v=d.diff,T=d.end,Util._isArray(_))if(E=[],O=Math.max(_.length,T.length),f.indexOf("fill")===0)for(C=0;C<O;C++)C%2==0?E.push((_[C]||0)+v[C]*e):E.push("rgba("+Math.round(_[C].r+v[C].r*e)+","+Math.round(_[C].g+v[C].g*e)+","+Math.round(_[C].b+v[C].b*e)+","+(_[C].a+v[C].a*e)+")");else for(C=0;C<O;C++)E.push((_[C]||0)+v[C]*e);else colorAttrs.indexOf(f)!==-1?E="rgba("+Math.round(_.r+v.r*e)+","+Math.round(_.g+v.g*e)+","+Math.round(_.b+v.b*e)+","+(_.a+v.a*e)+")":E=_+v*e;s.setAttr(f,E)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,s=Tween.attrs[e._id][this._id];s.points&&s.points.trueEnd&&e.setAttr("points",s.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,s=Tween.attrs[e._id][this._id];s.points&&s.points.trueStart&&e.points(s.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,s=this._id,a=Tween.tweens[e],f;this.pause();for(f in a)delete Tween.tweens[e][f];delete Tween.attrs[e][s]}}Tween.attrs={};Tween.tweens={};Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var s=new Tween(t);s.play()};const Easings={BackEaseIn(t,e,s,a){var f=1.70158;return s*(t/=a)*t*((f+1)*t-f)+e},BackEaseOut(t,e,s,a){var f=1.70158;return s*((t=t/a-1)*t*((f+1)*t+f)+1)+e},BackEaseInOut(t,e,s,a){var f=1.70158;return(t/=a/2)<1?s/2*(t*t*(((f*=1.525)+1)*t-f))+e:s/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+e},ElasticEaseIn(t,e,s,a,f,d){var _=0;return t===0?e:(t/=a)==1?e+s:(d||(d=a*.3),!f||f<Math.abs(s)?(f=s,_=d/4):_=d/(2*Math.PI)*Math.asin(s/f),-(f*Math.pow(2,10*(t-=1))*Math.sin((t*a-_)*(2*Math.PI)/d))+e)},ElasticEaseOut(t,e,s,a,f,d){var _=0;return t===0?e:(t/=a)==1?e+s:(d||(d=a*.3),!f||f<Math.abs(s)?(f=s,_=d/4):_=d/(2*Math.PI)*Math.asin(s/f),f*Math.pow(2,-10*t)*Math.sin((t*a-_)*(2*Math.PI)/d)+s+e)},ElasticEaseInOut(t,e,s,a,f,d){var _=0;return t===0?e:(t/=a/2)==2?e+s:(d||(d=a*(.3*1.5)),!f||f<Math.abs(s)?(f=s,_=d/4):_=d/(2*Math.PI)*Math.asin(s/f),t<1?-.5*(f*Math.pow(2,10*(t-=1))*Math.sin((t*a-_)*(2*Math.PI)/d))+e:f*Math.pow(2,-10*(t-=1))*Math.sin((t*a-_)*(2*Math.PI)/d)*.5+s+e)},BounceEaseOut(t,e,s,a){return(t/=a)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,s,a){return s-Easings.BounceEaseOut(a-t,0,s,a)+e},BounceEaseInOut(t,e,s,a){return t<a/2?Easings.BounceEaseIn(t*2,0,s,a)*.5+e:Easings.BounceEaseOut(t*2-a,0,s,a)*.5+s*.5+e},EaseIn(t,e,s,a){return s*(t/=a)*t+e},EaseOut(t,e,s,a){return-s*(t/=a)*(t-2)+e},EaseInOut(t,e,s,a){return(t/=a/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,s,a){return s*(t/=a)*t*t*t*t+e},StrongEaseOut(t,e,s,a){return s*((t=t/a-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,s,a){return(t/=a/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,s,a){return s*t/a+e}},Konva$1=Util._assign(Konva$2,{Util,Transform,Node,Container,Stage,stages,Layer,FastLayer,Group,DD,Shape,shapes,Animation,Tween,Easings,Context,Canvas});class Arc extends Shape{_sceneFunc(e){var s=Konva$2.getAngle(this.angle()),a=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,s,a),e.arc(0,0,this.innerRadius(),s,0,!a),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),s=this.outerRadius(),a=this.clockwise(),f=Konva$2.getAngle(a?360-this.angle():this.angle()),d=Math.cos(Math.min(f,Math.PI)),_=1,v=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),E=Math.sin(Math.min(f,Math.PI/2)),C=d*(d>0?e:s),O=_*s,T=v*(v>0?e:s),N=E*(E>0?s:e);return{x:Math.round(C),y:Math.round(a?-1*N:T),width:Math.round(O-C),height:Math.round(N-T)}}}Arc.prototype._centroid=!0;Arc.prototype.className="Arc";Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Arc);Factory.addGetterSetter(Arc,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Arc,"outerRadius",0,getNumberValidator());Factory.addGetterSetter(Arc,"angle",0,getNumberValidator());Factory.addGetterSetter(Arc,"clockwise",!1,getBooleanValidator());function getControlPoints(t,e,s,a,f,d,_){var v=Math.sqrt(Math.pow(s-t,2)+Math.pow(a-e,2)),E=Math.sqrt(Math.pow(f-s,2)+Math.pow(d-a,2)),C=_*v/(v+E),O=_*E/(v+E),T=s-C*(f-t),N=a-C*(d-e),r=s+O*(f-t),b=a+O*(d-e);return[T,N,r,b]}function expandPoints(t,e){var s=t.length,a=[],f,d;for(f=2;f<s-2;f+=2)d=getControlPoints(t[f-2],t[f-1],t[f],t[f+1],t[f+2],t[f+3],e),!isNaN(d[0])&&(a.push(d[0]),a.push(d[1]),a.push(t[f]),a.push(t[f+1]),a.push(d[2]),a.push(d[3]));return a}class Line extends Shape{constructor(e){super(e);this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var s=this.points(),a=s.length,f=this.tension(),d=this.closed(),_=this.bezier(),v,E,C;if(!!a){if(e.beginPath(),e.moveTo(s[0],s[1]),f!==0&&a>4){for(v=this.getTensionPoints(),E=v.length,C=d?0:4,d||e.quadraticCurveTo(v[0],v[1],v[2],v[3]);C<E-2;)e.bezierCurveTo(v[C++],v[C++],v[C++],v[C++],v[C++],v[C++]);d||e.quadraticCurveTo(v[E-2],v[E-1],s[a-2],s[a-1])}else if(_)for(C=2;C<a;)e.bezierCurveTo(s[C++],s[C++],s[C++],s[C++],s[C++],s[C++]);else for(C=2;C<a;C+=2)e.lineTo(s[C],s[C+1]);d?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),s=e.length,a=this.tension(),f=getControlPoints(e[s-2],e[s-1],e[0],e[1],e[2],e[3],a),d=getControlPoints(e[s-4],e[s-3],e[s-2],e[s-1],e[0],e[1],a),_=expandPoints(e,a),v=[f[2],f[3]].concat(_).concat([d[0],d[1],e[s-2],e[s-1],d[2],d[3],f[0],f[1],e[0],e[1]]);return v}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var s=e[0],a=e[0],f=e[1],d=e[1],_,v,E=0;E<e.length/2;E++)_=e[E*2],v=e[E*2+1],s=Math.min(s,_),a=Math.max(a,_),f=Math.min(f,v),d=Math.max(d,v);return{x:s,y:f,width:a-s,height:d-f}}}Line.prototype.className="Line";Line.prototype._attrsAffectingSize=["points","bezier","tension"];_registerNode(Line);Factory.addGetterSetter(Line,"closed",!1);Factory.addGetterSetter(Line,"bezier",!1);Factory.addGetterSetter(Line,"tension",0,getNumberValidator());Factory.addGetterSetter(Line,"points",[],getNumberArrayValidator());class Path extends Shape{constructor(e){super(e);this.dataArray=[],this.pathLength=0,this.dataArray=Path.parsePathData(this.data()),this.pathLength=0;for(var s=0;s<this.dataArray.length;++s)this.pathLength+=this.dataArray[s].pathLength;this.on("dataChange.konva",function(){this.dataArray=Path.parsePathData(this.data()),this.pathLength=0;for(var a=0;a<this.dataArray.length;++a)this.pathLength+=this.dataArray[a].pathLength})}_sceneFunc(e){var s=this.dataArray;e.beginPath();for(var a=!1,f=0;f<s.length;f++){var d=s[f].command,_=s[f].points;switch(d){case"L":e.lineTo(_[0],_[1]);break;case"M":e.moveTo(_[0],_[1]);break;case"C":e.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5]);break;case"Q":e.quadraticCurveTo(_[0],_[1],_[2],_[3]);break;case"A":var v=_[0],E=_[1],C=_[2],O=_[3],T=_[4],N=_[5],r=_[6],b=_[7],B=C>O?C:O,w=C>O?1:C/O,K=C>O?O/C:1;e.translate(v,E),e.rotate(r),e.scale(w,K),e.arc(0,0,B,T,T+N,1-b),e.scale(1/w,1/K),e.rotate(-r),e.translate(-v,-E);break;case"z":a=!0,e.closePath();break}}!a&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(C){if(C.command==="A"){var O=C.points[4],T=C.points[5],N=C.points[4]+T,r=Math.PI/180;if(Math.abs(O-N)<r&&(r=Math.abs(O-N)),T<0)for(let b=O-r;b>N;b-=r){const B=Path.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],b,0);e.push(B.x,B.y)}else for(let b=O+r;b<N;b+=r){const B=Path.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],b,0);e.push(B.x,B.y)}}else if(C.command==="C")for(let b=0;b<=1;b+=.01){const B=Path.getPointOnCubicBezier(b,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3],C.points[4],C.points[5]);e.push(B.x,B.y)}else e=e.concat(C.points)});for(var s=e[0],a=e[0],f=e[1],d=e[1],_,v,E=0;E<e.length/2;E++)_=e[E*2],v=e[E*2+1],isNaN(_)||(s=Math.min(s,_),a=Math.max(a,_)),isNaN(v)||(f=Math.min(f,v),d=Math.max(d,v));return{x:Math.round(s),y:Math.round(f),width:Math.round(a-s),height:Math.round(d-f)}}getLength(){return this.pathLength}getPointAtLength(e){var s,a=0,f=this.dataArray.length;if(!f)return null;for(;a<f&&e>this.dataArray[a].pathLength;)e-=this.dataArray[a].pathLength,++a;if(a===f)return s=this.dataArray[a-1].points.slice(-2),{x:s[0],y:s[1]};if(e<.01)return s=this.dataArray[a].points.slice(0,2),{x:s[0],y:s[1]};var d=this.dataArray[a],_=d.points;switch(d.command){case"L":return Path.getPointOnLine(e,d.start.x,d.start.y,_[0],_[1]);case"C":return Path.getPointOnCubicBezier(e/d.pathLength,d.start.x,d.start.y,_[0],_[1],_[2],_[3],_[4],_[5]);case"Q":return Path.getPointOnQuadraticBezier(e/d.pathLength,d.start.x,d.start.y,_[0],_[1],_[2],_[3]);case"A":var v=_[0],E=_[1],C=_[2],O=_[3],T=_[4],N=_[5],r=_[6];return T+=N*e/d.pathLength,Path.getPointOnEllipticalArc(v,E,C,O,T,r)}return null}static getLineLength(e,s,a,f){return Math.sqrt((a-e)*(a-e)+(f-s)*(f-s))}static getPointOnLine(e,s,a,f,d,_,v){_===void 0&&(_=s),v===void 0&&(v=a);var E=(d-a)/(f-s+1e-8),C=Math.sqrt(e*e/(1+E*E));f<s&&(C*=-1);var O=E*C,T;if(f===s)T={x:_,y:v+O};else if((v-a)/(_-s+1e-8)===E)T={x:_+C,y:v+O};else{var N,r,b=this.getLineLength(s,a,f,d),B=(_-s)*(f-s)+(v-a)*(d-a);B=B/(b*b),N=s+B*(f-s),r=a+B*(d-a);var w=this.getLineLength(_,v,N,r),K=Math.sqrt(e*e-w*w);C=Math.sqrt(K*K/(1+E*E)),f<s&&(C*=-1),O=E*C,T={x:N+C,y:r+O}}return T}static getPointOnCubicBezier(e,s,a,f,d,_,v,E,C){function O(w){return w*w*w}function T(w){return 3*w*w*(1-w)}function N(w){return 3*w*(1-w)*(1-w)}function r(w){return(1-w)*(1-w)*(1-w)}var b=E*O(e)+_*T(e)+f*N(e)+s*r(e),B=C*O(e)+v*T(e)+d*N(e)+a*r(e);return{x:b,y:B}}static getPointOnQuadraticBezier(e,s,a,f,d,_,v){function E(r){return r*r}function C(r){return 2*r*(1-r)}function O(r){return(1-r)*(1-r)}var T=_*E(e)+f*C(e)+s*O(e),N=v*E(e)+d*C(e)+a*O(e);return{x:T,y:N}}static getPointOnEllipticalArc(e,s,a,f,d,_){var v=Math.cos(_),E=Math.sin(_),C={x:a*Math.cos(d),y:f*Math.sin(d)};return{x:e+(C.x*v-C.y*E),y:s+(C.x*E+C.y*v)}}static parsePathData(e){if(!e)return[];var s=e,a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];s=s.replace(new RegExp(" ","g"),",");for(var f=0;f<a.length;f++)s=s.replace(new RegExp(a[f],"g"),"|"+a[f]);var d=s.split("|"),_=[],v=[],E=0,C=0,O=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,T;for(f=1;f<d.length;f++){var N=d[f],r=N.charAt(0);for(N=N.slice(1),v.length=0;T=O.exec(N);)v.push(T[0]);for(var b=[],B=0,w=v.length;B<w;B++){if(v[B]==="00"){b.push(0,0);continue}var K=parseFloat(v[B]);isNaN(K)?b.push(0):b.push(K)}for(;b.length>0&&!isNaN(b[0]);){var U=null,H=[],F=E,ee=C,q,W,V,ae,se,re,Z,te,Ee,Me;switch(r){case"l":E+=b.shift(),C+=b.shift(),U="L",H.push(E,C);break;case"L":E=b.shift(),C=b.shift(),H.push(E,C);break;case"m":var ke=b.shift(),Ae=b.shift();if(E+=ke,C+=Ae,U="M",_.length>2&&_[_.length-1].command==="z"){for(var be=_.length-2;be>=0;be--)if(_[be].command==="M"){E=_[be].points[0]+ke,C=_[be].points[1]+Ae;break}}H.push(E,C),r="l";break;case"M":E=b.shift(),C=b.shift(),U="M",H.push(E,C),r="L";break;case"h":E+=b.shift(),U="L",H.push(E,C);break;case"H":E=b.shift(),U="L",H.push(E,C);break;case"v":C+=b.shift(),U="L",H.push(E,C);break;case"V":C=b.shift(),U="L",H.push(E,C);break;case"C":H.push(b.shift(),b.shift(),b.shift(),b.shift()),E=b.shift(),C=b.shift(),H.push(E,C);break;case"c":H.push(E+b.shift(),C+b.shift(),E+b.shift(),C+b.shift()),E+=b.shift(),C+=b.shift(),U="C",H.push(E,C);break;case"S":W=E,V=C,q=_[_.length-1],q.command==="C"&&(W=E+(E-q.points[2]),V=C+(C-q.points[3])),H.push(W,V,b.shift(),b.shift()),E=b.shift(),C=b.shift(),U="C",H.push(E,C);break;case"s":W=E,V=C,q=_[_.length-1],q.command==="C"&&(W=E+(E-q.points[2]),V=C+(C-q.points[3])),H.push(W,V,E+b.shift(),C+b.shift()),E+=b.shift(),C+=b.shift(),U="C",H.push(E,C);break;case"Q":H.push(b.shift(),b.shift()),E=b.shift(),C=b.shift(),H.push(E,C);break;case"q":H.push(E+b.shift(),C+b.shift()),E+=b.shift(),C+=b.shift(),U="Q",H.push(E,C);break;case"T":W=E,V=C,q=_[_.length-1],q.command==="Q"&&(W=E+(E-q.points[0]),V=C+(C-q.points[1])),E=b.shift(),C=b.shift(),U="Q",H.push(W,V,E,C);break;case"t":W=E,V=C,q=_[_.length-1],q.command==="Q"&&(W=E+(E-q.points[0]),V=C+(C-q.points[1])),E+=b.shift(),C+=b.shift(),U="Q",H.push(W,V,E,C);break;case"A":ae=b.shift(),se=b.shift(),re=b.shift(),Z=b.shift(),te=b.shift(),Ee=E,Me=C,E=b.shift(),C=b.shift(),U="A",H=this.convertEndpointToCenterParameterization(Ee,Me,E,C,Z,te,ae,se,re);break;case"a":ae=b.shift(),se=b.shift(),re=b.shift(),Z=b.shift(),te=b.shift(),Ee=E,Me=C,E+=b.shift(),C+=b.shift(),U="A",H=this.convertEndpointToCenterParameterization(Ee,Me,E,C,Z,te,ae,se,re);break}_.push({command:U||r,points:H,start:{x:F,y:ee},pathLength:this.calcLength(F,ee,U||r,H)})}(r==="z"||r==="Z")&&_.push({command:"z",points:[],start:void 0,pathLength:0})}return _}static calcLength(e,s,a,f){var d,_,v,E,C=Path;switch(a){case"L":return C.getLineLength(e,s,f[0],f[1]);case"C":for(d=0,_=C.getPointOnCubicBezier(0,e,s,f[0],f[1],f[2],f[3],f[4],f[5]),E=.01;E<=1;E+=.01)v=C.getPointOnCubicBezier(E,e,s,f[0],f[1],f[2],f[3],f[4],f[5]),d+=C.getLineLength(_.x,_.y,v.x,v.y),_=v;return d;case"Q":for(d=0,_=C.getPointOnQuadraticBezier(0,e,s,f[0],f[1],f[2],f[3]),E=.01;E<=1;E+=.01)v=C.getPointOnQuadraticBezier(E,e,s,f[0],f[1],f[2],f[3]),d+=C.getLineLength(_.x,_.y,v.x,v.y),_=v;return d;case"A":d=0;var O=f[4],T=f[5],N=f[4]+T,r=Math.PI/180;if(Math.abs(O-N)<r&&(r=Math.abs(O-N)),_=C.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],O,0),T<0)for(E=O-r;E>N;E-=r)v=C.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],E,0),d+=C.getLineLength(_.x,_.y,v.x,v.y),_=v;else for(E=O+r;E<N;E+=r)v=C.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],E,0),d+=C.getLineLength(_.x,_.y,v.x,v.y),_=v;return v=C.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],N,0),d+=C.getLineLength(_.x,_.y,v.x,v.y),d}return 0}static convertEndpointToCenterParameterization(e,s,a,f,d,_,v,E,C){var O=C*(Math.PI/180),T=Math.cos(O)*(e-a)/2+Math.sin(O)*(s-f)/2,N=-1*Math.sin(O)*(e-a)/2+Math.cos(O)*(s-f)/2,r=T*T/(v*v)+N*N/(E*E);r>1&&(v*=Math.sqrt(r),E*=Math.sqrt(r));var b=Math.sqrt((v*v*(E*E)-v*v*(N*N)-E*E*(T*T))/(v*v*(N*N)+E*E*(T*T)));d===_&&(b*=-1),isNaN(b)&&(b=0);var B=b*v*N/E,w=b*-E*T/v,K=(e+a)/2+Math.cos(O)*B-Math.sin(O)*w,U=(s+f)/2+Math.sin(O)*B+Math.cos(O)*w,H=function(se){return Math.sqrt(se[0]*se[0]+se[1]*se[1])},F=function(se,re){return(se[0]*re[0]+se[1]*re[1])/(H(se)*H(re))},ee=function(se,re){return(se[0]*re[1]<se[1]*re[0]?-1:1)*Math.acos(F(se,re))},q=ee([1,0],[(T-B)/v,(N-w)/E]),W=[(T-B)/v,(N-w)/E],V=[(-1*T-B)/v,(-1*N-w)/E],ae=ee(W,V);return F(W,V)<=-1&&(ae=Math.PI),F(W,V)>=1&&(ae=0),_===0&&ae>0&&(ae=ae-2*Math.PI),_===1&&ae<0&&(ae=ae+2*Math.PI),[K,U,v,E,q,ae,O,_]}}Path.prototype.className="Path";Path.prototype._attrsAffectingSize=["data"];_registerNode(Path);Factory.addGetterSetter(Path,"data");class Arrow extends Line{_sceneFunc(e){super._sceneFunc(e);var s=Math.PI*2,a=this.points(),f=a,d=this.tension()!==0&&a.length>4;d&&(f=this.getTensionPoints());var _=this.pointerLength(),v=a.length,E,C;if(d){const N=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],a[v-2],a[v-1]],r=Path.calcLength(f[f.length-4],f[f.length-3],"C",N),b=Path.getPointOnQuadraticBezier(Math.min(1,1-_/r),N[0],N[1],N[2],N[3],N[4],N[5]);E=a[v-2]-b.x,C=a[v-1]-b.y}else E=a[v-2]-a[v-4],C=a[v-1]-a[v-3];var O=(Math.atan2(C,E)+s)%s,T=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(a[v-2],a[v-1]),e.rotate(O),e.moveTo(0,0),e.lineTo(-_,T/2),e.lineTo(-_,-T/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(a[0],a[1]),d?(E=(f[0]+f[2])/2-a[0],C=(f[1]+f[3])/2-a[1]):(E=a[2]-a[0],C=a[3]-a[1]),e.rotate((Math.atan2(-C,-E)+s)%s),e.moveTo(0,0),e.lineTo(-_,T/2),e.lineTo(-_,-T/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var s=this.dashEnabled();s&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),s&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),s=this.pointerWidth()/2;return{x:e.x-s,y:e.y-s,width:e.width+s*2,height:e.height+s*2}}}Arrow.prototype.className="Arrow";_registerNode(Arrow);Factory.addGetterSetter(Arrow,"pointerLength",10,getNumberValidator());Factory.addGetterSetter(Arrow,"pointerWidth",10,getNumberValidator());Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1);Factory.addGetterSetter(Arrow,"pointerAtEnding",!0);class Circle extends Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Circle.prototype._centroid=!0;Circle.prototype.className="Circle";Circle.prototype._attrsAffectingSize=["radius"];_registerNode(Circle);Factory.addGetterSetter(Circle,"radius",0,getNumberValidator());class Ellipse extends Shape{_sceneFunc(e){var s=this.radiusX(),a=this.radiusY();e.beginPath(),e.save(),s!==a&&e.scale(1,a/s),e.arc(0,0,s,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Ellipse.prototype.className="Ellipse";Ellipse.prototype._centroid=!0;Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"];_registerNode(Ellipse);Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]);Factory.addGetterSetter(Ellipse,"radiusX",0,getNumberValidator());Factory.addGetterSetter(Ellipse,"radiusY",0,getNumberValidator());class Image extends Shape{constructor(e){super(e);this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const s=this.getWidth(),a=this.getHeight(),f=this.attrs.image;let d;if(f){const _=this.attrs.cropWidth,v=this.attrs.cropHeight;_&&v?d=[f,this.cropX(),this.cropY(),_,v,0,0,s,a]:d=[f,0,0,s,a]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,s,a),e.closePath(),e.fillStrokeShape(this)),f&&e.drawImage.apply(e,d)}_hitFunc(e){var s=this.width(),a=this.height();e.beginPath(),e.rect(0,0,s,a),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,s;return(e=this.attrs.width)!==null&&e!==void 0?e:(s=this.image())===null||s===void 0?void 0:s.width}getHeight(){var e,s;return(e=this.attrs.height)!==null&&e!==void 0?e:(s=this.image())===null||s===void 0?void 0:s.height}static fromURL(e,s,a=null){var f=Util.createImageElement();f.onload=function(){var d=new Image({image:f});s(d)},f.onerror=a,f.crossOrigin="Anonymous",f.src=e}}Image.prototype.className="Image";_registerNode(Image);Factory.addGetterSetter(Image,"image");Factory.addComponentsGetterSetter(Image,"crop",["x","y","width","height"]);Factory.addGetterSetter(Image,"cropX",0,getNumberValidator());Factory.addGetterSetter(Image,"cropY",0,getNumberValidator());Factory.addGetterSetter(Image,"cropWidth",0,getNumberValidator());Factory.addGetterSetter(Image,"cropHeight",0,getNumberValidator());var ATTR_CHANGE_LIST$2=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],CHANGE_KONVA$1="Change.konva",NONE$1="none",UP="up",RIGHT$1="right",DOWN="down",LEFT$1="left",attrChangeListLen$1=ATTR_CHANGE_LIST$2.length;class Label extends Group{constructor(e){super(e);this.on("add.konva",function(s){this._addListeners(s.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var s=this,a,f=function(){s._sync()};for(a=0;a<attrChangeListLen$1;a++)e.on(ATTR_CHANGE_LIST$2[a]+CHANGE_KONVA$1,f)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),s=this.getTag(),a,f,d,_,v,E,C;if(e&&s){switch(a=e.width(),f=e.height(),d=s.pointerDirection(),_=s.pointerWidth(),C=s.pointerHeight(),v=0,E=0,d){case UP:v=a/2,E=-1*C;break;case RIGHT$1:v=a+_,E=f/2;break;case DOWN:v=a/2,E=f+C;break;case LEFT$1:v=-1*_,E=f/2;break}s.setAttrs({x:-1*v,y:-1*E,width:a,height:f}),e.setAttrs({x:-1*v,y:-1*E})}}}Label.prototype.className="Label";_registerNode(Label);class Tag extends Shape{_sceneFunc(e){var s=this.width(),a=this.height(),f=this.pointerDirection(),d=this.pointerWidth(),_=this.pointerHeight(),v=this.cornerRadius();let E=0,C=0,O=0,T=0;typeof v=="number"?E=C=O=T=Math.min(v,s/2,a/2):(E=Math.min(v[0]||0,s/2,a/2),C=Math.min(v[1]||0,s/2,a/2),T=Math.min(v[2]||0,s/2,a/2),O=Math.min(v[3]||0,s/2,a/2)),e.beginPath(),e.moveTo(E,0),f===UP&&(e.lineTo((s-d)/2,0),e.lineTo(s/2,-1*_),e.lineTo((s+d)/2,0)),e.lineTo(s-C,0),e.arc(s-C,C,C,Math.PI*3/2,0,!1),f===RIGHT$1&&(e.lineTo(s,(a-_)/2),e.lineTo(s+d,a/2),e.lineTo(s,(a+_)/2)),e.lineTo(s,a-T),e.arc(s-T,a-T,T,0,Math.PI/2,!1),f===DOWN&&(e.lineTo((s+d)/2,a),e.lineTo(s/2,a+_),e.lineTo((s-d)/2,a)),e.lineTo(O,a),e.arc(O,a-O,O,Math.PI/2,Math.PI,!1),f===LEFT$1&&(e.lineTo(0,(a+_)/2),e.lineTo(-1*d,a/2),e.lineTo(0,(a-_)/2)),e.lineTo(0,E),e.arc(E,E,E,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,s=0,a=this.pointerWidth(),f=this.pointerHeight(),d=this.pointerDirection(),_=this.width(),v=this.height();return d===UP?(s-=f,v+=f):d===DOWN?v+=f:d===LEFT$1?(e-=a*1.5,_+=a):d===RIGHT$1&&(_+=a*1.5),{x:e,y:s,width:_,height:v}}}Tag.prototype.className="Tag";_registerNode(Tag);Factory.addGetterSetter(Tag,"pointerDirection",NONE$1);Factory.addGetterSetter(Tag,"pointerWidth",0,getNumberValidator());Factory.addGetterSetter(Tag,"pointerHeight",0,getNumberValidator());Factory.addGetterSetter(Tag,"cornerRadius",0,getNumberOrArrayOfNumbersValidator(4));class Rect extends Shape{_sceneFunc(e){var s=this.cornerRadius(),a=this.width(),f=this.height();if(e.beginPath(),!s)e.rect(0,0,a,f);else{let d=0,_=0,v=0,E=0;typeof s=="number"?d=_=v=E=Math.min(s,a/2,f/2):(d=Math.min(s[0]||0,a/2,f/2),_=Math.min(s[1]||0,a/2,f/2),E=Math.min(s[2]||0,a/2,f/2),v=Math.min(s[3]||0,a/2,f/2)),e.moveTo(d,0),e.lineTo(a-_,0),e.arc(a-_,_,_,Math.PI*3/2,0,!1),e.lineTo(a,f-E),e.arc(a-E,f-E,E,0,Math.PI/2,!1),e.lineTo(v,f),e.arc(v,f-v,v,Math.PI/2,Math.PI,!1),e.lineTo(0,d),e.arc(d,d,d,Math.PI,Math.PI*3/2,!1)}e.closePath(),e.fillStrokeShape(this)}}Rect.prototype.className="Rect";_registerNode(Rect);Factory.addGetterSetter(Rect,"cornerRadius",0,getNumberOrArrayOfNumbersValidator(4));class RegularPolygon extends Shape{_sceneFunc(e){const s=this._getPoints();e.beginPath(),e.moveTo(s[0].x,s[0].y);for(var a=1;a<s.length;a++)e.lineTo(s[a].x,s[a].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,s=this.attrs.radius||0,a=[];for(var f=0;f<e;f++)a.push({x:s*Math.sin(f*2*Math.PI/e),y:-1*s*Math.cos(f*2*Math.PI/e)});return a}getSelfRect(){const e=this._getPoints();var s=e[0].x,a=e[0].y,f=e[0].x,d=e[0].y;return e.forEach(_=>{s=Math.min(s,_.x),a=Math.max(a,_.x),f=Math.min(f,_.y),d=Math.max(d,_.y)}),{x:s,y:f,width:a-s,height:d-f}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}RegularPolygon.prototype.className="RegularPolygon";RegularPolygon.prototype._centroid=!0;RegularPolygon.prototype._attrsAffectingSize=["radius"];_registerNode(RegularPolygon);Factory.addGetterSetter(RegularPolygon,"radius",0,getNumberValidator());Factory.addGetterSetter(RegularPolygon,"sides",0,getNumberValidator());var PIx2=Math.PI*2;class Ring extends Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,PIx2,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),PIx2,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ring.prototype.className="Ring";Ring.prototype._centroid=!0;Ring.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Ring);Factory.addGetterSetter(Ring,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Ring,"outerRadius",0,getNumberValidator());class Sprite extends Shape{constructor(e){super(e);this._updated=!0,this.anim=new Animation(()=>{var s=this._updated;return this._updated=!1,s}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var s=this.animation(),a=this.frameIndex(),f=a*4,d=this.animations()[s],_=this.frameOffsets(),v=d[f+0],E=d[f+1],C=d[f+2],O=d[f+3],T=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,C,O),e.closePath(),e.fillStrokeShape(this)),T)if(_){var N=_[s],r=a*2;e.drawImage(T,v,E,C,O,N[r+0],N[r+1],C,O)}else e.drawImage(T,v,E,C,O,0,0,C,O)}_hitFunc(e){var s=this.animation(),a=this.frameIndex(),f=a*4,d=this.animations()[s],_=this.frameOffsets(),v=d[f+2],E=d[f+3];if(e.beginPath(),_){var C=_[s],O=a*2;e.rect(C[O+0],C[O+1],v,E)}else e.rect(0,0,v,E);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),s=this.animation(),a=this.animations(),f=a[s],d=f.length/4;e<d-1?this.frameIndex(e+1):this.frameIndex(0)}}Sprite.prototype.className="Sprite";_registerNode(Sprite);Factory.addGetterSetter(Sprite,"animation");Factory.addGetterSetter(Sprite,"animations");Factory.addGetterSetter(Sprite,"frameOffsets");Factory.addGetterSetter(Sprite,"image");Factory.addGetterSetter(Sprite,"frameIndex",0,getNumberValidator());Factory.addGetterSetter(Sprite,"frameRate",17,getNumberValidator());Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Star extends Shape{_sceneFunc(e){var s=this.innerRadius(),a=this.outerRadius(),f=this.numPoints();e.beginPath(),e.moveTo(0,0-a);for(var d=1;d<f*2;d++){var _=d%2==0?a:s,v=_*Math.sin(d*Math.PI/f),E=-1*_*Math.cos(d*Math.PI/f);e.lineTo(v,E)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Star.prototype.className="Star";Star.prototype._centroid=!0;Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Star);Factory.addGetterSetter(Star,"numPoints",5,getNumberValidator());Factory.addGetterSetter(Star,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Star,"outerRadius",0,getNumberValidator());function stringToArray(t){return Array.from(t)}var AUTO="auto",CENTER="center",JUSTIFY="justify",CHANGE_KONVA="Change.konva",CONTEXT_2D="2d",DASH="-",LEFT="left",TEXT="text",TEXT_UPPER="Text",TOP="top",BOTTOM="bottom",MIDDLE="middle",NORMAL$1="normal",PX_SPACE="px ",SPACE=" ",RIGHT="right",WORD="word",CHAR="char",NONE="none",ELLIPSIS="\u2026",ATTR_CHANGE_LIST$1=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST$1.length;function normalizeFontFamily(t){return t.split(",").map(e=>{e=e.trim();const s=e.indexOf(" ")>=0,a=e.indexOf('"')>=0||e.indexOf("'")>=0;return s&&!a&&(e=`"${e}"`),e}).join(", ")}var dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util.createCanvasElement().getContext(CONTEXT_2D),dummyContext)}function _fillFunc$1(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function _strokeFunc$1(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function checkDefaultFill(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Text extends Shape{constructor(e){super(checkDefaultFill(e));this._partialTextX=0,this._partialTextY=0;for(var s=0;s<attrChangeListLen;s++)this.on(ATTR_CHANGE_LIST$1[s]+CHANGE_KONVA,this._setTextData);this._setTextData()}_sceneFunc(e){var s=this.textArr,a=s.length;if(!!this.text()){var f=this.padding(),d=this.fontSize(),_=this.lineHeight()*d,v=this.verticalAlign(),E=0,C=this.align(),O=this.getWidth(),T=this.letterSpacing(),N=this.fill(),r=this.textDecoration(),b=r.indexOf("underline")!==-1,B=r.indexOf("line-through")!==-1,w,K=0,K=_/2,U=0,H=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",MIDDLE),e.setAttr("textAlign",LEFT),v===MIDDLE?E=(this.getHeight()-a*_-f*2)/2:v===BOTTOM&&(E=this.getHeight()-a*_-f*2),e.translate(f,E+f),w=0;w<a;w++){var U=0,H=0,F=s[w],ee=F.text,q=F.width,W=w!==a-1,V,ae,se;if(e.save(),C===RIGHT?U+=O-q-f*2:C===CENTER&&(U+=(O-q-f*2)/2),b&&(e.save(),e.beginPath(),e.moveTo(U,K+H+Math.round(d/2)),V=ee.split(" ").length-1,ae=V===0,se=C===JUSTIFY&&W&&!ae?O-f*2:q,e.lineTo(U+Math.round(se),K+H+Math.round(d/2)),e.lineWidth=d/15,e.strokeStyle=N,e.stroke(),e.restore()),B&&(e.save(),e.beginPath(),e.moveTo(U,K+H),V=ee.split(" ").length-1,ae=V===0,se=C===JUSTIFY&&W&&!ae?O-f*2:q,e.lineTo(U+Math.round(se),K+H),e.lineWidth=d/15,e.strokeStyle=N,e.stroke(),e.restore()),T!==0||C===JUSTIFY){V=ee.split(" ").length-1;for(var re=stringToArray(ee),Z=0;Z<re.length;Z++){var te=re[Z];te===" "&&w!==a-1&&C===JUSTIFY&&(U+=(O-f*2-q)/V),this._partialTextX=U,this._partialTextY=K+H,this._partialText=te,e.fillStrokeShape(this),U+=this.measureSize(te).width+T}}else this._partialTextX=U,this._partialTextY=K+H,this._partialText=ee,e.fillStrokeShape(this);e.restore(),a>1&&(K+=_)}}}_hitFunc(e){var s=this.getWidth(),a=this.getHeight();e.beginPath(),e.rect(0,0,s,a),e.closePath(),e.fillStrokeShape(this)}setText(e){var s=Util._isString(e)?e:e==null?"":e+"";return this._setAttr(TEXT,s),this}getWidth(){var e=this.attrs.width===AUTO||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===AUTO||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var s=getDummyContext(),a=this.fontSize(),f;return s.save(),s.font=this._getContextFont(),f=s.measureText(e),s.restore(),{width:f.width,height:a}}_getContextFont(){return this.fontStyle()+SPACE+this.fontVariant()+SPACE+(this.fontSize()+PX_SPACE)+normalizeFontFamily(this.fontFamily())}_addTextLine(e){this.align()===JUSTIFY&&(e=e.trim());var s=this._getTextWidth(e);return this.textArr.push({text:e,width:s})}_getTextWidth(e){var s=this.letterSpacing(),a=e.length;return getDummyContext().measureText(e).width+(a?s*(a-1):0)}_setTextData(){var e=this.text().split(`
`),s=+this.fontSize(),a=0,f=this.lineHeight()*s,d=this.attrs.width,_=this.attrs.height,v=d!==AUTO&&d!==void 0,E=_!==AUTO&&_!==void 0,C=this.padding(),O=d-C*2,T=_-C*2,N=0,r=this.wrap(),b=r!==NONE,B=r!==CHAR&&b,w=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();for(var K=w?this._getTextWidth(ELLIPSIS):0,U=0,H=e.length;U<H;++U){var F=e[U],ee=this._getTextWidth(F);if(v&&ee>O)for(;F.length>0;){for(var q=0,W=F.length,V="",ae=0;q<W;){var se=q+W>>>1,re=F.slice(0,se+1),Z=this._getTextWidth(re)+K;Z<=O?(q=se+1,V=re,ae=Z):W=se}if(V){if(B){var te,Ee=F[V.length],Me=Ee===SPACE||Ee===DASH;Me&&ae<=O?te=V.length:te=Math.max(V.lastIndexOf(SPACE),V.lastIndexOf(DASH))+1,te>0&&(q=te,V=V.slice(0,q),ae=this._getTextWidth(V))}if(V=V.trimRight(),this._addTextLine(V),a=Math.max(a,ae),N+=f,!b||E&&N+f>T){var ke=this.textArr[this.textArr.length-1];if(ke&&w){var Ae=this._getTextWidth(ke.text+ELLIPSIS)<O;Ae||(ke.text=ke.text.slice(0,ke.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ke.text+ELLIPSIS)}break}if(F=F.slice(q),F=F.trimLeft(),F.length>0&&(ee=this._getTextWidth(F),ee<=O)){this._addTextLine(F),N+=f,a=Math.max(a,ee);break}}else break}else this._addTextLine(F),N+=f,a=Math.max(a,ee);if(E&&N+f>T)break}this.textHeight=s,this.textWidth=a}getStrokeScaleEnabled(){return!0}}Text.prototype._fillFunc=_fillFunc$1;Text.prototype._strokeFunc=_strokeFunc$1;Text.prototype.className=TEXT_UPPER;Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];_registerNode(Text);Factory.overWriteSetter(Text,"width",getNumberOrAutoValidator());Factory.overWriteSetter(Text,"height",getNumberOrAutoValidator());Factory.addGetterSetter(Text,"fontFamily","Arial");Factory.addGetterSetter(Text,"fontSize",12,getNumberValidator());Factory.addGetterSetter(Text,"fontStyle",NORMAL$1);Factory.addGetterSetter(Text,"fontVariant",NORMAL$1);Factory.addGetterSetter(Text,"padding",0,getNumberValidator());Factory.addGetterSetter(Text,"align",LEFT);Factory.addGetterSetter(Text,"verticalAlign",TOP);Factory.addGetterSetter(Text,"lineHeight",1,getNumberValidator());Factory.addGetterSetter(Text,"wrap",WORD);Factory.addGetterSetter(Text,"ellipsis",!1,getBooleanValidator());Factory.addGetterSetter(Text,"letterSpacing",0,getNumberValidator());Factory.addGetterSetter(Text,"text","",getStringValidator());Factory.addGetterSetter(Text,"textDecoration","");var EMPTY_STRING="",NORMAL="normal";function _fillFunc(t){t.fillText(this.partialText,0,0)}function _strokeFunc(t){t.strokeText(this.partialText,0,0)}class TextPath extends Shape{constructor(e){super(e);this.dummyCanvas=Util.createCanvasElement(),this.dataArray=[],this.dataArray=Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Path.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var s=this.textDecoration(),a=this.fill(),f=this.fontSize(),d=this.glyphInfo;s==="underline"&&e.beginPath();for(var _=0;_<d.length;_++){e.save();var v=d[_].p0;e.translate(v.x,v.y),e.rotate(d[_].rotation),this.partialText=d[_].text,e.fillStrokeShape(this),s==="underline"&&(_===0&&e.moveTo(0,f/2+1),e.lineTo(f,f/2+1)),e.restore()}s==="underline"&&(e.strokeStyle=a,e.lineWidth=f/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var s=this.glyphInfo;if(s.length>=1){var a=s[0].p0;e.moveTo(a.x,a.y)}for(var f=0;f<s.length;f++){var d=s[f].p1;e.lineTo(d.x,d.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Text.prototype.setText.call(this,e)}_getContextFont(){return Text.prototype._getContextFont.call(this)}_getTextSize(e){var s=this.dummyCanvas,a=s.getContext("2d");a.save(),a.font=this._getContextFont();var f=a.measureText(e);return a.restore(),{width:f.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,s=this._getTextSize(this.attrs.text),a=this.letterSpacing(),f=this.align(),d=this.kerningFunc();this.textWidth=s.width,this.textHeight=s.height;var _=Math.max(this.textWidth+((this.attrs.text||"").length-1)*a,0);this.glyphInfo=[];for(var v=0,E=0;E<e.dataArray.length;E++)e.dataArray[E].pathLength>0&&(v+=e.dataArray[E].pathLength);var C=0;f==="center"&&(C=Math.max(0,v/2-_/2)),f==="right"&&(C=Math.max(0,v-_));for(var O=stringToArray(this.text()),T=this.text().split(" ").length-1,N,r,b,B=-1,w=0,K=function(){w=0;for(var Z=e.dataArray,te=B+1;te<Z.length;te++){if(Z[te].pathLength>0)return B=te,Z[te];Z[te].command==="M"&&(N={x:Z[te].points[0],y:Z[te].points[1]})}return{}},U=function(Z){var te=e._getTextSize(Z).width+a;Z===" "&&f==="justify"&&(te+=(v-_)/T);var Ee=0,Me=0;for(r=void 0;Math.abs(te-Ee)/te>.01&&Me<20;){Me++;for(var ke=Ee;b===void 0;)b=K(),b&&ke+b.pathLength<te&&(ke+=b.pathLength,b=void 0);if(b==={}||N===void 0)return;var Ae=!1;switch(b.command){case"L":Path.getLineLength(N.x,N.y,b.points[0],b.points[1])>te?r=Path.getPointOnLine(te,N.x,N.y,b.points[0],b.points[1],N.x,N.y):b=void 0;break;case"A":var be=b.points[4],Ke=b.points[5],xe=b.points[4]+Ke;w===0?w=be+1e-8:te>Ee?w+=Math.PI/180*Ke/Math.abs(Ke):w-=Math.PI/360*Ke/Math.abs(Ke),(Ke<0&&w<xe||Ke>=0&&w>xe)&&(w=xe,Ae=!0),r=Path.getPointOnEllipticalArc(b.points[0],b.points[1],b.points[2],b.points[3],w,b.points[6]);break;case"C":w===0?te>b.pathLength?w=1e-8:w=te/b.pathLength:te>Ee?w+=(te-Ee)/b.pathLength/2:w=Math.max(w-(Ee-te)/b.pathLength/2,0),w>1&&(w=1,Ae=!0),r=Path.getPointOnCubicBezier(w,b.start.x,b.start.y,b.points[0],b.points[1],b.points[2],b.points[3],b.points[4],b.points[5]);break;case"Q":w===0?w=te/b.pathLength:te>Ee?w+=(te-Ee)/b.pathLength:w-=(Ee-te)/b.pathLength,w>1&&(w=1,Ae=!0),r=Path.getPointOnQuadraticBezier(w,b.start.x,b.start.y,b.points[0],b.points[1],b.points[2],b.points[3]);break}r!==void 0&&(Ee=Path.getLineLength(N.x,N.y,r.x,r.y)),Ae&&(Ae=!1,b=void 0)}},H="C",F=e._getTextSize(H).width+a,ee=C/F-1,q=0;q<ee&&(U(H),!(N===void 0||r===void 0));q++)N=r;for(var W=0;W<O.length&&(U(O[W]),!(N===void 0||r===void 0));W++){var V=Path.getLineLength(N.x,N.y,r.x,r.y),ae=0;if(d)try{ae=d(O[W-1],O[W])*this.fontSize()}catch{ae=0}N.x+=ae,r.x+=ae,this.textWidth+=ae;var se=Path.getPointOnLine(ae+V/2,N.x,N.y,r.x,r.y),re=Math.atan2(r.y-N.y,r.x-N.x);this.glyphInfo.push({transposeX:se.x,transposeY:se.y,text:O[W],rotation:re,p0:N,p1:r}),N=r}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(O){e.push(O.p0.x),e.push(O.p0.y),e.push(O.p1.x),e.push(O.p1.y)});for(var s=e[0]||0,a=e[0]||0,f=e[1]||0,d=e[1]||0,_,v,E=0;E<e.length/2;E++)_=e[E*2],v=e[E*2+1],s=Math.min(s,_),a=Math.max(a,_),f=Math.min(f,v),d=Math.max(d,v);var C=this.fontSize();return{x:s-C/2,y:f-C/2,width:a-s+C,height:d-f+C}}}TextPath.prototype._fillFunc=_fillFunc;TextPath.prototype._strokeFunc=_strokeFunc;TextPath.prototype._fillFuncHit=_fillFunc;TextPath.prototype._strokeFuncHit=_strokeFunc;TextPath.prototype.className="TextPath";TextPath.prototype._attrsAffectingSize=["text","fontSize","data"];_registerNode(TextPath);Factory.addGetterSetter(TextPath,"data");Factory.addGetterSetter(TextPath,"fontFamily","Arial");Factory.addGetterSetter(TextPath,"fontSize",12,getNumberValidator());Factory.addGetterSetter(TextPath,"fontStyle",NORMAL);Factory.addGetterSetter(TextPath,"align","left");Factory.addGetterSetter(TextPath,"letterSpacing",0,getNumberValidator());Factory.addGetterSetter(TextPath,"textBaseline","middle");Factory.addGetterSetter(TextPath,"fontVariant",NORMAL);Factory.addGetterSetter(TextPath,"text",EMPTY_STRING);Factory.addGetterSetter(TextPath,"textDecoration",null);Factory.addGetterSetter(TextPath,"kerningFunc",null);var EVENTS_NAME="tr-konva",ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${EVENTS_NAME}`).join(" "),NODES_RECT="nodesRect",TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const TOUCH_DEVICE="ontouchstart"in Konva$2._global;function getCursor(t,e){if(t==="rotater")return"crosshair";e+=Util.degToRad(ANGLES[t]||0);var s=(Util.radToDeg(e)%360+360)%360;return Util._inRange(s,315+22.5,360)||Util._inRange(s,0,22.5)?"ns-resize":Util._inRange(s,45-22.5,45+22.5)?"nesw-resize":Util._inRange(s,90-22.5,90+22.5)?"ew-resize":Util._inRange(s,135-22.5,135+22.5)?"nwse-resize":Util._inRange(s,180-22.5,180+22.5)?"ns-resize":Util._inRange(s,225-22.5,225+22.5)?"nesw-resize":Util._inRange(s,270-22.5,270+22.5)?"ew-resize":Util._inRange(s,315-22.5,315+22.5)?"nwse-resize":(Util.error("Transformer has unknown angle for cursor detection: "+s),"pointer")}var ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],MAX_SAFE_INTEGER=1e8;function getCenter(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function rotateAroundPoint(t,e,s){const a=s.x+(t.x-s.x)*Math.cos(e)-(t.y-s.y)*Math.sin(e),f=s.y+(t.x-s.x)*Math.sin(e)+(t.y-s.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:a,y:f})}function rotateAroundCenter(t,e){const s=getCenter(t);return rotateAroundPoint(t,e,s)}function getSnap(t,e,s){let a=e;for(let f=0;f<t.length;f++){const d=Konva$2.getAngle(t[f]),_=Math.abs(d-e)%(Math.PI*2);Math.min(_,Math.PI*2-_)<s&&(a=d)}return a}class Transformer extends Group{constructor(e){super(e);this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return EVENTS_NAME+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(a=>{const f=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},d=a._attrsAffectingSize.map(_=>_+"Change."+this._getEventNamespace()).join(" ");a.on(d,f),a.on(TRANSFORM_CHANGE_STR.map(_=>_+`.${this._getEventNamespace()}`).join(" "),f),a.on(`absoluteTransformChange.${this._getEventNamespace()}`,f),this._proxyDrag(a)}),this._resetTransformCache();var s=!!this.findOne(".top-left");return s&&this.update(),this}_proxyDrag(e){let s;e.on(`dragstart.${this._getEventNamespace()}`,a=>{s=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(a,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,a=>{if(!s)return;const f=e.getAbsolutePosition(),d=f.x-s.x,_=f.y-s.y;this.nodes().forEach(v=>{if(v===e||v.isDragging())return;const E=v.getAbsolutePosition();v.setAbsolutePosition({x:E.x+d,y:E.y+_}),v.startDrag(a)}),s=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(NODES_RECT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(NODES_RECT,this.__getNodeRect)}__getNodeShape(e,s=this.rotation(),a){var f=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=e.getAbsoluteScale(a),_=e.getAbsolutePosition(a),v=f.x*d.x-e.offsetX()*d.x,E=f.y*d.y-e.offsetY()*d.y;const C=(Konva$2.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),O={x:_.x+v*Math.cos(C)+E*Math.sin(-C),y:_.y+E*Math.cos(C)+v*Math.sin(C),width:f.width*d.x,height:f.height*d.y,rotation:C};return rotateAroundPoint(O,-Konva$2.getAngle(s),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-MAX_SAFE_INTEGER,y:-MAX_SAFE_INTEGER,width:0,height:0,rotation:0};const s=[];this.nodes().map(C=>{const O=C.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var T=[{x:O.x,y:O.y},{x:O.x+O.width,y:O.y},{x:O.x+O.width,y:O.y+O.height},{x:O.x,y:O.y+O.height}],N=C.getAbsoluteTransform();T.forEach(function(r){var b=N.point(r);s.push(b)})});const a=new Transform;a.rotate(-Konva$2.getAngle(this.rotation()));var f,d,_,v;s.forEach(function(C){var O=a.point(C);f===void 0&&(f=_=O.x,d=v=O.y),f=Math.min(f,O.x),d=Math.min(d,O.y),_=Math.max(_,O.x),v=Math.max(v,O.y)}),a.invert();const E=a.point({x:f,y:d});return{x:E.x,y:E.y,width:_-f,height:v-d,rotation:Konva$2.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var s=new Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),a=this;s.on("mousedown touchstart",function(f){a._handleMouseDown(f)}),s.on("dragstart",f=>{s.stopDrag(),f.cancelBubble=!0}),s.on("dragend",f=>{f.cancelBubble=!0}),s.on("mouseenter",()=>{var f=Konva$2.getAngle(this.rotation()),d=getCursor(e,f);s.getStage().content&&(s.getStage().content.style.cursor=d),this._cursorChange=!0}),s.on("mouseout",()=>{s.getStage().content&&(s.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(s)}_createBack(){var e=new Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(s){var a=this.getParent(),f=a.padding();s.beginPath(),s.rect(-f,-f,this.width()+f*2,this.height()+f*2),s.moveTo(this.width()/2,-f),a.rotateEnabled()&&s.lineTo(this.width()/2,-a.rotateAnchorOffset()*Util._sign(this.height())-f),s.fillStrokeShape(this)},hitFunc:(s,a)=>{if(!!this.shouldOverdrawWholeArea()){var f=this.padding();s.beginPath(),s.rect(-f,-f,a.width()+f*2,a.height()+f*2),s.fillStrokeShape(a)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",s=>{s.cancelBubble=!0}),e.on("dragmove",s=>{s.cancelBubble=!0}),e.on("dragend",s=>{s.cancelBubble=!0}),this.on("dragmove",s=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var s=this._getNodeRect(),a=s.width,f=s.height,d=Math.sqrt(Math.pow(a,2)+Math.pow(f,2));this.sin=Math.abs(f/d),this.cos=Math.abs(a/d),typeof window!="undefined"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var _=e.target.getAbsolutePosition(),v=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:v.x-_.x,y:v.y-_.y},this._fire("transformstart",{evt:e,target:this.getNode()}),this._nodes.forEach(E=>{E._fire("transformstart",{evt:e,target:E})})}_handleMouseMove(e){var s,a,f,d=this.findOne("."+this._movingAnchorName),_=d.getStage();_.setPointersPositions(e);const v=_.getPointerPosition();let E={x:v.x-this._anchorDragOffset.x,y:v.y-this._anchorDragOffset.y};const C=d.getAbsolutePosition();this.anchorDragBoundFunc()&&(E=this.anchorDragBoundFunc()(C,E,e)),d.setAbsolutePosition(E);const O=d.getAbsolutePosition();if(!(C.x===O.x&&C.y===O.y)){if(this._movingAnchorName==="rotater"){var T=this._getNodeRect();s=d.x()-T.width/2,a=-d.y()+T.height/2;let Z=Math.atan2(-a,s)+Math.PI/2;T.height<0&&(Z-=Math.PI);var N=Konva$2.getAngle(this.rotation());const te=N+Z,Ee=Konva$2.getAngle(this.rotationSnapTolerance()),ke=getSnap(this.rotationSnaps(),te,Ee)-T.rotation,Ae=rotateAroundCenter(T,ke);this._fitNodesInto(Ae,e);return}var r=this.keepRatio()||e.shiftKey,b=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(r){var B=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};f=Math.sqrt(Math.pow(B.x-d.x(),2)+Math.pow(B.y-d.y(),2));var w=this.findOne(".top-left").x()>B.x?-1:1,K=this.findOne(".top-left").y()>B.y?-1:1;s=f*this.cos*w,a=f*this.sin*K,this.findOne(".top-left").x(B.x-s),this.findOne(".top-left").y(B.y-a)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(d.y());else if(this._movingAnchorName==="top-right"){if(r){var B=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};f=Math.sqrt(Math.pow(d.x()-B.x,2)+Math.pow(B.y-d.y(),2));var w=this.findOne(".top-right").x()<B.x?-1:1,K=this.findOne(".top-right").y()>B.y?-1:1;s=f*this.cos*w,a=f*this.sin*K,this.findOne(".top-right").x(B.x+s),this.findOne(".top-right").y(B.y-a)}var U=d.position();this.findOne(".top-left").y(U.y),this.findOne(".bottom-right").x(U.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(d.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(d.x());else if(this._movingAnchorName==="bottom-left"){if(r){var B=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};f=Math.sqrt(Math.pow(B.x-d.x(),2)+Math.pow(d.y()-B.y,2));var w=B.x<d.x()?-1:1,K=d.y()<B.y?-1:1;s=f*this.cos*w,a=f*this.sin*K,d.x(B.x-s),d.y(B.y+a)}U=d.position(),this.findOne(".top-left").x(U.x),this.findOne(".bottom-right").y(U.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(d.y());else if(this._movingAnchorName==="bottom-right"){if(r){var B=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};f=Math.sqrt(Math.pow(d.x()-B.x,2)+Math.pow(d.y()-B.y,2));var w=this.findOne(".bottom-right").x()<B.x?-1:1,K=this.findOne(".bottom-right").y()<B.y?-1:1;s=f*this.cos*w,a=f*this.sin*K,this.findOne(".bottom-right").x(B.x+s),this.findOne(".bottom-right").y(B.y+a)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var b=this.centeredScaling()||e.altKey;if(b){var H=this.findOne(".top-left"),F=this.findOne(".bottom-right"),ee=H.x(),q=H.y(),W=this.getWidth()-F.x(),V=this.getHeight()-F.y();F.move({x:-ee,y:-q}),H.move({x:W,y:V})}var ae=this.findOne(".top-left").getAbsolutePosition();s=ae.x,a=ae.y;var se=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),re=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:s,y:a,width:se,height:re,rotation:Konva$2.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window!="undefined"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var s=this.getNode();this._fire("transformend",{evt:e,target:s}),s&&this._nodes.forEach(a=>{a._fire("transformend",{evt:e,target:a})}),this._movingAnchorName=null}}_fitNodesInto(e,s){var a=this._getNodeRect();const f=1;if(Util._inRange(e.width,-this.padding()*2-f,f)){this.update();return}if(Util._inRange(e.height,-this.padding()*2-f,f)){this.update();return}const d=this.flipEnabled();var _=new Transform;if(_.rotate(Konva$2.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const T=_.point({x:-this.padding()*2,y:0});if(e.x+=T.x,e.y+=T.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,!d){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const T=_.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.width+=this.padding()*2,!d){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const T=_.point({x:0,y:-this.padding()*2});if(e.x+=T.x,e.y+=T.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.height+=this.padding()*2,!d){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const T=_.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.height+=this.padding()*2,!d){this.update();return}}if(this.boundBoxFunc()){const T=this.boundBoxFunc()(a,e);T?e=T:Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const v=1e7,E=new Transform;E.translate(a.x,a.y),E.rotate(a.rotation),E.scale(a.width/v,a.height/v);const C=new Transform;C.translate(e.x,e.y),C.rotate(e.rotation),C.scale(e.width/v,e.height/v);const O=C.multiply(E.invert());this._nodes.forEach(T=>{var N;const r=T.getParent().getAbsoluteTransform(),b=T.getTransform().copy();b.translate(T.offsetX(),T.offsetY());const B=new Transform;B.multiply(r.copy().invert()).multiply(O).multiply(r).multiply(b);const w=B.decompose();T.setAttrs(w),this._fire("transform",{evt:s,target:T}),T._fire("transform",{evt:s,target:T}),(N=T.getLayer())===null||N===void 0||N.batchDraw()}),this.rotation(Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,s){this.findOne(e).setAttrs(s)}update(){var e,s=this._getNodeRect();this.rotation(Util._getRotation(s.rotation));var a=s.width,f=s.height,d=this.enabledAnchors(),_=this.resizeEnabled(),v=this.padding(),E=this.anchorSize();this.find("._anchor").forEach(C=>{C.setAttrs({width:E,height:E,offsetX:E/2,offsetY:E/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:E/2+v,offsetY:E/2+v,visible:_&&d.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:a/2,y:0,offsetY:E/2+v,visible:_&&d.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:a,y:0,offsetX:E/2-v,offsetY:E/2+v,visible:_&&d.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:f/2,offsetX:E/2+v,visible:_&&d.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:a,y:f/2,offsetX:E/2-v,visible:_&&d.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:f,offsetX:E/2+v,offsetY:E/2-v,visible:_&&d.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:a/2,y:f,offsetY:E/2-v,visible:_&&d.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:a,y:f,offsetX:E/2-v,offsetY:E/2-v,visible:_&&d.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:a/2,y:-this.rotateAnchorOffset()*Util._sign(f)-v,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:a,height:f,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node.prototype.toObject.call(this)}}function validateAnchors(t){return t instanceof Array||Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){ANCHORS_NAMES.indexOf(e)===-1&&Util.warn("Unknown anchor name: "+e+". Available names are: "+ANCHORS_NAMES.join(", "))}),t||[]}Transformer.prototype.className="Transformer";_registerNode(Transformer);Factory.addGetterSetter(Transformer,"enabledAnchors",ANCHORS_NAMES,validateAnchors);Factory.addGetterSetter(Transformer,"flipEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Transformer,"resizeEnabled",!0);Factory.addGetterSetter(Transformer,"anchorSize",10,getNumberValidator());Factory.addGetterSetter(Transformer,"rotateEnabled",!0);Factory.addGetterSetter(Transformer,"rotationSnaps",[]);Factory.addGetterSetter(Transformer,"rotateAnchorOffset",50,getNumberValidator());Factory.addGetterSetter(Transformer,"rotationSnapTolerance",5,getNumberValidator());Factory.addGetterSetter(Transformer,"borderEnabled",!0);Factory.addGetterSetter(Transformer,"anchorStroke","rgb(0, 161, 255)");Factory.addGetterSetter(Transformer,"anchorStrokeWidth",1,getNumberValidator());Factory.addGetterSetter(Transformer,"anchorFill","white");Factory.addGetterSetter(Transformer,"anchorCornerRadius",0,getNumberValidator());Factory.addGetterSetter(Transformer,"borderStroke","rgb(0, 161, 255)");Factory.addGetterSetter(Transformer,"borderStrokeWidth",1,getNumberValidator());Factory.addGetterSetter(Transformer,"borderDash");Factory.addGetterSetter(Transformer,"keepRatio",!0);Factory.addGetterSetter(Transformer,"centeredScaling",!1);Factory.addGetterSetter(Transformer,"ignoreStroke",!1);Factory.addGetterSetter(Transformer,"padding",0,getNumberValidator());Factory.addGetterSetter(Transformer,"node");Factory.addGetterSetter(Transformer,"nodes");Factory.addGetterSetter(Transformer,"boundBoxFunc");Factory.addGetterSetter(Transformer,"anchorDragBoundFunc");Factory.addGetterSetter(Transformer,"shouldOverdrawWholeArea",!1);Factory.addGetterSetter(Transformer,"useSingleNodeRotation",!0);Factory.backCompat(Transformer,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Wedge extends Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Konva$2.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Wedge.prototype.className="Wedge";Wedge.prototype._centroid=!0;Wedge.prototype._attrsAffectingSize=["radius"];_registerNode(Wedge);Factory.addGetterSetter(Wedge,"radius",0,getNumberValidator());Factory.addGetterSetter(Wedge,"angle",0,getNumberValidator());Factory.addGetterSetter(Wedge,"clockwise",!1);Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function filterGaussBlurRGBA(t,e){var s=t.data,a=t.width,f=t.height,d,_,v,E,C,O,T,N,r,b,B,w,K,U,H,F,ee,q,W,V,ae,se,re,Z,te=e+e+1,Ee=a-1,Me=f-1,ke=e+1,Ae=ke*(ke+1)/2,be=new BlurStack,Ke=null,xe=be,ie=null,He=null,Qe=mul_table[e],mt=shg_table[e];for(v=1;v<te;v++)xe=xe.next=new BlurStack,v===ke&&(Ke=xe);for(xe.next=be,T=O=0,_=0;_<f;_++){for(F=ee=q=W=N=r=b=B=0,w=ke*(V=s[O]),K=ke*(ae=s[O+1]),U=ke*(se=s[O+2]),H=ke*(re=s[O+3]),N+=Ae*V,r+=Ae*ae,b+=Ae*se,B+=Ae*re,xe=be,v=0;v<ke;v++)xe.r=V,xe.g=ae,xe.b=se,xe.a=re,xe=xe.next;for(v=1;v<ke;v++)E=O+((Ee<v?Ee:v)<<2),N+=(xe.r=V=s[E])*(Z=ke-v),r+=(xe.g=ae=s[E+1])*Z,b+=(xe.b=se=s[E+2])*Z,B+=(xe.a=re=s[E+3])*Z,F+=V,ee+=ae,q+=se,W+=re,xe=xe.next;for(ie=be,He=Ke,d=0;d<a;d++)s[O+3]=re=B*Qe>>mt,re!==0?(re=255/re,s[O]=(N*Qe>>mt)*re,s[O+1]=(r*Qe>>mt)*re,s[O+2]=(b*Qe>>mt)*re):s[O]=s[O+1]=s[O+2]=0,N-=w,r-=K,b-=U,B-=H,w-=ie.r,K-=ie.g,U-=ie.b,H-=ie.a,E=T+((E=d+e+1)<Ee?E:Ee)<<2,F+=ie.r=s[E],ee+=ie.g=s[E+1],q+=ie.b=s[E+2],W+=ie.a=s[E+3],N+=F,r+=ee,b+=q,B+=W,ie=ie.next,w+=V=He.r,K+=ae=He.g,U+=se=He.b,H+=re=He.a,F-=V,ee-=ae,q-=se,W-=re,He=He.next,O+=4;T+=a}for(d=0;d<a;d++){for(ee=q=W=F=r=b=B=N=0,O=d<<2,w=ke*(V=s[O]),K=ke*(ae=s[O+1]),U=ke*(se=s[O+2]),H=ke*(re=s[O+3]),N+=Ae*V,r+=Ae*ae,b+=Ae*se,B+=Ae*re,xe=be,v=0;v<ke;v++)xe.r=V,xe.g=ae,xe.b=se,xe.a=re,xe=xe.next;for(C=a,v=1;v<=e;v++)O=C+d<<2,N+=(xe.r=V=s[O])*(Z=ke-v),r+=(xe.g=ae=s[O+1])*Z,b+=(xe.b=se=s[O+2])*Z,B+=(xe.a=re=s[O+3])*Z,F+=V,ee+=ae,q+=se,W+=re,xe=xe.next,v<Me&&(C+=a);for(O=d,ie=be,He=Ke,_=0;_<f;_++)E=O<<2,s[E+3]=re=B*Qe>>mt,re>0?(re=255/re,s[E]=(N*Qe>>mt)*re,s[E+1]=(r*Qe>>mt)*re,s[E+2]=(b*Qe>>mt)*re):s[E]=s[E+1]=s[E+2]=0,N-=w,r-=K,b-=U,B-=H,w-=ie.r,K-=ie.g,U-=ie.b,H-=ie.a,E=d+((E=_+ke)<Me?E:Me)*a<<2,N+=F+=ie.r=s[E],r+=ee+=ie.g=s[E+1],b+=q+=ie.b=s[E+2],B+=W+=ie.a=s[E+3],ie=ie.next,w+=V=He.r,K+=ae=He.g,U+=se=He.b,H+=re=He.a,F-=V,ee-=ae,q-=se,W-=re,He=He.next,O+=a}}const Blur=function t(e){var s=Math.round(this.blurRadius());s>0&&filterGaussBlurRGBA(e,s)};Factory.addGetterSetter(Node,"blurRadius",0,getNumberValidator(),Factory.afterSetFilter);const Brighten=function(t){var e=this.brightness()*255,s=t.data,a=s.length,f;for(f=0;f<a;f+=4)s[f]+=e,s[f+1]+=e,s[f+2]+=e};Factory.addGetterSetter(Node,"brightness",0,getNumberValidator(),Factory.afterSetFilter);const Contrast=function(t){var e=Math.pow((this.contrast()+100)/100,2),s=t.data,a=s.length,f=150,d=150,_=150,v;for(v=0;v<a;v+=4)f=s[v],d=s[v+1],_=s[v+2],f/=255,f-=.5,f*=e,f+=.5,f*=255,d/=255,d-=.5,d*=e,d+=.5,d*=255,_/=255,_-=.5,_*=e,_+=.5,_*=255,f=f<0?0:f>255?255:f,d=d<0?0:d>255?255:d,_=_<0?0:_>255?255:_,s[v]=f,s[v+1]=d,s[v+2]=_};Factory.addGetterSetter(Node,"contrast",0,getNumberValidator(),Factory.afterSetFilter);const Emboss=function(t){var e=this.embossStrength()*10,s=this.embossWhiteLevel()*255,a=this.embossDirection(),f=this.embossBlend(),d=0,_=0,v=t.data,E=t.width,C=t.height,O=E*4,T=C;switch(a){case"top-left":d=-1,_=-1;break;case"top":d=-1,_=0;break;case"top-right":d=-1,_=1;break;case"right":d=0,_=1;break;case"bottom-right":d=1,_=1;break;case"bottom":d=1,_=0;break;case"bottom-left":d=1,_=-1;break;case"left":d=0,_=-1;break;default:Util.error("Unknown emboss direction: "+a)}do{var N=(T-1)*O,r=d;T+r<1&&(r=0),T+r>C&&(r=0);var b=(T-1+r)*E*4,B=E;do{var w=N+(B-1)*4,K=_;B+K<1&&(K=0),B+K>E&&(K=0);var U=b+(B-1+K)*4,H=v[w]-v[U],F=v[w+1]-v[U+1],ee=v[w+2]-v[U+2],q=H,W=q>0?q:-q,V=F>0?F:-F,ae=ee>0?ee:-ee;if(V>W&&(q=F),ae>W&&(q=ee),q*=e,f){var se=v[w]+q,re=v[w+1]+q,Z=v[w+2]+q;v[w]=se>255?255:se<0?0:se,v[w+1]=re>255?255:re<0?0:re,v[w+2]=Z>255?255:Z<0?0:Z}else{var te=s-q;te<0?te=0:te>255&&(te=255),v[w]=v[w+1]=v[w+2]=te}}while(--B)}while(--T)};Factory.addGetterSetter(Node,"embossStrength",.5,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossWhiteLevel",.5,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossDirection","top-left",null,Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossBlend",!1,null,Factory.afterSetFilter);function remap(t,e,s,a,f){var d=s-e,_=f-a,v;return d===0?a+_/2:_===0?a:(v=(t-e)/d,v=_*v+a,v)}const Enhance=function(t){var e=t.data,s=e.length,a=e[0],f=a,d,_=e[1],v=_,E,C=e[2],O=C,T,N,r=this.enhance();if(r!==0){for(N=0;N<s;N+=4)d=e[N+0],d<a?a=d:d>f&&(f=d),E=e[N+1],E<_?_=E:E>v&&(v=E),T=e[N+2],T<C?C=T:T>O&&(O=T);f===a&&(f=255,a=0),v===_&&(v=255,_=0),O===C&&(O=255,C=0);var b,B,w,K,U,H,F,ee,q;for(r>0?(B=f+r*(255-f),w=a-r*(a-0),U=v+r*(255-v),H=_-r*(_-0),ee=O+r*(255-O),q=C-r*(C-0)):(b=(f+a)*.5,B=f+r*(f-b),w=a+r*(a-b),K=(v+_)*.5,U=v+r*(v-K),H=_+r*(_-K),F=(O+C)*.5,ee=O+r*(O-F),q=C+r*(C-F)),N=0;N<s;N+=4)e[N+0]=remap(e[N+0],a,f,w,B),e[N+1]=remap(e[N+1],_,v,H,U),e[N+2]=remap(e[N+2],C,O,q,ee)}};Factory.addGetterSetter(Node,"enhance",0,getNumberValidator(),Factory.afterSetFilter);const Grayscale=function(t){var e=t.data,s=e.length,a,f;for(a=0;a<s;a+=4)f=.34*e[a]+.5*e[a+1]+.16*e[a+2],e[a]=f,e[a+1]=f,e[a+2]=f};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"luminance",0,getNumberValidator(),Factory.afterSetFilter);const HSL=function(t){var e=t.data,s=e.length,a=1,f=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,_=this.luminance()*127,v,E=a*f*Math.cos(d*Math.PI/180),C=a*f*Math.sin(d*Math.PI/180),O=.299*a+.701*E+.167*C,T=.587*a-.587*E+.33*C,N=.114*a-.114*E-.497*C,r=.299*a-.299*E-.328*C,b=.587*a+.413*E+.035*C,B=.114*a-.114*E+.293*C,w=.299*a-.3*E+1.25*C,K=.587*a-.586*E-1.05*C,U=.114*a+.886*E-.2*C,H,F,ee,q;for(v=0;v<s;v+=4)H=e[v+0],F=e[v+1],ee=e[v+2],q=e[v+3],e[v+0]=O*H+T*F+N*ee+_,e[v+1]=r*H+b*F+B*ee+_,e[v+2]=w*H+K*F+U*ee+_,e[v+3]=q},HSV=function(t){var e=t.data,s=e.length,a=Math.pow(2,this.value()),f=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,_,v=a*f*Math.cos(d*Math.PI/180),E=a*f*Math.sin(d*Math.PI/180),C=.299*a+.701*v+.167*E,O=.587*a-.587*v+.33*E,T=.114*a-.114*v-.497*E,N=.299*a-.299*v-.328*E,r=.587*a+.413*v+.035*E,b=.114*a-.114*v+.293*E,B=.299*a-.3*v+1.25*E,w=.587*a-.586*v-1.05*E,K=.114*a+.886*v-.2*E,U,H,F,ee;for(_=0;_<s;_+=4)U=e[_+0],H=e[_+1],F=e[_+2],ee=e[_+3],e[_+0]=C*U+O*H+T*F,e[_+1]=N*U+r*H+b*F,e[_+2]=B*U+w*H+K*F,e[_+3]=ee};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"value",0,getNumberValidator(),Factory.afterSetFilter);const Invert=function(t){var e=t.data,s=e.length,a;for(a=0;a<s;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2]};var ToPolar=function(t,e,s){var a=t.data,f=e.data,d=t.width,_=t.height,v=s.polarCenterX||d/2,E=s.polarCenterY||_/2,C,O,T,N=0,r=0,b=0,B=0,w,K=Math.sqrt(v*v+E*E);O=d-v,T=_-E,w=Math.sqrt(O*O+T*T),K=w>K?w:K;var U=_,H=d,F,ee,q=360/H*Math.PI/180,W,V;for(ee=0;ee<H;ee+=1)for(W=Math.sin(ee*q),V=Math.cos(ee*q),F=0;F<U;F+=1)O=Math.floor(v+K*F/U*V),T=Math.floor(E+K*F/U*W),C=(T*d+O)*4,N=a[C+0],r=a[C+1],b=a[C+2],B=a[C+3],C=(ee+F*d)*4,f[C+0]=N,f[C+1]=r,f[C+2]=b,f[C+3]=B},FromPolar=function(t,e,s){var a=t.data,f=e.data,d=t.width,_=t.height,v=s.polarCenterX||d/2,E=s.polarCenterY||_/2,C,O,T,N,r,b=0,B=0,w=0,K=0,U,H=Math.sqrt(v*v+E*E);O=d-v,T=_-E,U=Math.sqrt(O*O+T*T),H=U>H?U:H;var F=_,ee=d,q,W,V=s.polarRotation||0,ae,se;for(O=0;O<d;O+=1)for(T=0;T<_;T+=1)N=O-v,r=T-E,q=Math.sqrt(N*N+r*r)*F/H,W=(Math.atan2(r,N)*180/Math.PI+360+V)%360,W=W*ee/360,ae=Math.floor(W),se=Math.floor(q),C=(se*d+ae)*4,b=a[C+0],B=a[C+1],w=a[C+2],K=a[C+3],C=(T*d+O)*4,f[C+0]=b,f[C+1]=B,f[C+2]=w,f[C+3]=K};const Kaleidoscope=function(t){var e=t.width,s=t.height,a,f,d,_,v,E,C,O,T,N,r=Math.round(this.kaleidoscopePower()),b=Math.round(this.kaleidoscopeAngle()),B=Math.floor(e*(b%360)/360);if(!(r<1)){var w=Util.createCanvasElement();w.width=e,w.height=s;var K=w.getContext("2d").getImageData(0,0,e,s);ToPolar(t,K,{polarCenterX:e/2,polarCenterY:s/2});for(var U=e/Math.pow(2,r);U<=8;)U=U*2,r-=1;U=Math.ceil(U);var H=U,F=0,ee=H,q=1;for(B+U>e&&(F=H,ee=0,q=-1),f=0;f<s;f+=1)for(a=F;a!==ee;a+=q)d=Math.round(a+B)%e,T=(e*f+d)*4,v=K.data[T+0],E=K.data[T+1],C=K.data[T+2],O=K.data[T+3],N=(e*f+a)*4,K.data[N+0]=v,K.data[N+1]=E,K.data[N+2]=C,K.data[N+3]=O;for(f=0;f<s;f+=1)for(H=Math.floor(U),_=0;_<r;_+=1){for(a=0;a<H+1;a+=1)T=(e*f+a)*4,v=K.data[T+0],E=K.data[T+1],C=K.data[T+2],O=K.data[T+3],N=(e*f+H*2-a-1)*4,K.data[N+0]=v,K.data[N+1]=E,K.data[N+2]=C,K.data[N+3]=O;H*=2}FromPolar(K,t,{polarRotation:0})}};Factory.addGetterSetter(Node,"kaleidoscopePower",2,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"kaleidoscopeAngle",0,getNumberValidator(),Factory.afterSetFilter);function pixelAt(t,e,s){var a=(s*t.width+e)*4,f=[];return f.push(t.data[a++],t.data[a++],t.data[a++],t.data[a++]),f}function rgbDistance(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function rgbMean(t){for(var e=[0,0,0],s=0;s<t.length;s++)e[0]+=t[s][0],e[1]+=t[s][1],e[2]+=t[s][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function backgroundMask(t,e){var s=pixelAt(t,0,0),a=pixelAt(t,t.width-1,0),f=pixelAt(t,0,t.height-1),d=pixelAt(t,t.width-1,t.height-1),_=e||10;if(rgbDistance(s,a)<_&&rgbDistance(a,d)<_&&rgbDistance(d,f)<_&&rgbDistance(f,s)<_){for(var v=rgbMean([a,s,d,f]),E=[],C=0;C<t.width*t.height;C++){var O=rgbDistance(v,[t.data[C*4],t.data[C*4+1],t.data[C*4+2]]);E[C]=O<_?0:255}return E}}function applyMask(t,e){for(var s=0;s<t.width*t.height;s++)t.data[4*s+3]=e[s]}function erodeMask(t,e,s){for(var a=[1,1,1,1,0,1,1,1,1],f=Math.round(Math.sqrt(a.length)),d=Math.floor(f/2),_=[],v=0;v<s;v++)for(var E=0;E<e;E++){for(var C=v*e+E,O=0,T=0;T<f;T++)for(var N=0;N<f;N++){var r=v+T-d,b=E+N-d;if(r>=0&&r<s&&b>=0&&b<e){var B=r*e+b,w=a[T*f+N];O+=t[B]*w}}_[C]=O===255*8?255:0}return _}function dilateMask(t,e,s){for(var a=[1,1,1,1,1,1,1,1,1],f=Math.round(Math.sqrt(a.length)),d=Math.floor(f/2),_=[],v=0;v<s;v++)for(var E=0;E<e;E++){for(var C=v*e+E,O=0,T=0;T<f;T++)for(var N=0;N<f;N++){var r=v+T-d,b=E+N-d;if(r>=0&&r<s&&b>=0&&b<e){var B=r*e+b,w=a[T*f+N];O+=t[B]*w}}_[C]=O>=255*4?255:0}return _}function smoothEdgeMask(t,e,s){for(var a=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],f=Math.round(Math.sqrt(a.length)),d=Math.floor(f/2),_=[],v=0;v<s;v++)for(var E=0;E<e;E++){for(var C=v*e+E,O=0,T=0;T<f;T++)for(var N=0;N<f;N++){var r=v+T-d,b=E+N-d;if(r>=0&&r<s&&b>=0&&b<e){var B=r*e+b,w=a[T*f+N];O+=t[B]*w}}_[C]=O}return _}const Mask=function(t){var e=this.threshold(),s=backgroundMask(t,e);return s&&(s=erodeMask(s,t.width,t.height),s=dilateMask(s,t.width,t.height),s=smoothEdgeMask(s,t.width,t.height),applyMask(t,s)),t};Factory.addGetterSetter(Node,"threshold",0,getNumberValidator(),Factory.afterSetFilter);const Noise=function(t){var e=this.noise()*255,s=t.data,a=s.length,f=e/2,d;for(d=0;d<a;d+=4)s[d+0]+=f-2*f*Math.random(),s[d+1]+=f-2*f*Math.random(),s[d+2]+=f-2*f*Math.random()};Factory.addGetterSetter(Node,"noise",.2,getNumberValidator(),Factory.afterSetFilter);const Pixelate=function(t){var e=Math.ceil(this.pixelSize()),s=t.width,a=t.height,f,d,_,v,E,C,O,T=Math.ceil(s/e),N=Math.ceil(a/e),r,b,B,w,K,U,H,F=t.data;if(e<=0){Util.error("pixelSize value can not be <= 0");return}for(K=0;K<T;K+=1)for(U=0;U<N;U+=1){for(v=0,E=0,C=0,O=0,r=K*e,b=r+e,B=U*e,w=B+e,H=0,f=r;f<b;f+=1)if(!(f>=s))for(d=B;d<w;d+=1)d>=a||(_=(s*d+f)*4,v+=F[_+0],E+=F[_+1],C+=F[_+2],O+=F[_+3],H+=1);for(v=v/H,E=E/H,C=C/H,O=O/H,f=r;f<b;f+=1)if(!(f>=s))for(d=B;d<w;d+=1)d>=a||(_=(s*d+f)*4,F[_+0]=v,F[_+1]=E,F[_+2]=C,F[_+3]=O)}};Factory.addGetterSetter(Node,"pixelSize",8,getNumberValidator(),Factory.afterSetFilter);const Posterize=function(t){var e=Math.round(this.levels()*254)+1,s=t.data,a=s.length,f=255/e,d;for(d=0;d<a;d+=1)s[d]=Math.floor(s[d]/f)*f};Factory.addGetterSetter(Node,"levels",.5,getNumberValidator(),Factory.afterSetFilter);const RGB=function(t){var e=t.data,s=e.length,a=this.red(),f=this.green(),d=this.blue(),_,v;for(_=0;_<s;_+=4)v=(.34*e[_]+.5*e[_+1]+.16*e[_+2])/255,e[_]=v*a,e[_+1]=v*f,e[_+2]=v*d,e[_+3]=e[_+3]};Factory.addGetterSetter(Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Factory.addGetterSetter(Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Factory.addGetterSetter(Node,"blue",0,RGBComponent,Factory.afterSetFilter);const RGBA=function(t){var e=t.data,s=e.length,a=this.red(),f=this.green(),d=this.blue(),_=this.alpha(),v,E;for(v=0;v<s;v+=4)E=1-_,e[v]=a*_+e[v]*E,e[v+1]=f*_+e[v+1]*E,e[v+2]=d*_+e[v+2]*E};Factory.addGetterSetter(Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Factory.addGetterSetter(Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Factory.addGetterSetter(Node,"blue",0,RGBComponent,Factory.afterSetFilter);Factory.addGetterSetter(Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Sepia=function(t){var e=t.data,s=e.length,a,f,d,_;for(a=0;a<s;a+=4)f=e[a+0],d=e[a+1],_=e[a+2],e[a+0]=Math.min(255,f*.393+d*.769+_*.189),e[a+1]=Math.min(255,f*.349+d*.686+_*.168),e[a+2]=Math.min(255,f*.272+d*.534+_*.131)},Solarize=function(t){var e=t.data,s=t.width,a=t.height,f=s*4,d=a;do{var _=(d-1)*f,v=s;do{var E=_+(v-1)*4,C=e[E],O=e[E+1],T=e[E+2];C>127&&(C=255-C),O>127&&(O=255-O),T>127&&(T=255-T),e[E]=C,e[E+1]=O,e[E+2]=T}while(--v)}while(--d)},Threshold=function(t){var e=this.threshold()*255,s=t.data,a=s.length,f;for(f=0;f<a;f+=1)s[f]=s[f]<e?0:255};Factory.addGetterSetter(Node,"threshold",.5,getNumberValidator(),Factory.afterSetFilter);const Konva=Konva$1.Util._assign(Konva$1,{Arc,Arrow,Circle,Ellipse,Image,Label,Tag,Line,Path,Rect,RegularPolygon,Ring,Sprite,Star,Text,TextPath,Transformer,Wedge,Filters:{Blur,Brighten,Contrast,Emboss,Enhance,Grayscale,HSL,HSV,Invert,Kaleidoscope,Mask,Noise,Pixelate,Posterize,RGB,RGBA,Sepia,Solarize,Threshold}});var lib=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Konva}),require$$1=getAugmentedNamespace(lib);/*!
 * vue3-konva v2.1.7 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(t,e){(function(a,f){t.exports=f(require$$0,require$$1)})(commonjsGlobal,function(s,a){return function(f){var d={};function _(v){if(d[v])return d[v].exports;var E=d[v]={i:v,l:!1,exports:{}};return f[v].call(E.exports,E,E.exports,_),E.l=!0,E.exports}return _.m=f,_.c=d,_.d=function(v,E,C){_.o(v,E)||Object.defineProperty(v,E,{enumerable:!0,get:C})},_.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},_.t=function(v,E){if(E&1&&(v=_(v)),E&8||E&4&&typeof v=="object"&&v&&v.__esModule)return v;var C=Object.create(null);if(_.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:v}),E&2&&typeof v!="string")for(var O in v)_.d(C,O,function(T){return v[T]}.bind(null,O));return C},_.n=function(v){var E=v&&v.__esModule?function(){return v.default}:function(){return v};return _.d(E,"a",E),E},_.o=function(v,E){return Object.prototype.hasOwnProperty.call(v,E)},_.p="",_(_.s=1)}([function(f,d){f.exports=s},function(f,d,_){f.exports=_(3)},function(f,d){f.exports=a},function(f,d,_){_.r(d);var v=_(0);function E(se){var re=se.getLayer()||se.getStage();re&&re.batchDraw()}var C={key:!0,style:!0,elm:!0,isRootInsert:!0},O=".vue-konva-event";function T(se,re,Z,te){re===void 0&&(re={}),Z===void 0&&(Z={});var Ee=se.__konvaNode,Me={},ke=!1;for(var Ae in Z)if(!C[Ae]){var be=Ae.slice(0,2)==="on",Ke=Z[Ae]!==re[Ae];if(be&&Ke){var xe=Ae.substr(2).toLowerCase();xe.substr(0,7)==="content"&&(xe="content"+xe.substr(7,1).toUpperCase()+xe.substr(8)),Ee.off(xe+O,Z[Ae])}var ie=!re.hasOwnProperty(Ae);ie&&Ee.setAttr(Ae,void 0)}for(var He in re)if(!C[He]){var Qe=He.slice(0,2)==="on",mt=Z[He]!==re[He];if(Qe&&mt){var bt=He.substr(2).toLowerCase();bt.substr(0,7)==="content"&&(bt="content"+bt.substr(7,1).toUpperCase()+bt.substr(8)),re[He]&&(Ee.off(bt+O),Ee.on(bt+O,re[He]))}!Qe&&(re[He]!==Z[He]||te&&re[He]!==Ee.getAttr(He))&&(ke=!0,Me[He]=re[He])}ke&&(Ee.setAttrs(Me),E(Ee))}var N="v",r="_konvaNode";function b(se){function re(Z){return Z.__konvaNode?Z:Z.$parent?re(Z.$parent):{}}return re(se.$parent)}function B(se){return!se||!se.component||!se.component.ctx?null:se.component.ctx.__konvaNode}function w(se,re){var Z=!1,te=[];se.subTree.children&&se.subTree.children.forEach(function(Me){!Me.component&&Array.isArray(Me.children)&&te.push.apply(te,Me.children),Me.component&&te.push(Me)});var Ee=[];te.forEach(function(Me){var ke=B(Me);ke&&Ee.push(ke);var Ae=Me.elm,be=Me.componentInstance;if(Ae&&Ae.tagName&&be&&!ke){var Ke=Ae&&Ae.tagName.toLowerCase();console.error('vue-konva error: You are trying to render "'+Ke+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.')}}),Ee.forEach(function(Me,ke){Me.getZIndex()!==ke&&(Me.setZIndex(ke),Z=!0)}),Z&&E(re)}function K(){return K=Object.assign||function(se){for(var re=1;re<arguments.length;re++){var Z=arguments[re];for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&(se[te]=Z[te])}return se},K.apply(this,arguments)}var U={render:function(){var re,Z;return Object(v.h)("div",(re=(Z=this.$slots).default)===null||re===void 0?void 0:re.call(Z))},watch:{config:{handler:function(re){this.uploadKonva()},deep:!0}},props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},created:function(){this.__konvaNode=new window.Konva.Stage({width:this.config.width,height:this.config.height,container:document.createElement("div")})},mounted:function(){this.$el.innerHTML="",this.__konvaNode.container(this.$el),this.uploadKonva(),this.validateChildren()},updated:function(){this.uploadKonva(),this.uploadKonva(),w(this.$,this.__konvaNode)},beforeUnmount:function(){this.__konvaNode.destroy()},methods:{getNode:function(){return this.__konvaNode},getStage:function(){return this.__konvaNode},uploadKonva:function(){var re=this.oldProps||{},Z=K({},this.$attrs,this.config);T(this,Z,re,this.__useStrictMode),this.oldProps=Z},validateChildren:function(){}}};function H(){return H=Object.assign||function(se){for(var re=1;re<arguments.length;re++){var Z=arguments[re];for(var te in Z)Object.prototype.hasOwnProperty.call(Z,te)&&(se[te]=Z[te])}return se},H.apply(this,arguments)}var F=".vue-konva-event",ee={Group:!0,Layer:!0,FastLayer:!0,Label:!0},q=function(se){var re;return re={},re[r]=!0,re.render=function(){var te=ee[se];if(te){var Ee,Me;return Object(v.h)("template",(Ee=(Me=this.$slots).default)===null||Ee===void 0?void 0:Ee.call(Me))}return null},re.watch={config:{handler:function(te){this.uploadKonva()},deep:!0}},re.props={config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},re.created=function(){this.initKonva()},re.mounted=function(){var te=b(this),Ee=te.__konvaNode;Ee.add(this.__konvaNode),E(this.__konvaNode)},re.updated=function(){this.uploadKonva(),w(this.$,this.__konvaNode)},re.unmounted=function(){E(this.__konvaNode),this.__konvaNode.destroy(),this.__konvaNode.off(F)},re.methods={getNode:function(){return this.__konvaNode},getStage:function(){return this.__konvaNode},initKonva:function(){debugger;var te=window.Konva[se];if(!te){console.error("vue-konva error: Can not find node "+se);return}this.__konvaNode=new te,this.$.vnode.__konvaNode=this.__konvaNode,this.uploadKonva()},uploadKonva:function(){var te=this.oldProps||{},Ee=H({},this.$attrs,this.config);T(this,Ee,te,this.__useStrictMode),this.oldProps=Ee}},re};typeof window!="undefined"&&!window.Konva&&_(2);var W=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],V=[{name:"Stage",component:U}].concat(W.map(function(se){return{name:se,component:q(se)}})),ae={install:function(re,Z){var te=N;Z&&Z.prefix&&(te=Z.prefix),V.forEach(function(Ee){re.component(""+te+Ee.name,Ee.component)})}};d.default=ae}]).default})})(vue3Konva);var VueKonva=getDefaultExportFromCjs(vue3Konva.exports);export{Fragment as F,VueKonva as V,ref as a,resolveComponent as b,openBlock as c,createElementBlock as d,createVNode as e,renderList as f,createBlock as g,createBaseVNode as h,normalizeClass as i,asm as j,defineComponent as k,createCommentVNode as l,createApp as m,normalizeStyle as n,onMounted as o,reactive as r,toDisplayString as t,unref as u,withCtx as w};
