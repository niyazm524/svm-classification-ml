var F=Object.defineProperty;var M=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var T=(i,o,t)=>o in i?F(i,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[o]=t,x=(i,o)=>{for(var t in o||(o={}))K.call(o,t)&&T(i,t,o[t]);if(M)for(var t of M(o))j.call(o,t)&&T(i,t,o[t]);return i};import{r as q,a as B,o as z,b as S,c as p,d as v,e as L,w,F as b,f as k,g as N,u as _,h as f,n as J,t as I,i as R,j as O,k as W,l as G,m as H,V as Q}from"./vendor.7bd7d052.js";const U=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))d(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const h of e.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&d(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerpolicy&&(e.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?e.credentials="include":s.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function d(s){if(s.ep)return;s.ep=!0;const e=t(s);fetch(s.href,e)}};U();const Y={class:"root-page"},Z=["onClick"],X={style:{"margin-top":"8px"}},ee={style:{"padding-right":"24px","overflow-x":"auto"}},te={setup(i){function o(n){let l=n.length,c;for(;l!=0;)c=Math.floor(Math.random()*l),l--,[n[l],n[c]]=[n[c],n[l]];return n}const t={width:600,height:600},d=["red","blue","green","gray"],s={dot:{radius:5,fill:"red",stroke:"black",strokeWidth:1}},e=q({curColor:d[0],dots:[],svm:null,bg:null,predict:!1}),h=({layerX:n,layerY:l})=>{if(!e.predict)n&&l&&e.dots.push({x:n,y:l,fill:e.curColor});else{const c={x:n,y:l},m=e.svm.predictOne([c.x/t.width,c.y/t.height]);c.fill=d[m],e.dots.push(c)}},P=B([]),$=()=>{const n=[...new Set(e.dots.map(({fill:u})=>d.indexOf(u))).values()];console.log(n),e.svm=new O({kernel:O.KERNEL_TYPES.RBF,type:O.SVM_TYPES.C_SVC,gamma:1/n.length,cost:10,quiet:!1});const l=e.dots.map(({x:u,y:g,fill:E})=>({data:[u/t.width,g/t.height],label:d.indexOf(E)}));o(l);const c=[],m=[],y=[],r=[];for(const{data:u,label:g}of l)Math.random()<=.1?(y.push(u),r.push(g)):(c.push(u),m.push(g));console.log("Train",c,m),console.log("Test",y,r),e.svm.train(c,m);const a=e.svm.predict(y);console.log("test prediction",a),console.table("test results",r.map((u,g)=>({val:u,prd:a[g]})));let C=0;for(const[u,g]of a.entries())r[u]===g&&C++;const D=C/r.length;console.info(`Accuracy for test dataset is ${D}`)},A=()=>{localStorage.setItem("dots",JSON.stringify(e.dots))},V=()=>{const n=localStorage.getItem("dots");n&&(e.dots=JSON.parse(n))};return z(V),(n,l)=>{const c=S("v-circle"),m=S("v-layer"),y=S("v-stage");return p(),v("div",Y,[L(y,{config:t,title:"",style:{"margin-bottom":"16px"},onClick:h},{default:w(()=>[L(m,null,{default:w(()=>[(p(!0),v(b,null,k(_(e).bg,(r,a)=>(p(),N(c,{key:a,config:r},null,8,["config"]))),128))]),_:1}),L(m,null,{default:w(()=>[(p(!0),v(b,null,k(_(e).dots,(r,a)=>(p(),N(c,{key:a,config:x(x({},s.dot),r)},null,8,["config"]))),128))]),_:1})]),_:1}),f("div",null,[(p(),v(b,null,k(d,(r,a)=>f("button",{key:a,class:"color-btn",style:J({"background-color":r}),onClick:C=>_(e).curColor=r},I(r),13,Z)),64))]),f("div",X,[f("button",{onClick:$},"train"),f("button",{onClick:A},"save state"),f("button",{onClick:V},"load state"),f("button",{onClick:l[0]||(l[0]=r=>_(e).dots=[])},"clear"),f("button",{onClick:l[1]||(l[1]=r=>_(e).predict=!_(e).predict),class:R({toggled:_(e).predict})},"predict",2)]),f("ol",ee,[(p(!0),v(b,null,k(P.value,(r,a)=>(p(),v("li",{key:a},I(r),1))),128))])])}}};const oe=W({setup(i){const o=B("svm");return(t,d)=>o.value==="svm"?(p(),N(te,{key:0})):G("",!0)}});H(oe).use(Q).mount("#app");
